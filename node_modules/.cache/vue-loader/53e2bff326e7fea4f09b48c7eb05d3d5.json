{"remainingRequest":"D:\\VueAutomatedTestPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\VueAutomatedTestPlatform\\src\\components\\page\\uiAutomation\\uiTask\\addOrEditUiTestTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\VueAutomatedTestPlatform\\src\\components\\page\\uiAutomation\\uiTask\\addOrEditUiTestTask.vue","mtime":1652877133466},{"path":"D:\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652877126456},{"path":"D:\\VueAutomatedTestPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":1652877125945},{"path":"D:\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652877126456},{"path":"D:\\VueAutomatedTestPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":1652877132787}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBhZGRVaVRlc3RUYXNrUmVxdWVzdCwgZ2V0VWlDYXNlVHJlZVJlcXVlc3QsIGdldFNpbmdsZVVpVGVzdFRhc2tSZXF1ZXN0LHVwZGF0ZVNpbmdsZVVpVGVzdFRhc2tSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vLi4vLi4vYXBpL3VpQXV0b21hdGlvbi91aVRlc3RUYXNrJzsNCg0KDQpleHBvcnQgZGVmYXVsdCB7DQoNCiAgaW5qZWN0OlsncmVsb2FkJ10sDQogIG5hbWU6ICdhZGRPckVkaXRVaVRlc3RUYXNrJywNCiAgcHJvcHM6IFsndHlwZScsICd1aVRlc3RUYXNrSWQnLCAndWlUZXN0VGFza0RhdGEnLCAncHJvamVjdElkJ10sDQogIGRhdGEoKXsNCg0KICAgIHJldHVybnsNCiAgICAgIHVpVGVzdFRhc2tGb3JtOiB7DQogICAgICAgIHVpX3Rlc3RfdGFza19uYW1lOiAiIiwNCiAgICAgICAgdWlfdGVzdF90YXNrX2lkOiAiIiwNCiAgICAgICAgZGVzY3JpYmU6ICIiDQoNCiAgICAgIH0sDQogICAgICBjb3VudDoiIiwvL+WAkuiuoeaXtg0KDQogICAgICBkYXRhOiBbXSwNCg0KICAgICAgZGVmYXVsdFByb3BzOiB7DQogICAgICAgIGxhYmVsOiAibGFiZWwiLA0KICAgICAgICBjaGlsZHJlbjogImNoaWxkcmVuIg0KDQogICAgICB9LA0KDQogICAgICBjYXNlczogW10sDQogICAgICBkZWZhdWx0VGFzazogW10sDQogICAgICB1aV9wcm9qZWN0X2lkOiAiIg0KDQoNCiAgICB9DQoNCg0KICB9LA0KICBtb3VudGVkKCkgew0KDQoNCiAgfSwNCiAgbWV0aG9kczogew0KDQoNCiAgICAvL+S/neWtmOa1i+ivleS7u+WKoQ0KICAgIHNhdmVVaVRlc3RUYXNrKCl7DQogICAgICBpZiAoJ2FkZCc9PT10aGlzLnR5cGUpew0KICAgICAgICB0aGlzLmFkZFVpVGVzdFRhc2soKQ0KDQogICAgICB9ZWxzZSB7DQogICAgICAgIHRoaXMuZWRpdFVpVGVzdFRhc2soKQ0KICAgICAgfQ0KDQoNCiAgICB9LA0KDQogICAgaGFuZGxlQnVja2V0Q2xpY2soZGF0YSl7DQogICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLnVpX3Rlc3RfY2FzZXNfaWQpDQoNCiAgICB9LA0KDQoNCiAgICAvL+WPlua2iOS/neWtmOa1i+ivleS7u+WKoQ0KICAgIGNhbmNlbFNhdmVVaVRlc3RUYXNrKCl7DQoNCiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbFNhdmVVaVRlc3RUYXNrJykNCg0KDQogICAgfSwNCg0KICAgIC8v5Yib5bu65rWL6K+V5Lu75YqhDQogICAgYWRkVWlUZXN0VGFzaygpew0KICAgICAgdGhpcy51aVRlc3RUYXNrRm9ybS51aV90ZXN0X3Rhc2tfaWQgPSAwOw0KDQogICAgICBsZXQgcmVxID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnVpVGVzdFRhc2tGb3JtKSk7DQoNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMudHJlZS5nZXRDaGVja2VkTm9kZXModHJ1ZSkpDQogICAgICBsZXQgY2FzZV9pZCA9IHRoaXMuJHJlZnMudHJlZS5nZXRDaGVja2VkTm9kZXModHJ1ZSkNCiAgICAgIHRoaXMuY2FzZXMgPSBbXQ0KICAgICAgZm9yIChsZXQgaT0wOyBpPGNhc2VfaWQubGVuZ3RoO2krKyl7DQogICAgICAgIHRoaXMuY2FzZXNbaV0gPSBjYXNlX2lkW2ldLnVpX3Rlc3RfY2FzZXNfaWQNCg0KICAgICAgfQ0KICAgICAgY29uc29sZS5sb2coIui/meaYr2Nhc2VzIiwgdGhpcy5jYXNlcykNCg0KICAgICAgcmVxLmNhc2VzID0gdGhpcy5jYXNlcw0KICAgICAgcmVxLnVpX3Byb2plY3RfaWQgPSAgdGhpcy51aV9wcm9qZWN0X2lkDQoNCg0KICAgICAgY29uc29sZS5sb2coIui/meaYr+iOt+WPluWIsOeahCIscmVxKTsNCiAgICAgIHRoaXMuJHJlZnMudWlUZXN0VGFza0Zvcm1SZWYudmFsaWRhdGUoKHZhbGlkKSA9PiB7DQoNCiAgICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy51aVRlc3RUYXNrRm9ybVJlZi52YWxpZGF0ZSgodmFsaWQpKSk7DQogICAgICAgIGlmICh2YWxpZCkgeyAvLyDku6PooajmoKHpqozpgJrov4cNCiAgICAgICAgICBhZGRVaVRlc3RUYXNrUmVxdWVzdChyZXEpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQ0KICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75YqgVUnmtYvor5Xku7vliqHmiJDlip8iKQ0KICAgICAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOw0KICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzYXZlVWlUZXN0VGFzaycpDQoNCg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5re75YqgVUnmtYvor5Xku7vliqHlpLHotKUiKQ0KICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzYXZlVWlUZXN0VGFzaycpDQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2UgeyAgLy/moKHpqozlpLHotKUNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgfSk7DQoNCiAgICB9LA0KDQogICAgLy/nvJbovpHmtYvor5Xku7vliqENCiAgICBlZGl0VWlUZXN0VGFzaygpew0KDQogICAgICBsZXQgcmVxID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnVpVGVzdFRhc2tGb3JtKSk7DQoNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMudHJlZS5nZXRDaGVja2VkTm9kZXModHJ1ZSkpDQogICAgICBsZXQgY2FzZV9pZCA9IHRoaXMuJHJlZnMudHJlZS5nZXRDaGVja2VkTm9kZXModHJ1ZSkNCiAgICAgIHRoaXMuY2FzZXMgPSBbXQ0KICAgICAgZm9yIChsZXQgaT0wOyBpPGNhc2VfaWQubGVuZ3RoO2krKyl7DQogICAgICAgIHRoaXMuY2FzZXNbaV0gPSBjYXNlX2lkW2ldLnVpX3Rlc3RfY2FzZXNfaWQNCg0KICAgICAgfQ0KICAgICAgY29uc29sZS5sb2coIui/meaYr2Nhc2VzIiwgdGhpcy5jYXNlcykNCg0KICAgICAgcmVxLmNhc2VzID0gdGhpcy5jYXNlcw0KICAgICAgcmVxLnVpX3Byb2plY3RfaWQgPSAgdGhpcy51aV9wcm9qZWN0X2lkDQoNCg0KDQogICAgICBjb25zb2xlLmxvZygi6L+Z5piv6I635Y+W5Yiw55qEIixyZXEpOw0KICAgICAgdGhpcy4kcmVmcy51aVRlc3RUYXNrRm9ybVJlZi52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coIui/meaYr2lk77yaIix0aGlzLnVpVGVzdFRhc2tGb3JtLnVpX3Rlc3RfdGFza19pZCkNCiAgICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy51aVRlc3RUYXNrRm9ybVJlZi52YWxpZGF0ZSgodmFsaWQpKSk7DQogICAgICAgIGlmICh2YWxpZCkgeyAvLyDku6PooajmoKHpqozpgJrov4cNCiAgICAgICAgICB1cGRhdGVTaW5nbGVVaVRlc3RUYXNrUmVxdWVzdCh0aGlzLnVpVGVzdFRhc2tGb3JtLnVpX3Rlc3RfdGFza19pZCxyZXEpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQ0KICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgIHRoaXMuc2hvd0FkZE9yRWRpdFVpVGVzdENhc2UgPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLnvJbovpFVSea1i+ivleS7u+WKoeaIkOWKnyIpDQoNCiAgICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIue8lui+kVVJ5rWL6K+V5Lu75Yqh5aSx6LSlIikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2UgeyAgLy/moKHpqozlpLHotKUNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kZW1pdCgnc2F2ZVVpVGVzdFRhc2snKQ0KDQoNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICAvL+iOt+WPlua1i+ivleeUqOS+i+agkeW9oue7k+aehA0KICAgIGdldFVpQ2FzZVRyZWVGdW4oKXsNCiAgICAgIGNvbnNvbGUubG9nKCJ6aGVzYWhvaWRzaGFzZCIsdGhpcy51aV9wcm9qZWN0X2lkKQ0KICAgICAgZ2V0VWlDYXNlVHJlZVJlcXVlc3QodGhpcy51aV9wcm9qZWN0X2lkKS50aGVuKGRhdGEgPT57DQogICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2Vzcyl7DQogICAgICAgICAgbGV0IHVpVGVzdFRhc2sgPSBkYXRhLmRhdGEuZGF0YTsNCiAgICAgICAgICBsZXQgcmVxID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh1aVRlc3RUYXNrKSk7DQogICAgICAgICAgY29uc29sZS5sb2coInVpVGVzdFRhc2vvvJoiLCByZXEpDQogICAgICAgICAgZm9yKHZhciBpID0wO2k8cmVxLmxlbmd0aDtpKyspew0KICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gcmVxW2ldLmNoaWxkcmVuDQogICAgICAgICAgICByZXFbaV0ubGFiZWwgPSByZXFbaV0udWlfcHJvamVjdF9uYW1lDQoNCiAgICAgICAgICAgIGZvcih2YXIgaj0wO2o8Y2hpbGRyZW4ubGVuZ3RoO2orKyl7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNoaWxkcmVuLmxlbmd0aCkNCiAgICAgICAgICAgICAgcmVxW2ldLmNoaWxkcmVuW2pdLmxhYmVsID0gcmVxW2ldLmNoaWxkcmVuW2pdLnVpX3Rlc3RfY2FzZV9uYW1lDQogICAgICAgICAgICAgIHJlcVtpXS5jaGlsZHJlbltqXS5pZCA9IHJlcVtpXS5jaGlsZHJlbltqXS51aV90ZXN0X2Nhc2VzX2lkDQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICAgIGNvbnNvbGUubG9nKCJ1aVRlc3RUYXNrMjIyMjIyMjIy77yaIiwgcmVxKQ0KICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcQ0KICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCLojrflj5bmjqXlj6PlpLHotKUiKQ0KICAgICAgICB9DQoNCiAgICAgIH0pDQoNCiAgICB9LA0KDQogICAgLy8g6I635Y+W5Y2V54us5rWL6K+V5Lu75Yqh5L+h5oGvDQogICAgZ2V0U2luZ2xlVWlUZXN0VGFza0Z1bigpIHsNCiAgICAgIGdldFNpbmdsZVVpVGVzdFRhc2tSZXF1ZXN0KHRoaXMudWlUZXN0VGFza0Zvcm0udWlfdGVzdF90YXNrX2lkKS50aGVuKGRhdGEgPT57DQogICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2Vzcyl7DQogICAgICAgICAgbGV0IHVpVGVzdFRhc2sgPSBkYXRhLmRhdGEuZGF0YTsNCiAgICAgICAgICBjb25zb2xlLmxvZyh1aVRlc3RUYXNrKQ0KDQoNCiAgICAgICAgICBsZXQgcmVxID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh1aVRlc3RUYXNrKSk7DQogICAgICAgICAgY29uc29sZS5sb2coInVpVGVzdFRhc2syMzMzMzMzMzMzMzMz77yaIiwgcmVxLmNhc2VzKQ0KDQoNCiAgICAgICAgICB0aGlzLmRlZmF1bHRUYXNrID0gSlNPTi5wYXJzZShkYXRhLmRhdGEuZGF0YS5jYXNlcykNCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRlZmF1bHRUYXNrKQ0KDQogICAgICAgICAgY29uc29sZS5sb2codHlwZW9mICh0aGlzLmRlZmF1bHRUYXNrKSkNCg0KDQogICAgICAgICAgY29uc29sZS5sb2coIui/meaYr+m7mOiupOmAieS4rei/lOWbnuW+l+aVsOaNru+8miIsIHRoaXMuZGVmYXVsdFRhc2spDQoNCg0KDQogICAgICAgIH1lbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bmjqXlj6PlpLHotKUiKQ0KICAgICAgICB9DQoNCiAgICAgIH0pDQogICAgfSwNCg0KICAgIGdldENoZWNrZWRLZXlzKCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy50cmVlLmdldENoZWNrZWRLZXlzKCkpOw0KDQogICAgfSwNCiAgICBzZXRDaGVja2VkS2V5cygpew0KICAgICAgdGhpcy4kcmVmcy50cmVlLnNldENoZWNrZWRLZXlzKFtdKTsNCiAgICB9DQoNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCg0KDQogICAgaWYgKCdlZGl0Jz09PXRoaXMudHlwZSl7DQogICAgICBjb25zb2xlLmxvZygi57yW6L6R5rWL6K+V5Lu75YqhMjIyMjIyIikNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMudWlUZXN0VGFza0RhdGEpDQogICAgICB0aGlzLnVpX3Byb2plY3RfaWQgPSB0aGlzLnByb2plY3RJZA0KICAgICAgdGhpcy51aVRlc3RUYXNrRm9ybSA9IHsNCiAgICAgICAgdWlfdGVzdF90YXNrX25hbWU6IHRoaXMudWlUZXN0VGFza0RhdGEudWlfdGVzdF90YXNrX25hbWUsDQogICAgICAgIHVpX3Rlc3RfdGFza19pZDogdGhpcy51aVRlc3RUYXNrRGF0YS5pZCwNCiAgICAgICAgZGVzY3JpYmU6IHRoaXMudWlUZXN0VGFza0RhdGEuZGVzY3JpYmUNCg0KICAgICAgfQ0KICAgICAgY29uc29sZS5sb2coIue8lui+kea1i+ivleS7u+WKoSIpDQogICAgICBjb25zb2xlLmxvZygi57yW6L6R5rWL6K+V5Lu75YqhIix0aGlzLnVpVGVzdFRhc2tGb3JtLnVpX3Rlc3RfdGFza19pZCApDQogICAgICB0aGlzLmdldFVpQ2FzZVRyZWVGdW4oKQ0KICAgICAgdGhpcy5nZXRTaW5nbGVVaVRlc3RUYXNrRnVuKCkNCg0KDQoNCg0KICAgIH0NCg0KICAgIGlmICgnYWRkJz09PXRoaXMudHlwZSl7DQogICAgICBjb25zb2xlLmxvZygi5paw5aKe5rWL6K+V5Lu75YqhIiwgdGhpcy5wcm9qZWN0SWQpDQogICAgICB0aGlzLnVpX3Byb2plY3RfaWQgPSB0aGlzLnByb2plY3RJZA0KDQogICAgICB0aGlzLmdldFVpQ2FzZVRyZWVGdW4oKQ0KDQoNCg0KICAgIH0NCg0KDQoNCg0KICB9LA0KfTsNCg=="},{"version":3,"sources":["addOrEditUiTestTask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;;AAGA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;;AAEA;;;AAGA;;;;AAIA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;;AAEA;AACA;AACA;;AAEA;;;;AAIA;;;;;AAKA;AACA","file":"addOrEditUiTestTask.vue","sourceRoot":"src/components/page/uiAutomation/uiTask","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"crumbs\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item>\r\n          <i class=\"el-icon-lx-calendar\"></i> UI任务管理\r\n        </el-breadcrumb-item>\r\n        <el-breadcrumb-item>UI任务管理</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <el-form  ref=\"uiTestTaskFormRef\" :model=\"uiTestTaskForm\" label-width=\"100px\">\r\n      <el-form-item label=\"UI测试任务\"  prop=\"ui_test_task_name\">\r\n        <el-input v-model=\"uiTestTaskForm.ui_test_task_name\"  class=\"ui_test_task_name\" ></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"描述\" prop=\"describe\">\r\n        <el-input type=\"textarea\" v-model=\"uiTestTaskForm.describe\" style=\"width: 230px;\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"UI测试用例\">\r\n        <el-tree\r\n            :data=\"data\"\r\n            show-checkbox\r\n            node-key=\"id\"\r\n            :props=\"defaultProps\"\r\n\r\n            ref=\"tree\"\r\n            @check-change=\"handleBucketClick\"\r\n            :default-expanded-keys=\"[]\"\r\n            :default-checked-keys=\"defaultTask\"\r\n\r\n            style=\"width: 500px;\">\r\n        </el-tree>\r\n      </el-form-item>\r\n\r\n\r\n      <div class=\"page-element-class\">\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"saveUiTestTask\">保存</el-button>\r\n          <el-button type=\"default\" @click=\"cancelSaveUiTestTask\">取消</el-button>\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport { addUiTestTaskRequest, getUiCaseTreeRequest, getSingleUiTestTaskRequest,updateSingleUiTestTaskRequest } from '../../../../api/uiAutomation/uiTestTask';\r\n\r\n\r\nexport default {\r\n\r\n  inject:['reload'],\r\n  name: 'addOrEditUiTestTask',\r\n  props: ['type', 'uiTestTaskId', 'uiTestTaskData', 'projectId'],\r\n  data(){\r\n\r\n    return{\r\n      uiTestTaskForm: {\r\n        ui_test_task_name: \"\",\r\n        ui_test_task_id: \"\",\r\n        describe: \"\"\r\n\r\n      },\r\n      count:\"\",//倒计时\r\n\r\n      data: [],\r\n\r\n      defaultProps: {\r\n        label: \"label\",\r\n        children: \"children\"\r\n\r\n      },\r\n\r\n      cases: [],\r\n      defaultTask: [],\r\n      ui_project_id: \"\"\r\n\r\n\r\n    }\r\n\r\n\r\n  },\r\n  mounted() {\r\n\r\n\r\n  },\r\n  methods: {\r\n\r\n\r\n    //保存测试任务\r\n    saveUiTestTask(){\r\n      if ('add'===this.type){\r\n        this.addUiTestTask()\r\n\r\n      }else {\r\n        this.editUiTestTask()\r\n      }\r\n\r\n\r\n    },\r\n\r\n    handleBucketClick(data){\r\n      // console.log(data.ui_test_cases_id)\r\n\r\n    },\r\n\r\n\r\n    //取消保存测试任务\r\n    cancelSaveUiTestTask(){\r\n\r\n      this.$emit('cancelSaveUiTestTask')\r\n\r\n\r\n    },\r\n\r\n    //创建测试任务\r\n    addUiTestTask(){\r\n      this.uiTestTaskForm.ui_test_task_id = 0;\r\n\r\n      let req = JSON.parse(JSON.stringify(this.uiTestTaskForm));\r\n\r\n      console.log(this.$refs.tree.getCheckedNodes(true))\r\n      let case_id = this.$refs.tree.getCheckedNodes(true)\r\n      this.cases = []\r\n      for (let i=0; i<case_id.length;i++){\r\n        this.cases[i] = case_id[i].ui_test_cases_id\r\n\r\n      }\r\n      console.log(\"这是cases\", this.cases)\r\n\r\n      req.cases = this.cases\r\n      req.ui_project_id =  this.ui_project_id\r\n\r\n\r\n      console.log(\"这是获取到的\",req);\r\n      this.$refs.uiTestTaskFormRef.validate((valid) => {\r\n\r\n        console.log(this.$refs.uiTestTaskFormRef.validate((valid)));\r\n        if (valid) { // 代表校验通过\r\n          addUiTestTaskRequest(req).then(data => {\r\n            console.log(data)\r\n            if (true === data.data.success) {\r\n              this.$message.success(\"添加UI测试任务成功\")\r\n              this.$forceUpdate();\r\n              this.$emit('saveUiTestTask')\r\n\r\n\r\n            } else {\r\n              this.$message.error(\"添加UI测试任务失败\")\r\n              this.$emit('saveUiTestTask')\r\n\r\n            }\r\n          })\r\n        } else {  //校验失败\r\n          return false;\r\n        }\r\n\r\n      });\r\n\r\n    },\r\n\r\n    //编辑测试任务\r\n    editUiTestTask(){\r\n\r\n      let req = JSON.parse(JSON.stringify(this.uiTestTaskForm));\r\n\r\n      console.log(this.$refs.tree.getCheckedNodes(true))\r\n      let case_id = this.$refs.tree.getCheckedNodes(true)\r\n      this.cases = []\r\n      for (let i=0; i<case_id.length;i++){\r\n        this.cases[i] = case_id[i].ui_test_cases_id\r\n\r\n      }\r\n      console.log(\"这是cases\", this.cases)\r\n\r\n      req.cases = this.cases\r\n      req.ui_project_id =  this.ui_project_id\r\n\r\n\r\n\r\n      console.log(\"这是获取到的\",req);\r\n      this.$refs.uiTestTaskFormRef.validate((valid) => {\r\n        console.log(\"这是id：\",this.uiTestTaskForm.ui_test_task_id)\r\n        console.log(this.$refs.uiTestTaskFormRef.validate((valid)));\r\n        if (valid) { // 代表校验通过\r\n          updateSingleUiTestTaskRequest(this.uiTestTaskForm.ui_test_task_id,req).then(data => {\r\n            console.log(data)\r\n            if (true === data.data.success) {\r\n              this.showAddOrEditUiTestCase = false;\r\n              this.$message.success(\"编辑UI测试任务成功\")\r\n\r\n              this.$forceUpdate();\r\n            } else {\r\n              this.$message.error(\"编辑UI测试任务失败\")\r\n            }\r\n          })\r\n        } else {  //校验失败\r\n          return false;\r\n        }\r\n        this.$emit('saveUiTestTask')\r\n\r\n\r\n      });\r\n    },\r\n\r\n    //获取测试用例树形结构\r\n    getUiCaseTreeFun(){\r\n      console.log(\"zhesahoidshasd\",this.ui_project_id)\r\n      getUiCaseTreeRequest(this.ui_project_id).then(data =>{\r\n        if (true === data.data.success){\r\n          let uiTestTask = data.data.data;\r\n          let req = JSON.parse(JSON.stringify(uiTestTask));\r\n          console.log(\"uiTestTask：\", req)\r\n          for(var i =0;i<req.length;i++){\r\n            let children = req[i].children\r\n            req[i].label = req[i].ui_project_name\r\n\r\n            for(var j=0;j<children.length;j++){\r\n              console.log(children.length)\r\n              req[i].children[j].label = req[i].children[j].ui_test_case_name\r\n              req[i].children[j].id = req[i].children[j].ui_test_cases_id\r\n            }\r\n          }\r\n          console.log(\"uiTestTask222222222：\", req)\r\n          this.data = req\r\n        }else {\r\n          this.$message.info(\"获取接口失败\")\r\n        }\r\n\r\n      })\r\n\r\n    },\r\n\r\n    // 获取单独测试任务信息\r\n    getSingleUiTestTaskFun() {\r\n      getSingleUiTestTaskRequest(this.uiTestTaskForm.ui_test_task_id).then(data =>{\r\n        if (true === data.data.success){\r\n          let uiTestTask = data.data.data;\r\n          console.log(uiTestTask)\r\n\r\n\r\n          let req = JSON.parse(JSON.stringify(uiTestTask));\r\n          console.log(\"uiTestTask2333333333333：\", req.cases)\r\n\r\n\r\n          this.defaultTask = JSON.parse(data.data.data.cases)\r\n          console.log(this.defaultTask)\r\n\r\n          console.log(typeof (this.defaultTask))\r\n\r\n\r\n          console.log(\"这是默认选中返回得数据：\", this.defaultTask)\r\n\r\n\r\n\r\n        }else {\r\n          this.$message.error(\"获取接口失败\")\r\n        }\r\n\r\n      })\r\n    },\r\n\r\n    getCheckedKeys() {\r\n      console.log(this.$refs.tree.getCheckedKeys());\r\n\r\n    },\r\n    setCheckedKeys(){\r\n      this.$refs.tree.setCheckedKeys([]);\r\n    }\r\n\r\n  },\r\n  created() {\r\n\r\n\r\n    if ('edit'===this.type){\r\n      console.log(\"编辑测试任务222222\")\r\n      console.log(this.uiTestTaskData)\r\n      this.ui_project_id = this.projectId\r\n      this.uiTestTaskForm = {\r\n        ui_test_task_name: this.uiTestTaskData.ui_test_task_name,\r\n        ui_test_task_id: this.uiTestTaskData.id,\r\n        describe: this.uiTestTaskData.describe\r\n\r\n      }\r\n      console.log(\"编辑测试任务\")\r\n      console.log(\"编辑测试任务\",this.uiTestTaskForm.ui_test_task_id )\r\n      this.getUiCaseTreeFun()\r\n      this.getSingleUiTestTaskFun()\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    if ('add'===this.type){\r\n      console.log(\"新增测试任务\", this.projectId)\r\n      this.ui_project_id = this.projectId\r\n\r\n      this.getUiCaseTreeFun()\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ui_test_task_name{\r\n  width: 230px;\r\n}\r\n\r\n</style>"]}]}