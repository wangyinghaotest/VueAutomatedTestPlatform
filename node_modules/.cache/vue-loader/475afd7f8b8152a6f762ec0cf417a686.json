{"remainingRequest":"E:\\test-platform-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\test-platform-vue\\src\\components\\page\\apiAutomation\\apiBusinessTest\\addOrEditApiBusinessTest.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\test-platform-vue\\src\\components\\page\\apiAutomation\\apiBusinessTest\\addOrEditApiBusinessTest.vue","mtime":1652877133450},{"path":"E:\\test-platform-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652877126456},{"path":"E:\\test-platform-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1652877125945},{"path":"E:\\test-platform-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652877126456},{"path":"E:\\test-platform-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1652877132787}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICAgIGdldFNlbGVjdEFwaUJ1c2luZXNzVGVzdFJlcXVlc3QsDQogICAgYWRkQXBpQnVzaW5lc3NUZXN0UmVxdWVzdCwNCiAgICB1cGRhdGVCdXNpbmVzc1Rlc3RSZXF1ZXN0LA0KICAgIGdldFNpbmdsZUFwaUJ1c2luZXNzVGVzdFJlcXVlc3QsDQogICAgcG9zdEFwaUJ1c2luZXNzVGVzdERlQnVnUmVxdWVzdA0KfSBmcm9tICcuLi8uLi8uLi8uLi9hcGkvYXBpQXV0b21hdGlvbi9hcGlCdXNpbmVzc1Rlc3QnOw0KaW1wb3J0IFNvcnRhYmxlIGZyb20gJ3NvcnRhYmxlanMnOw0KaW1wb3J0IHsgZ2V0QXBpRW52aXJvbm1lbnRSZXF1ZXN0IH0gZnJvbSAnLi4vLi4vLi4vLi4vYXBpL2FwaUF1dG9tYXRpb24vYXBpRW52aXJvbm1lbnQnOw0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICdhZGRPckVkaXRBcGlCdXNpbmVzc1Rlc3QnLA0KICAgIC8vIHR5cGUg55So5p2l5qCH6K+G5piv57yW6L6R6L+Y5piv5Yib5bu6DQogICAgcHJvcHM6Wyd0eXBlJywgJ2FwaUJ1c2luZXNzVGVzdElkJywgJ2FwaUJ1c2luZXNzVGVzdERhdGEnLCAnYXBpUHJvamVjdElkJ10sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGFwaUJ1c2luZXNzVGVzdEZvcm06IHsNCiAgICAgICAgICAgICAgICBhcGlfYnVzaW5lc3NfdGVzdF9uYW1lOiAiIiwNCiAgICAgICAgICAgICAgICBhcGlfcHJvamVjdF9pZDogIiIsDQogICAgICAgICAgICAgICAgYXBpX2J1c2luZXNzX3Rlc3RfaWQ6ICIiLA0KICAgICAgICAgICAgICAgIGFwaV9idXNpbmVzc190ZXN0X2Rlc2NyaWJlOiAiIiwNCg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGFwaV9idXNpbmVzc190ZXN0X2RlYnVnOiAiIiwNCg0KICAgICAgICAgICAgYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhOlsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGFwaV9tb2R1bGVfaWQ6ICIiLA0KICAgICAgICAgICAgICAgICAgICBhcGlfdGVzdF9jYXNlX2lkOiAiIiwNCiAgICAgICAgICAgICAgICAgICAgc3RlcHM6ICIiLA0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgXSwNCg0KICAgICAgICAgICAgcHJvamVjdFNlbGVjdDogW10sDQogICAgICAgICAgICBhcGlNb2R1bGVTZWxlY3Q6IFtdLA0KICAgICAgICAgICAgYXBpVGVzdENhc2VTZWxlY3Q6IFtdLA0KICAgICAgICAgICAgaW5kZXhOdW06IDAsDQogICAgICAgICAgICBpbmRleE51bTI6IDAsDQoNCiAgICAgICAgICAgIG5ld0RhdGE6IFtdLA0KICAgICAgICAgICAgYXBpX2Vudmlyb25tZW50OiAnJywNCiAgICAgICAgICAgIGFwaV9lbnZpcm9ubWVudF9vcHRpb25zOlsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGFwaV9lbnZpcm9ubWVudF9kZXNjcmliZTonJywNCiAgICAgICAgICAgICAgICAgICAgYXBpX2Vudmlyb25tZW50X25hbWU6ICcnLA0KICAgICAgICAgICAgICAgICAgICBhcGlfdGl0bGU6ICcnLA0KICAgICAgICAgICAgICAgICAgICBpZDogJycNCg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBlbnZpcm9ubWVudFNlbGVjdDogW10sDQoNCg0KDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKXsNCiAgICAgICAgdGhpcy5nZXRTZWxlY3RBcGlCdXNpbmVzc1Rlc3RGdW4oKQ0KICAgICAgICB0aGlzLnJvd0Ryb3AoKQ0KICAgICAgICB0aGlzLmdldFNlbGVjdEFwaUVudmlyb25tZW50RnVuKCkNCg0KICAgIH0sDQoNCiAgICB3YXRjaDogew0KICAgICAgICBhcGlCdXNpbmVzc1Rlc3RGb3JtOiB7DQogICAgICAgICAgICBkZWVwOiB0cnVlLA0KICAgICAgICAgICAgaW1tZWRpYXRlOiB0cnVlLA0KICAgICAgICAgICAgaGFuZGxlcih2YWwpIHsNCiAgICAgICAgICAgICAgICBpZiAodmFsLmFwaV9wcm9qZWN0X2lkKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgZ2V0U2VsZWN0QXBpQnVzaW5lc3NUZXN0UmVxdWVzdCh0aGlzLmFwaUJ1c2luZXNzVGVzdEZvcm0uYXBpX3Byb2plY3RfaWQpLnRoZW4oZGF0YSA9PnsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMsICdwcm9qZWN0U2VsZWN0JywgZGF0YS5kYXRhLmRhdGEpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDtpPHRoaXMucHJvamVjdFNlbGVjdC5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2JqID0gdGhpcy5wcm9qZWN0U2VsZWN0W2ldDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5wcm9qZWN0X2lkID09PSB0aGlzLmFwaUJ1c2luZXNzVGVzdEZvcm0uYXBpX3Byb2plY3RfaWQpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGlNb2R1bGVTZWxlY3QgPSBvYmoubW9kdWxlX2xpc3Q7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwaU1vZHVsZVNlbGVjdC5mb3JFYWNoKChpdGVtKT0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFNlbGVjdEFwaU1vZHVsZSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6I635Y+W5o6l5Y+j5aSx6LSlIikNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCg0KDQoNCiAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCg0KDQogICAgbWV0aG9kczogew0KICAgICAgICAvL+ihjOaLluaLvQ0KICAgICAgICByb3dEcm9wKCkgew0KICAgICAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWwtdGFibGVfX2JvZHktd3JhcHBlciB0Ym9keScpDQogICAgICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXMNCiAgICAgICAgICAgIFNvcnRhYmxlLmNyZWF0ZSh0Ym9keSwgew0KICAgICAgICAgICAgICAgIG9uRW5kKHsgbmV3SW5kZXgsIG9sZEluZGV4IH0pIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyclJvdyA9IF90aGlzLmFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YS5zcGxpY2Uob2xkSW5kZXgsIDEpWzBdDQogICAgICAgICAgICAgICAgICAgIF90aGlzLmFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YS5zcGxpY2UobmV3SW5kZXgsIDAsIGN1cnJSb3cpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgLy8g6I635Y+W5Z+f5ZCNDQogICAgICAgIGdldFNlbGVjdEFwaUVudmlyb25tZW50RnVuKCl7DQogICAgICAgICAgICBnZXRBcGlFbnZpcm9ubWVudFJlcXVlc3QoKS50aGVuKGRhdGEgPT57DQogICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbnZpcm9ubWVudFNlbGVjdCA9IGRhdGEuZGF0YS5kYXRhOw0KDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6I635Y+W5o6l5Y+j5aSx6LSlIikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KDQoNCiAgICAgICAgfSwNCg0KICAgICAgICAvL+iOt+WPlumhueebri0t5qih5Z2X5LiL5ouJ5qGGDQogICAgICAgIGdldFNlbGVjdEFwaUJ1c2luZXNzVGVzdEZ1bih2YWx1ZSl7DQogICAgICAgICAgICBnZXRTZWxlY3RBcGlCdXNpbmVzc1Rlc3RSZXF1ZXN0KHRoaXMuYXBpQnVzaW5lc3NUZXN0Rm9ybS5hcGlfcHJvamVjdF9pZCkudGhlbihkYXRhID0+ew0KDQogICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLCAnbmV3RGF0YScsIGRhdGEuZGF0YS5kYXRhKQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcywgJ3Byb2plY3RTZWxlY3QnLCBkYXRhLmRhdGEuZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7aTx0aGlzLnByb2plY3RTZWxlY3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSB0aGlzLnByb2plY3RTZWxlY3RbaV0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9iai5wcm9qZWN0X2lkID09PSB0aGlzLmFwaUJ1c2luZXNzVGVzdEZvcm0uYXBpX3Byb2plY3RfaWQpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBpTW9kdWxlU2VsZWN0ID0gb2JqLm1vZHVsZV9saXN0Ow0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCLojrflj5bmjqXlj6PlpLHotKUiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8vIOiOt+WPlmFwaeaooeWdly0tYXBp5rWL6K+V55So5L6LIOS4i+aLieahhg0KICAgICAgICBnZXRTZWxlY3RBcGlNb2R1bGUocm93KXsNCiAgICAgICAgICAgIHRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhLmZvckVhY2godXRjdD0+ew0KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwO2k8dGhpcy5hcGlNb2R1bGVTZWxlY3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGFwaV9tb2R1bGUgPSB0aGlzLmFwaU1vZHVsZVNlbGVjdFtpXQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChhcGlfbW9kdWxlLmFwaV9tb2R1bGVfaWQgPT09IHV0Y3QuYXBpX21vZHVsZV9pZCl7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQodXRjdCwgJ2FwaVRlc3RDYXNlU2VsZWN0JywgYXBpX21vZHVsZS5hcGlfdGVzdF9jYXNlX2xpc3QpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KDQogICAgICAgIH0sDQoNCiAgICAgICAgaGFuZGxlU2VsZWN0Q2hhbmdlKHZhbCl7DQogICAgICAgIH0sDQoNCiAgICAgICAgLy8g5L+d5a2YDQogICAgICAgIHNhdmVBcGlCdXNpbmVzc1Rlc3QoKSB7DQogICAgICAgICAgICBpZiAoJ2FkZCcgPT09IHRoaXMudHlwZSl7DQoNCiAgICAgICAgICAgICAgICB0aGlzLmFkZEFwaUJ1c2luZXNzVGVzdCgpDQogICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5lZGl0QXBpQnVzaW5lc3NUZXN0KCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICAvLyDosIPor5XkuJrliqHmtYvor5UgZGVidWcNCiAgICAgICAgZGVidWdBcGlCdXNpbmVzc1Rlc3QoKSB7DQogICAgICAgICAgICBsZXQgcmVxID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmFwaUJ1c2luZXNzVGVzdEZvcm0pKTsNCiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5hcGlCdXNpbmVzc1Rlc3RUYWJsZURhdGEubGVuZ3RoO2krKyl7DQogICAgICAgICAgICAgICAgbGV0IHN0ZXBzDQogICAgICAgICAgICAgICAgc3RlcHMgPSB0aGlzLmFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YVtpXVsnc3RlcHMnXT0gaQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5hcGlCdXNpbmVzc1Rlc3RUYWJsZURhdGEpDQoNCiAgICAgICAgICAgIHJlcS5hcGlfYnVzaW5lc3NfdGVzdF9kYXRhPXRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhOw0KICAgICAgICAgICAgcmVxLmVudmlyb25tZW50ID0gdGhpcy5hcGlfZW52aXJvbm1lbnQNCg0KICAgICAgICAgICAgdGhpcy4kcmVmcy5hcGlCdXNpbmVzc1Rlc3RGb3JtUmVmLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy5hcGlCdXNpbmVzc1Rlc3RGb3JtUmVmLnZhbGlkYXRlKCh2YWxpZCkpKTsNCiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsgLy8g5Luj6KGo5qCh6aqM6YCa6L+HDQogICAgICAgICAgICAgICAgICAgIHBvc3RBcGlCdXNpbmVzc1Rlc3REZUJ1Z1JlcXVlc3QocmVxKS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5kYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBpX2J1c2luZXNzX3Rlc3RfZGVidWcgPSBkYXRhLmRhdGEuZGF0YQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcyhkYXRhLmRhdGEuZGF0YSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGlfYnVzaW5lc3NfdGVzdF9kZWJ1ZyA9IGRhdGEuZGF0YS5lcnJvci5tZXNzYWdlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihkYXRhLmRhdGEuZXJyb3IubWVzc2FnZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2UgeyAgLy/moKHpqozlpLHotKUNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgfSwNCg0KICAgICAgICAvLyDlj5bmtogNCiAgICAgICAgY2FuY2VsU2F2ZUFwaUJ1c2luZXNzVGVzdCgpew0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsU2F2ZUFwaUJ1c2luZXNzVGVzdCcpDQoNCiAgICAgICAgfSwNCiAgICAgICAgLy8g6Ieq5Yqo5o6S5bqPDQogICAgICAgIHNvcnRpbmcocm93cyl7DQogICAgICAgICAgICBmb3IobGV0IGk9MDtpPHJvd3MubGVuZ3RoO2krKyl7DQogICAgICAgICAgICAgICAgbGV0IHN0ZXBzDQogICAgICAgICAgICAgICAgc3RlcHMgPSB0aGlzLmFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YVtpXVsnc3RlcHMnXT0gaQ0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0ZXBzKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhKQ0KICAgICAgICB9LA0KDQogICAgICAgIC8v5re75Yqg5Lia5Yqh5rWL6K+V55So5L6LDQogICAgICAgIGFkZEFwaUJ1c2luZXNzVGVzdCgpew0KICAgICAgICAgICAgbGV0IHJlcSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5hcGlCdXNpbmVzc1Rlc3RGb3JtKSk7DQogICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhLmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgIGxldCBzdGVwcw0KICAgICAgICAgICAgICAgIHN0ZXBzID0gdGhpcy5hcGlCdXNpbmVzc1Rlc3RUYWJsZURhdGFbaV1bJ3N0ZXBzJ109IGkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhKQ0KDQogICAgICAgICAgICByZXEuYXBpX2J1c2luZXNzX3Rlc3RfZGF0YT10aGlzLmFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLov5nmmK90YWJsZeihqOWNlSIsdGhpcy5hcGlCdXNpbmVzc1Rlc3RUYWJsZURhdGEpDQogICAgICAgICAgICB0aGlzLiRyZWZzLmFwaUJ1c2luZXNzVGVzdEZvcm1SZWYudmFsaWRhdGUoKHZhbGlkKSA9PiB7DQoNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLiRyZWZzLmFwaUJ1c2luZXNzVGVzdEZvcm1SZWYudmFsaWRhdGUoKHZhbGlkKSkpOw0KICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgeyAvLyDku6PooajmoKHpqozpgJrov4cNCiAgICAgICAgICAgICAgICAgICAgYWRkQXBpQnVzaW5lc3NUZXN0UmVxdWVzdChyZXEpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmt7vliqBBcGnkuJrliqHmtYvor5XmiJDlip8iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLmt7vliqBBcGnkuJrliqHmtYvor5XlpLHotKUiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAvL+agoemqjOWksei0pQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2F2ZUFwaUJ1c2luZXNzVGVzdCcpDQoNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgIH0sDQoNCiAgICAgICAgLy/nvJbovpFBcGnkuJrliqHmtYvor5UNCiAgICAgICAgZWRpdEFwaUJ1c2luZXNzVGVzdCgpew0KICAgICAgICAgICAgbGV0IHJlcSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5hcGlCdXNpbmVzc1Rlc3RGb3JtKSk7DQogICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhLmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgIGxldCBzdGVwcw0KICAgICAgICAgICAgICAgIHN0ZXBzID0gdGhpcy5hcGlCdXNpbmVzc1Rlc3RUYWJsZURhdGFbaV1bJ3N0ZXBzJ109IGkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJlcS5hcGlfYnVzaW5lc3NfdGVzdF9kYXRhPXRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhOw0KICAgICAgICAgICAgY29uc29sZS5sb2coIui/meaYr3RhYmxl6KGo5Y2VIix0aGlzLmFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YSkNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuYXBpQnVzaW5lc3NUZXN0Rm9ybVJlZi52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsgLy8g5Luj6KGo5qCh6aqM6YCa6L+HDQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcSk7DQogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUJ1c2luZXNzVGVzdFJlcXVlc3QodGhpcy5hcGlCdXNpbmVzc1Rlc3RGb3JtLmFwaV9idXNpbmVzc190ZXN0X2lkLCByZXEpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIue8lui+kemhtemdouWFg+e0oOaIkOWKnyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93QWRkT3JFZGl0QXBpQnVzaW5lc3NUZXN0ID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEFwaUJ1c2luZXNzVGVzdEZ1bigpDQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIue8lui+kemhtemdouWFg+e0oOWksei0pSIpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfSBlbHNlIHsgIC8v5qCh6aqM5aSx6LSlDQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnc2F2ZUFwaUJ1c2luZXNzVGVzdCcpDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCg0KDQogICAgICAgIC8v6I635Y+W5Y2V5Liq5rWL6K+V55So5L6L5YiX6KGoDQogICAgICAgIGdldFNpbmdsZUFwaUJ1c2luZXNzVGVzdEZ1bigpIHsNCiAgICAgICAgICAgIGdldFNpbmdsZUFwaUJ1c2luZXNzVGVzdFJlcXVlc3QodGhpcy5hcGlCdXNpbmVzc1Rlc3RGb3JtLmFwaV9idXNpbmVzc190ZXN0X2lkKS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICBsZXQgYXBpQnVzaW5lc3NUZXN0ID0gZGF0YS5kYXRhLmRhdGEuYXBpX2J1c2luZXNzX3Rlc3RfZGF0YTsNCg0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZGF0YeaVsOaNriIsZGF0YS5kYXRhLmRhdGEuYXBpX2J1c2luZXNzX3Rlc3RfZGF0YSkNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLmFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YT1bLi4uYXBpQnVzaW5lc3NUZXN0XTsNCg0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYXBpVGVzdENhc2VTZWxlY3TvvJoiLCB0aGlzLmFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YSkNCg0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuiOt+WPluaOpeWPo+Wksei0pSIpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCg0KDQogICAgICAgIC8v5re75Yqg6KGMDQogICAgICAgIEFkZEZvcm0gKCkgew0KICAgICAgICAgICAgdGhpcy5hcGlCdXNpbmVzc1Rlc3RUYWJsZURhdGEucHVzaCggew0KICAgICAgICAgICAgICAgIGFwaV9tb2R1bGVfaWQ6ICIiLA0KICAgICAgICAgICAgICAgIGFwaV90ZXN0X2Nhc2VfaWQ6ICIiLA0KICAgICAgICAgICAgICAgIHN0ZXBzOiAiIiwNCg0KICAgICAgICAgICAgfSkNCg0KICAgICAgICB9LA0KDQogICAgICAgIC8v5Yig6Zmk6KGMDQogICAgICAgIERlbGV0ZShpbmRleCwgcm93cykgew0KICAgICAgICAgICAgcm93cy5zcGxpY2UoaW5kZXgsIDEpOw0KDQogICAgICAgIH0NCiAgICB9LA0KDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5hcGlCdXNpbmVzc1Rlc3REYXRhKQ0KICAgICAgICBpZiAoJ2VkaXQnPT09dGhpcy50eXBlKXsNCiAgICAgICAgICAgIHRoaXMuYXBpQnVzaW5lc3NUZXN0Rm9ybSA9IHsNCiAgICAgICAgICAgICAgICBhcGlfcHJvamVjdF9pZDogdGhpcy5hcGlCdXNpbmVzc1Rlc3REYXRhLmFwaV9wcm9qZWN0X2lkLA0KICAgICAgICAgICAgICAgIGFwaV9idXNpbmVzc190ZXN0X25hbWU6IHRoaXMuYXBpQnVzaW5lc3NUZXN0RGF0YS5hcGlfYnVzaW5lc3NfdGVzdF9uYW1lLA0KICAgICAgICAgICAgICAgIGFwaV9idXNpbmVzc190ZXN0X2lkOiB0aGlzLmFwaUJ1c2luZXNzVGVzdERhdGEuaWQsDQogICAgICAgICAgICAgICAgYXBpX2J1c2luZXNzX3Rlc3RfZGVzY3JpYmU6IHRoaXMuYXBpQnVzaW5lc3NUZXN0RGF0YS5hcGlfYnVzaW5lc3NfdGVzdF9kZXNjcmliZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5nZXRTaW5nbGVBcGlCdXNpbmVzc1Rlc3RGdW4oKQ0KDQoNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgnYWRkJz09PXRoaXMudHlwZSl7DQogICAgICAgICAgICBjb25zb2xlLmxvZygi6L+Z5pivaWQiLCB0aGlzLmFwaVByb2plY3RJZCkNCiAgICAgICAgICAgIHRoaXMuYXBpQnVzaW5lc3NUZXN0Rm9ybSA9IHsNCiAgICAgICAgICAgICAgICBhcGlfcHJvamVjdF9pZDogdGhpcy5hcGlQcm9qZWN0SWQNCiAgICAgICAgICAgIH0NCg0KDQoNCiAgICAgICAgfQ0KDQogICAgfSwNCn07DQo="},{"version":3,"sources":["addOrEditApiBusinessTest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA","file":"addOrEditApiBusinessTest.vue","sourceRoot":"src/components/page/apiAutomation/apiBusinessTest","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-calendar\"></i> API项目\r\n                </el-breadcrumb-item>\r\n                <el-breadcrumb-item>API业务测试</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n        <el-form  ref=\"apiBusinessTestFormRef\" :model=\"apiBusinessTestForm\" label-width=\"100px\">\r\n\r\n            <el-form-item label=\"API业务测试名称\" style=\"width: 120px;\">\r\n                <el-input v-model=\"apiBusinessTestForm.api_business_test_name\"  class=\"api_business_test_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"选择API项目\">\r\n                <el-select  v-model=\"apiBusinessTestForm.api_project_id\"  filterable placeholder=\"请选择项目\"  id=\"selectApiProject\" @change=\"getSelectApiBusinessTestFun\">\r\n                    <el-option v-for=\"item in projectSelect\" :key=\"item.project_id\" :value=\"item.project_id\" :label=\"item.api_project_name\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"业务测试描述\">\r\n                <el-input\r\n                    type=\"textarea\"\r\n                    :rows=\"2\"\r\n                    placeholder=\"请输入内容\"\r\n                    v-model=\"apiBusinessTestForm.api_business_test_describe\"\r\n                    class=\"business_test_describe\">\r\n                </el-input>\r\n            </el-form-item>\r\n                <el-input\r\n                    type=\"textarea\"\r\n                    :rows=\"2\"\r\n                    placeholder=\"API调式结果\"\r\n                    :autosize=\"{ minRows: 3, maxRows: 4}\"\r\n                    :readonly=\"true\"\r\n                    v-model=\"api_business_test_debug\"\r\n                    class=\"api_business_test_debug\">\r\n                </el-input>\r\n\r\n            <el-form-item label=\"调试域名\">\r\n                <el-select  v-model=\"api_environment\"  placeholder=\"请选择域名\"  id=\"selectApiEnvironment\" @change=\"getSelectApiEnvironmentFun\">\r\n                    <el-option v-for=\"item in environmentSelect\" :key=\"item.id\" :value=\"item.id\" :label=\"item.api_environment_name\">\r\n                    </el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"debugApiBusinessTest\">调试</el-button>\r\n            </el-form-item>\r\n\r\n            <div>\r\n                <el-table\r\n                    :data=\"apiBusinessTestTableData\"\r\n                    style=\"width: 66%\"\r\n                    row-key=\"api_test_case_id\"\r\n                >\r\n                    <el-table-column prop=\"api_module_id\" label=\"API模块\" width=\"300\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-select v-model=\"scope.row.api_module_id\" filterable placeholder=\"选择API模块\" @change=\"getSelectApiModule(scope.row)\" class=\"api_module\">\r\n                                <el-option v-for=\"item in apiModuleSelect\" :key=\"item.api_module_id\" :value=\"item.api_module_id\"  :label=\"item.api_module_name\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </template>\r\n                    </el-table-column>\r\n\r\n                    <el-table-column prop=\"api_test_case_id\" width=\"300\" label=\"选择API测试用例\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-select v-model=\"scope.row.api_test_case_id\" filterable placeholder=\"选择API测试用例\" @change=\"handleSelectChange\" class=\"api_test_case\">\r\n                                <el-option v-for=\"item in scope.row.apiTestCaseSelect\" :key=\"item.api_test_case_id\" :value=\"item.api_test_case_id\"  :label=\"item.api_test_case_name\">\r\n                                </el-option>\r\n                            </el-select>\r\n                        </template>\r\n\r\n                    </el-table-column>\r\n\r\n                    <el-table-column prop=\"steps\" label=\"操作步骤\" width=\"300\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-input v-model=\"scope.row.steps\" controls-position=\"right\" style=\"width: 50%\" ></el-input>\r\n                        </template>\r\n                    </el-table-column>\r\n\r\n\r\n                    <el-table-column label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button @click=\"AddForm\">添加行</el-button>\r\n                            <el-button size=\"mini\" type=\"danger\" @click=\"Delete(scope.$index, apiBusinessTestTableData)\" style=\"margin-left: 0px; margin-right: 13px; padding-right: 28px; text-align: center; \">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n\r\n                </el-table>\r\n            </div>\r\n\r\n            <div class=\"page-element-class\">\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"saveApiBusinessTest\">保存</el-button>\r\n                    <el-button type=\"default\" @click=\"cancelSaveApiBusinessTest\">取消</el-button>\r\n                    <el-button type=\"default\" @click=\"sorting(apiBusinessTestTableData)\">自动排序</el-button>\r\n                </el-form-item>\r\n            </div>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    getSelectApiBusinessTestRequest,\r\n    addApiBusinessTestRequest,\r\n    updateBusinessTestRequest,\r\n    getSingleApiBusinessTestRequest,\r\n    postApiBusinessTestDeBugRequest\r\n} from '../../../../api/apiAutomation/apiBusinessTest';\r\nimport Sortable from 'sortablejs';\r\nimport { getApiEnvironmentRequest } from '../../../../api/apiAutomation/apiEnvironment';\r\nexport default {\r\n    name: 'addOrEditApiBusinessTest',\r\n    // type 用来标识是编辑还是创建\r\n    props:['type', 'apiBusinessTestId', 'apiBusinessTestData', 'apiProjectId'],\r\n    data() {\r\n        return {\r\n            apiBusinessTestForm: {\r\n                api_business_test_name: \"\",\r\n                api_project_id: \"\",\r\n                api_business_test_id: \"\",\r\n                api_business_test_describe: \"\",\r\n\r\n            },\r\n            api_business_test_debug: \"\",\r\n\r\n            apiBusinessTestTableData:[\r\n                {\r\n                    api_module_id: \"\",\r\n                    api_test_case_id: \"\",\r\n                    steps: \"\",\r\n                }\r\n\r\n            ],\r\n\r\n            projectSelect: [],\r\n            apiModuleSelect: [],\r\n            apiTestCaseSelect: [],\r\n            indexNum: 0,\r\n            indexNum2: 0,\r\n\r\n            newData: [],\r\n            api_environment: '',\r\n            api_environment_options:[\r\n                {\r\n                    api_environment_describe:'',\r\n                    api_environment_name: '',\r\n                    api_title: '',\r\n                    id: ''\r\n\r\n                }\r\n            ],\r\n            environmentSelect: [],\r\n\r\n\r\n\r\n        }\r\n    },\r\n    mounted(){\r\n        this.getSelectApiBusinessTestFun()\r\n        this.rowDrop()\r\n        this.getSelectApiEnvironmentFun()\r\n\r\n    },\r\n\r\n    watch: {\r\n        apiBusinessTestForm: {\r\n            deep: true,\r\n            immediate: true,\r\n            handler(val) {\r\n                if (val.api_project_id) {\r\n\r\n                    getSelectApiBusinessTestRequest(this.apiBusinessTestForm.api_project_id).then(data =>{\r\n\r\n                        if (true === data.data.success) {\r\n                            this.$set(this, 'projectSelect', data.data.data)\r\n\r\n                            for (let i = 0;i<this.projectSelect.length; i++) {\r\n                                let obj = this.projectSelect[i]\r\n\r\n                                if (obj.project_id === this.apiBusinessTestForm.api_project_id){\r\n                                    this.apiModuleSelect = obj.module_list;\r\n                                    this.apiModuleSelect.forEach((item)=> {\r\n                                        this.getSelectApiModule()\r\n                                    })\r\n\r\n                                }\r\n                            }\r\n\r\n                        } else {\r\n                            this.$message.error(\"获取接口失败\")\r\n                        }\r\n                    })\r\n\r\n\r\n\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    methods: {\r\n        //行拖拽\r\n        rowDrop() {\r\n            const tbody = document.querySelector('.el-table__body-wrapper tbody')\r\n            const _this = this\r\n            Sortable.create(tbody, {\r\n                onEnd({ newIndex, oldIndex }) {\r\n                    const currRow = _this.apiBusinessTestTableData.splice(oldIndex, 1)[0]\r\n                    _this.apiBusinessTestTableData.splice(newIndex, 0, currRow)\r\n                }\r\n            })\r\n        },\r\n        // 获取域名\r\n        getSelectApiEnvironmentFun(){\r\n            getApiEnvironmentRequest().then(data =>{\r\n                if (true === data.data.success) {\r\n\r\n                    this.environmentSelect = data.data.data;\r\n\r\n                } else {\r\n                    this.$message.error(\"获取接口失败\")\r\n                }\r\n            })\r\n\r\n\r\n        },\r\n\r\n        //获取项目--模块下拉框\r\n        getSelectApiBusinessTestFun(value){\r\n            getSelectApiBusinessTestRequest(this.apiBusinessTestForm.api_project_id).then(data =>{\r\n\r\n                if (true === data.data.success) {\r\n                    this.$set(this, 'newData', data.data.data)\r\n                    this.$set(this, 'projectSelect', data.data.data)\r\n                    for (let i = 0;i<this.projectSelect.length; i++) {\r\n                        let obj = this.projectSelect[i]\r\n\r\n                        if (obj.project_id === this.apiBusinessTestForm.api_project_id){\r\n                            this.apiModuleSelect = obj.module_list;\r\n\r\n                            break\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    this.$message.info(\"获取接口失败\")\r\n                }\r\n            })\r\n        },\r\n        // 获取api模块--api测试用例 下拉框\r\n        getSelectApiModule(row){\r\n            this.apiBusinessTestTableData.forEach(utct=>{\r\n                for (let i = 0;i<this.apiModuleSelect.length; i++) {\r\n                    var api_module = this.apiModuleSelect[i]\r\n\r\n                    if (api_module.api_module_id === utct.api_module_id){\r\n                        this.$set(utct, 'apiTestCaseSelect', api_module.api_test_case_list)\r\n                    }\r\n                }\r\n            })\r\n\r\n        },\r\n\r\n        handleSelectChange(val){\r\n        },\r\n\r\n        // 保存\r\n        saveApiBusinessTest() {\r\n            if ('add' === this.type){\r\n\r\n                this.addApiBusinessTest()\r\n            }else {\r\n                this.editApiBusinessTest()\r\n            }\r\n        },\r\n\r\n        // 调试业务测试 debug\r\n        debugApiBusinessTest() {\r\n            let req = JSON.parse(JSON.stringify(this.apiBusinessTestForm));\r\n            for(let i=0;i<this.apiBusinessTestTableData.length;i++){\r\n                let steps\r\n                steps = this.apiBusinessTestTableData[i]['steps']= i\r\n            }\r\n            console.log(this.apiBusinessTestTableData)\r\n\r\n            req.api_business_test_data=this.apiBusinessTestTableData;\r\n            req.environment = this.api_environment\r\n\r\n            this.$refs.apiBusinessTestFormRef.validate((valid) => {\r\n\r\n                console.log(this.$refs.apiBusinessTestFormRef.validate((valid)));\r\n                if (valid) { // 代表校验通过\r\n                    postApiBusinessTestDeBugRequest(req).then(data => {\r\n                        console.log(data)\r\n                        if (true === data.data.success) {\r\n                            console.log(data.data.data)\r\n                            this.api_business_test_debug = data.data.data\r\n                            this.$message.success(data.data.data)\r\n                        } else {\r\n                            this.api_business_test_debug = data.data.error.message\r\n                            this.$message.error(data.data.error.message)\r\n                        }\r\n                    })\r\n                } else {  //校验失败\r\n                    return false;\r\n                }\r\n\r\n            });\r\n\r\n        },\r\n\r\n        // 取消\r\n        cancelSaveApiBusinessTest(){\r\n            this.$emit('cancelSaveApiBusinessTest')\r\n\r\n        },\r\n        // 自动排序\r\n        sorting(rows){\r\n            for(let i=0;i<rows.length;i++){\r\n                let steps\r\n                steps = this.apiBusinessTestTableData[i]['steps']= i\r\n                console.log(steps)\r\n                }\r\n            console.log(this.apiBusinessTestTableData)\r\n        },\r\n\r\n        //添加业务测试用例\r\n        addApiBusinessTest(){\r\n            let req = JSON.parse(JSON.stringify(this.apiBusinessTestForm));\r\n            for(let i=0;i<this.apiBusinessTestTableData.length;i++){\r\n                let steps\r\n                steps = this.apiBusinessTestTableData[i]['steps']= i\r\n            }\r\n            console.log(this.apiBusinessTestTableData)\r\n\r\n            req.api_business_test_data=this.apiBusinessTestTableData;\r\n            console.log(\"这是table表单\",this.apiBusinessTestTableData)\r\n            this.$refs.apiBusinessTestFormRef.validate((valid) => {\r\n\r\n                console.log(this.$refs.apiBusinessTestFormRef.validate((valid)));\r\n                if (valid) { // 代表校验通过\r\n                    addApiBusinessTestRequest(req).then(data => {\r\n                        console.log(data)\r\n                        if (true === data.data.success) {\r\n                            this.$message.success(\"添加Api业务测试成功\")\r\n                        } else {\r\n                            this.$message.error(\"添加Api业务测试失败\")\r\n                        }\r\n                    })\r\n                } else {  //校验失败\r\n                    return false;\r\n                }\r\n\r\n                this.$emit('saveApiBusinessTest')\r\n\r\n            });\r\n\r\n        },\r\n\r\n        //编辑Api业务测试\r\n        editApiBusinessTest(){\r\n            let req = JSON.parse(JSON.stringify(this.apiBusinessTestForm));\r\n            for(let i=0;i<this.apiBusinessTestTableData.length;i++){\r\n                let steps\r\n                steps = this.apiBusinessTestTableData[i]['steps']= i\r\n            }\r\n            req.api_business_test_data=this.apiBusinessTestTableData;\r\n            console.log(\"这是table表单\",this.apiBusinessTestTableData)\r\n            this.$refs.apiBusinessTestFormRef.validate((valid) => {\r\n                if (valid) { // 代表校验通过\r\n                    console.log(req);\r\n                    updateBusinessTestRequest(this.apiBusinessTestForm.api_business_test_id, req).then(data => {\r\n                        console.log(data)\r\n                        if (true === data.data.success) {\r\n\r\n                            this.$message.success(\"编辑页面元素成功\")\r\n                            this.showAddOrEditApiBusinessTest = false;\r\n                            this.$forceUpdate();\r\n                            this.getApiBusinessTestFun()\r\n                        } else {\r\n                            this.$message.error(\"编辑页面元素失败\")\r\n                        }\r\n                    })\r\n                } else {  //校验失败\r\n                    return false;\r\n                }\r\n                this.$emit('saveApiBusinessTest')\r\n            });\r\n        },\r\n\r\n\r\n        //获取单个测试用例列表\r\n        getSingleApiBusinessTestFun() {\r\n            getSingleApiBusinessTestRequest(this.apiBusinessTestForm.api_business_test_id).then(data => {\r\n                if (true === data.data.success) {\r\n                    let apiBusinessTest = data.data.data.api_business_test_data;\r\n\r\n                    console.log(\"data数据\",data.data.data.api_business_test_data)\r\n\r\n                    this.apiBusinessTestTableData=[...apiBusinessTest];\r\n\r\n                    console.log(\"apiTestCaseSelect：\", this.apiBusinessTestTableData)\r\n\r\n                } else {\r\n                    this.$message.error(\"获取接口失败\")\r\n                }\r\n            })\r\n        },\r\n\r\n\r\n        //添加行\r\n        AddForm () {\r\n            this.apiBusinessTestTableData.push( {\r\n                api_module_id: \"\",\r\n                api_test_case_id: \"\",\r\n                steps: \"\",\r\n\r\n            })\r\n\r\n        },\r\n\r\n        //删除行\r\n        Delete(index, rows) {\r\n            rows.splice(index, 1);\r\n\r\n        }\r\n    },\r\n\r\n    created() {\r\n        console.log(this.apiBusinessTestData)\r\n        if ('edit'===this.type){\r\n            this.apiBusinessTestForm = {\r\n                api_project_id: this.apiBusinessTestData.api_project_id,\r\n                api_business_test_name: this.apiBusinessTestData.api_business_test_name,\r\n                api_business_test_id: this.apiBusinessTestData.id,\r\n                api_business_test_describe: this.apiBusinessTestData.api_business_test_describe\r\n            }\r\n            this.getSingleApiBusinessTestFun()\r\n\r\n\r\n        }\r\n\r\n        if ('add'===this.type){\r\n            console.log(\"这是id\", this.apiProjectId)\r\n            this.apiBusinessTestForm = {\r\n                api_project_id: this.apiProjectId\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.api_business_test_name{\r\n    padding-left: 0px;\r\n    border-left-width: 0px;\r\n    padding-right: 0px;\r\n    width: 501px;\r\n    margin-left: 0px;\r\n}\r\n\r\n.api_module{\r\n    width: 100%;\r\n}\r\n.api_test_case{\r\n    width: 100%;\r\n}\r\n.business_test_describe{\r\n    padding-left: 0px;\r\n    border-left-width: 0px;\r\n    padding-right: 0px;\r\n    width: 501px;\r\n    margin-left: 0px;\r\n}\r\n.api_business_test_debug{\r\n    padding-left: 0px;\r\n    border-left-width: 0px;\r\n    padding-right: 0px;\r\n    width: 501px;\r\n    min-height: 83px;\r\n    height: 77px;\r\n    left: auto;\r\n    margin-left: 99px;\r\n}\r\n</style>"]}]}