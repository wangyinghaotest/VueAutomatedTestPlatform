{"remainingRequest":"E:\\test_platform_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\test_platform_vue\\src\\components\\page\\apiBusinessTest\\addOrEditApiBusinessTest.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\test_platform_vue\\src\\components\\page\\apiBusinessTest\\addOrEditApiBusinessTest.vue","mtime":1632633660560},{"path":"E:\\test_platform_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test_platform_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\test_platform_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test_platform_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2dldFNlbGVjdEFwaUJ1c2luZXNzVGVzdFJlcXVlc3QsIGFkZEFwaUJ1c2luZXNzVGVzdFJlcXVlc3QsIHVwZGF0ZUJ1c2luZXNzVGVzdFJlcXVlc3QsIGdldFNpbmdsZUFwaUJ1c2luZXNzVGVzdFJlcXVlc3R9IGZyb20gJy4uLy4uLy4uL2FwaS9hcGlCdXNpbmVzc1Rlc3QnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdhZGRPckVkaXRBcGlCdXNpbmVzc1Rlc3QnLA0KICAvLyB0eXBlIOeUqOadpeagh+ivhuaYr+e8lui+kei/mOaYr+WIm+W7ug0KICBwcm9wczpbJ3R5cGUnLCAnYXBpQnVzaW5lc3NUZXN0SWQnLCAnYXBpQnVzaW5lc3NUZXN0RGF0YScsICdhcGlQcm9qZWN0SWQnXSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYXBpQnVzaW5lc3NUZXN0Rm9ybTogew0KICAgICAgICBhcGlfYnVzaW5lc3NfdGVzdF9uYW1lOiAiIiwNCiAgICAgICAgYXBpX3Byb2plY3RfaWQ6ICIiLA0KICAgICAgICBhcGlfYnVzaW5lc3NfdGVzdF9pZDogIiIsDQoNCiAgICAgIH0sDQoNCiAgICAgIGFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YTpbDQogICAgICAgIHsNCiAgICAgICAgICBhcGlfbW9kdWxlX2lkOiAiIiwNCiAgICAgICAgICBhcGlfdGVzdF9jYXNlX2lkOiAiIiwNCiAgICAgICAgICBzdGVwczogIiIsDQoNCiAgICAgICAgfQ0KDQogICAgICBdLA0KDQogICAgICBwcm9qZWN0U2VsZWN0OiBbXSwNCiAgICAgIGFwaU1vZHVsZVNlbGVjdDogW10sDQogICAgICBhcGlUZXN0Q2FzZVNlbGVjdDogW10sDQogICAgICBpbmRleE51bTogMCwNCiAgICAgIGluZGV4TnVtMjogMCwNCg0KICAgICAgbmV3RGF0YTogW10NCg0KDQoNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKXsNCiAgICB0aGlzLmdldFNlbGVjdEFwaUJ1c2luZXNzVGVzdEZ1bigpDQoNCiAgfSwNCg0KICB3YXRjaDogew0KICAgIGFwaUJ1c2luZXNzVGVzdEZvcm06IHsNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBpbW1lZGlhdGU6IHRydWUsDQogICAgICBoYW5kbGVyKHZhbCkgew0KICAgICAgICBpZiAodmFsLmFwaV9wcm9qZWN0X2lkKSB7DQoNCiAgICAgICAgICBnZXRTZWxlY3RBcGlCdXNpbmVzc1Rlc3RSZXF1ZXN0KHRoaXMuYXBpQnVzaW5lc3NUZXN0Rm9ybS5hcGlfcHJvamVjdF9pZCkudGhlbihkYXRhID0+ew0KDQogICAgICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMsICdwcm9qZWN0U2VsZWN0JywgZGF0YS5kYXRhLmRhdGEpDQoNCiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7aTx0aGlzLnByb2plY3RTZWxlY3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICBsZXQgb2JqID0gdGhpcy5wcm9qZWN0U2VsZWN0W2ldDQoNCiAgICAgICAgICAgICAgICBpZiAob2JqLnByb2plY3RfaWQgPT09IHRoaXMuYXBpQnVzaW5lc3NUZXN0Rm9ybS5hcGlfcHJvamVjdF9pZCl7DQogICAgICAgICAgICAgICAgICB0aGlzLmFwaU1vZHVsZVNlbGVjdCA9IG9iai5tb2R1bGVfbGlzdDsNCiAgICAgICAgICAgICAgICAgIHRoaXMuYXBpTW9kdWxlU2VsZWN0LmZvckVhY2goKGl0ZW0pPT4gew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFNlbGVjdEFwaU1vZHVsZSgpDQogICAgICAgICAgICAgICAgICB9KQ0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuiOt+WPluaOpeWPo+Wksei0pSIpDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCg0KDQoNCiAgICAgICAgfQ0KDQoNCiAgICAgIH0NCiAgICB9DQogIH0sDQoNCg0KICBtZXRob2RzOiB7DQoNCiAgICAvL+iOt+WPlumhueebri0t5qih5Z2X5LiL5ouJ5qGGDQogICAgZ2V0U2VsZWN0QXBpQnVzaW5lc3NUZXN0RnVuKHZhbHVlKXsNCiAgICAgIGdldFNlbGVjdEFwaUJ1c2luZXNzVGVzdFJlcXVlc3QodGhpcy5hcGlCdXNpbmVzc1Rlc3RGb3JtLmFwaV9wcm9qZWN0X2lkKS50aGVuKGRhdGEgPT57DQoNCiAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy4kc2V0KHRoaXMsICduZXdEYXRhJywgZGF0YS5kYXRhLmRhdGEpDQogICAgICAgICAgdGhpcy4kc2V0KHRoaXMsICdwcm9qZWN0U2VsZWN0JywgZGF0YS5kYXRhLmRhdGEpDQogICAgICAgICAgZm9yIChsZXQgaSA9IDA7aTx0aGlzLnByb2plY3RTZWxlY3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIGxldCBvYmogPSB0aGlzLnByb2plY3RTZWxlY3RbaV0NCg0KICAgICAgICAgICAgaWYgKG9iai5wcm9qZWN0X2lkID09PSB0aGlzLmFwaUJ1c2luZXNzVGVzdEZvcm0uYXBpX3Byb2plY3RfaWQpew0KICAgICAgICAgICAgICB0aGlzLmFwaU1vZHVsZVNlbGVjdCA9IG9iai5tb2R1bGVfbGlzdDsNCg0KICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCg0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygi6I635Y+W5o6l5Y+j5aSx6LSlIikNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8vIOiOt+WPlmFwaeaooeWdly0tYXBp5rWL6K+V55So5L6LIOS4i+aLieahhg0KICAgIGdldFNlbGVjdEFwaU1vZHVsZShyb3cpew0KICAgICAgdGhpcy5hcGlCdXNpbmVzc1Rlc3RUYWJsZURhdGEuZm9yRWFjaCh1dGN0PT57DQogICAgICAgIGZvciAobGV0IGkgPSAwO2k8dGhpcy5hcGlNb2R1bGVTZWxlY3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICB2YXIgYXBpX21vZHVsZSA9IHRoaXMuYXBpTW9kdWxlU2VsZWN0W2ldDQoNCiAgICAgICAgICBpZiAoYXBpX21vZHVsZS5hcGlfbW9kdWxlX2lkID09PSB1dGN0LmFwaV9tb2R1bGVfaWQpew0KICAgICAgICAgICAgdGhpcy4kc2V0KHV0Y3QsICdhcGlUZXN0Q2FzZVNlbGVjdCcsIGFwaV9tb2R1bGUuYXBpX3Rlc3RfY2FzZV9saXN0KQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCg0KICAgIH0sDQoNCiAgICBoYW5kbGVTZWxlY3RDaGFuZ2UodmFsKXsNCiAgICB9LA0KDQogICAgLy8g5L+d5a2YDQogICAgc2F2ZUFwaUJ1c2luZXNzVGVzdCgpIHsNCiAgICAgIGlmICgnYWRkJyA9PT0gdGhpcy50eXBlKXsNCg0KICAgICAgICB0aGlzLmFkZEFwaUJ1c2luZXNzVGVzdCgpDQogICAgICB9ZWxzZSB7DQogICAgICAgIHRoaXMuZWRpdEFwaUJ1c2luZXNzVGVzdCgpDQogICAgICB9DQogICAgfSwNCg0KICAgIC8vIOWPlua2iA0KICAgIGNhbmNlbFNhdmVBcGlCdXNpbmVzc1Rlc3QoKXsNCiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbFNhdmVBcGlCdXNpbmVzc1Rlc3QnKQ0KDQogICAgfSwNCg0KICAgIC8v5re75Yqg5Lia5Yqh5rWL6K+V55So5L6LDQogICAgYWRkQXBpQnVzaW5lc3NUZXN0KCl7DQogICAgICBsZXQgcmVxID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmFwaUJ1c2luZXNzVGVzdEZvcm0pKTsNCiAgICAgIHJlcS5hcGlfYnVzaW5lc3NfdGVzdF9kYXRhPXRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhOw0KICAgICAgY29uc29sZS5sb2coIui/meaYr3RhYmxl6KGo5Y2VIix0aGlzLmFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YSkNCiAgICAgIGNvbnNvbGUubG9nKCLov5nmmK/ojrflj5bliLDnmoQiLHJlcSk7DQogICAgICB0aGlzLiRyZWZzLmFwaUJ1c2luZXNzVGVzdEZvcm1SZWYudmFsaWRhdGUoKHZhbGlkKSA9PiB7DQoNCiAgICAgICAgY29uc29sZS5sb2codGhpcy4kcmVmcy5hcGlCdXNpbmVzc1Rlc3RGb3JtUmVmLnZhbGlkYXRlKCh2YWxpZCkpKTsNCiAgICAgICAgaWYgKHZhbGlkKSB7IC8vIOS7o+ihqOagoemqjOmAmui/hw0KICAgICAgICAgIGFkZEFwaUJ1c2luZXNzVGVzdFJlcXVlc3QocmVxICkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpDQogICAgICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmt7vliqBBcGnkuJrliqHmtYvor5XmiJDlip8iKQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5re75YqgQXBp5Lia5Yqh5rWL6K+V5aSx6LSlIikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2UgeyAgLy/moKHpqozlpLHotKUNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLiRlbWl0KCdzYXZlQXBpQnVzaW5lc3NUZXN0JykNCg0KICAgICAgfSk7DQoNCiAgICB9LA0KDQogICAgLy/nvJbovpFBcGnkuJrliqHmtYvor5UNCiAgICBlZGl0QXBpQnVzaW5lc3NUZXN0KCl7DQogICAgICBsZXQgcmVxID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmFwaUJ1c2luZXNzVGVzdEZvcm0pKTsNCiAgICAgIHJlcS5hcGlfYnVzaW5lc3NfdGVzdF9kYXRhPXRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhOw0KICAgICAgY29uc29sZS5sb2coIui/meaYr3RhYmxl6KGo5Y2VIix0aGlzLmFwaUJ1c2luZXNzVGVzdFRhYmxlRGF0YSkNCiAgICAgIGNvbnNvbGUubG9nKCLov5nmmK/ojrflj5bliLDnmoQiLHJlcSk7DQogICAgICB0aGlzLiRyZWZzLmFwaUJ1c2luZXNzVGVzdEZvcm1SZWYudmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIGlmICh2YWxpZCkgeyAvLyDku6PooajmoKHpqozpgJrov4cNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXEpOw0KICAgICAgICAgIHVwZGF0ZUJ1c2luZXNzVGVzdFJlcXVlc3QodGhpcy5hcGlCdXNpbmVzc1Rlc3RGb3JtLmFwaV9idXNpbmVzc190ZXN0X2lkLCByZXEpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQ0KICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQoNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLnvJbovpHpobXpnaLlhYPntKDmiJDlip8iKQ0KICAgICAgICAgICAgICB0aGlzLnNob3dBZGRPckVkaXRBcGlCdXNpbmVzc1Rlc3QgPSBmYWxzZTsNCg0KICAgICAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi57yW6L6R6aG16Z2i5YWD57Sg5aSx6LSlIikNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9IGVsc2UgeyAgLy/moKHpqozlpLHotKUNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy4kZW1pdCgnc2F2ZUFwaUJ1c2luZXNzVGVzdCcpDQogICAgICB9KTsNCiAgICB9LA0KDQoNCiAgICAvL+iOt+WPluWNleS4qua1i+ivleeUqOS+i+WIl+ihqA0KICAgIGdldFNpbmdsZUFwaUJ1c2luZXNzVGVzdEZ1bigpIHsNCiAgICAgIGdldFNpbmdsZUFwaUJ1c2luZXNzVGVzdFJlcXVlc3QodGhpcy5hcGlCdXNpbmVzc1Rlc3RGb3JtLmFwaV9idXNpbmVzc190ZXN0X2lkKS50aGVuKGRhdGEgPT4gew0KICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICBsZXQgYXBpQnVzaW5lc3NUZXN0ID0gZGF0YS5kYXRhLmRhdGEuYXBpX2J1c2luZXNzX3Rlc3RfZGF0YTsNCg0KICAgICAgICAgIGNvbnNvbGUubG9nKCJkYXRh5pWw5o2uIixkYXRhLmRhdGEuZGF0YS5hcGlfYnVzaW5lc3NfdGVzdF9kYXRhKQ0KICAgICAgICAgIGNvbnNvbGUubG9nKCLojrflj5bljZXkuKrmtYvor5XnlKjkvovmlbDmja4yMjIiLGFwaUJ1c2luZXNzVGVzdCkNCg0KICAgICAgICAgIHRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhPVsuLi5hcGlCdXNpbmVzc1Rlc3RdOw0KDQogICAgICAgICAgY29uc29sZS5sb2coImFwaVRlc3RDYXNlU2VsZWN077yaIiwgdGhpcy5hcGlCdXNpbmVzc1Rlc3RUYWJsZURhdGEpDQoNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bmjqXlj6PlpLHotKUiKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQoNCg0KICAgIC8v5re75Yqg6KGMDQogICAgQWRkRm9ybSAoaW5kZXgsIHJvdykgew0KDQogICAgICAvL+a3u+WKoOaWsOeahOihjOaVsA0KICAgICAgLy8gdGhpcy5hcGlCdXNpbmVzc1Rlc3RUYWJsZURhdGEuc3BsaWNlKGluZGV4LCAwLCB7fSkNCiAgICAgIHRoaXMuYXBpQnVzaW5lc3NUZXN0VGFibGVEYXRhLnB1c2goIHsNCiAgICAgICAgYXBpX21vZHVsZV9pZDogIiIsDQogICAgICAgIGFwaV90ZXN0X2Nhc2VfaWQ6ICIiLA0KICAgICAgICBzdGVwczogIiIsDQoNCiAgICAgIH0pDQoNCiAgICB9LA0KDQogICAgLy/liKDpmaTooYwNCiAgICBEZWxldGUoaW5kZXgsIHJvd3MpIHsNCiAgICAgIHJvd3Muc3BsaWNlKGluZGV4LCAxKTsNCg0KICAgIH0NCiAgfSwNCg0KICBjcmVhdGVkKCkgew0KICAgIGNvbnNvbGUubG9nKHRoaXMuYXBpQnVzaW5lc3NUZXN0RGF0YSkNCiAgICBpZiAoJ2VkaXQnPT09dGhpcy50eXBlKXsNCiAgICAgIHRoaXMuYXBpQnVzaW5lc3NUZXN0Rm9ybSA9IHsNCiAgICAgICAgYXBpX3Byb2plY3RfaWQ6IHRoaXMuYXBpQnVzaW5lc3NUZXN0RGF0YS5hcGlfcHJvamVjdF9pZCwNCiAgICAgICAgYXBpX2J1c2luZXNzX3Rlc3RfbmFtZTogdGhpcy5hcGlCdXNpbmVzc1Rlc3REYXRhLmFwaV9idXNpbmVzc190ZXN0X25hbWUsDQogICAgICAgIGFwaV9idXNpbmVzc190ZXN0X2lkOiB0aGlzLmFwaUJ1c2luZXNzVGVzdERhdGEuaWQNCiAgICAgIH0NCiAgICAgIHRoaXMuZ2V0U2luZ2xlQXBpQnVzaW5lc3NUZXN0RnVuKCkNCg0KDQogICAgfQ0KDQogICAgaWYgKCdhZGQnPT09dGhpcy50eXBlKXsNCiAgICAgIGNvbnNvbGUubG9nKCLov5nmmK9pZCIsIHRoaXMuYXBpUHJvamVjdElkKQ0KICAgICAgdGhpcy5hcGlCdXNpbmVzc1Rlc3RGb3JtID0gew0KICAgICAgICBhcGlfcHJvamVjdF9pZDogdGhpcy5hcGlQcm9qZWN0SWQNCiAgICAgIH0NCg0KDQoNCiAgICB9DQoNCiAgfSwNCn07DQo="},{"version":3,"sources":["addOrEditApiBusinessTest.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA","file":"addOrEditApiBusinessTest.vue","sourceRoot":"src/components/page/apiBusinessTest","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"crumbs\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item>\r\n          <i class=\"el-icon-lx-calendar\"></i> API项目\r\n        </el-breadcrumb-item>\r\n        <el-breadcrumb-item>API业务测试</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <el-form  ref=\"apiBusinessTestFormRef\" :model=\"apiBusinessTestForm\" label-width=\"100px\">\r\n\r\n      <el-form-item label=\"API业务测试名称\" style=\"width: 120px;\">\r\n        <el-input v-model=\"apiBusinessTestForm.api_business_test_name\"  class=\"api_business_test_name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"选择API项目\">\r\n        <el-select  v-model=\"apiBusinessTestForm.api_project_id\"  placeholder=\"请选择项目\"  id=\"selectApiProject\" @change=\"getSelectApiBusinessTestFun\">\r\n          <el-option v-for=\"item in projectSelect\" :key=\"item.project_id\" :value=\"item.project_id\" :label=\"item.api_project_name\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <div>\r\n        <el-table\r\n            :data=\"apiBusinessTestTableData\"\r\n            style=\"width: 66%\">\r\n\r\n          <el-table-column prop=\"api_module_id\" label=\"API模块\" width=\"300\">\r\n            <template slot-scope=\"scope\">\r\n              <el-select v-model=\"scope.row.api_module_id\" clearable placeholder=\"选择API模块\" @change=\"getSelectApiModule(scope.row)\" class=\"api_module\">\r\n                <el-option v-for=\"item in apiModuleSelect\" :key=\"item.api_module_id\" :value=\"item.api_module_id\"  :label=\"item.api_module_name\">\r\n                </el-option>\r\n              </el-select>\r\n            </template>\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"api_test_case_id\" width=\"300\" label=\"选择API测试用例\">\r\n            <template slot-scope=\"scope\">\r\n              <el-select v-model=\"scope.row.api_test_case_id\" clearable placeholder=\"选择API测试用例\" @change=\"handleSelectChange\" class=\"api_test_case\">\r\n                <el-option v-for=\"item in scope.row.apiTestCaseSelect\" :key=\"item.api_test_case_id\" :value=\"item.api_test_case_id\"  :label=\"item.api_test_case_name\">\r\n                </el-option>\r\n              </el-select>\r\n            </template>\r\n\r\n          </el-table-column>\r\n\r\n          <el-table-column prop=\"steps\" label=\"操作步骤\" width=\"300\">\r\n            <template slot-scope=\"scope\">\r\n              <el-input v-model=\"scope.row.steps\" controls-position=\"right\" style=\"width: 50%\" ></el-input>\r\n            </template>\r\n          </el-table-column>\r\n\r\n\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button @click=\"AddForm\">添加行</el-button>\r\n              <el-button size=\"mini\" type=\"danger\" @click=\"Delete(scope.$index, apiBusinessTestTableData)\" style=\"margin-left: 0px; margin-right: 13px; padding-right: 28px; text-align: center; \">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n\r\n        </el-table>\r\n      </div>\r\n\r\n      <div class=\"page-element-class\">\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"saveApiBusinessTest\">保存</el-button>\r\n          <el-button type=\"default\" @click=\"cancelSaveApiBusinessTest\">取消</el-button>\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getSelectApiBusinessTestRequest, addApiBusinessTestRequest, updateBusinessTestRequest, getSingleApiBusinessTestRequest} from '../../../api/apiBusinessTest';\r\n\r\nexport default {\r\n  name: 'addOrEditApiBusinessTest',\r\n  // type 用来标识是编辑还是创建\r\n  props:['type', 'apiBusinessTestId', 'apiBusinessTestData', 'apiProjectId'],\r\n  data() {\r\n    return {\r\n      apiBusinessTestForm: {\r\n        api_business_test_name: \"\",\r\n        api_project_id: \"\",\r\n        api_business_test_id: \"\",\r\n\r\n      },\r\n\r\n      apiBusinessTestTableData:[\r\n        {\r\n          api_module_id: \"\",\r\n          api_test_case_id: \"\",\r\n          steps: \"\",\r\n\r\n        }\r\n\r\n      ],\r\n\r\n      projectSelect: [],\r\n      apiModuleSelect: [],\r\n      apiTestCaseSelect: [],\r\n      indexNum: 0,\r\n      indexNum2: 0,\r\n\r\n      newData: []\r\n\r\n\r\n\r\n    }\r\n  },\r\n  mounted(){\r\n    this.getSelectApiBusinessTestFun()\r\n\r\n  },\r\n\r\n  watch: {\r\n    apiBusinessTestForm: {\r\n      deep: true,\r\n      immediate: true,\r\n      handler(val) {\r\n        if (val.api_project_id) {\r\n\r\n          getSelectApiBusinessTestRequest(this.apiBusinessTestForm.api_project_id).then(data =>{\r\n\r\n            if (true === data.data.success) {\r\n              this.$set(this, 'projectSelect', data.data.data)\r\n\r\n              for (let i = 0;i<this.projectSelect.length; i++) {\r\n                let obj = this.projectSelect[i]\r\n\r\n                if (obj.project_id === this.apiBusinessTestForm.api_project_id){\r\n                  this.apiModuleSelect = obj.module_list;\r\n                  this.apiModuleSelect.forEach((item)=> {\r\n                    this.getSelectApiModule()\r\n                  })\r\n\r\n                }\r\n              }\r\n\r\n            } else {\r\n              this.$message.error(\"获取接口失败\")\r\n            }\r\n          })\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n      }\r\n    }\r\n  },\r\n\r\n\r\n  methods: {\r\n\r\n    //获取项目--模块下拉框\r\n    getSelectApiBusinessTestFun(value){\r\n      getSelectApiBusinessTestRequest(this.apiBusinessTestForm.api_project_id).then(data =>{\r\n\r\n        if (true === data.data.success) {\r\n          this.$set(this, 'newData', data.data.data)\r\n          this.$set(this, 'projectSelect', data.data.data)\r\n          for (let i = 0;i<this.projectSelect.length; i++) {\r\n            let obj = this.projectSelect[i]\r\n\r\n            if (obj.project_id === this.apiBusinessTestForm.api_project_id){\r\n              this.apiModuleSelect = obj.module_list;\r\n\r\n              break\r\n            }\r\n          }\r\n\r\n        } else {\r\n          this.$message.info(\"获取接口失败\")\r\n        }\r\n      })\r\n    },\r\n    // 获取api模块--api测试用例 下拉框\r\n    getSelectApiModule(row){\r\n      this.apiBusinessTestTableData.forEach(utct=>{\r\n        for (let i = 0;i<this.apiModuleSelect.length; i++) {\r\n          var api_module = this.apiModuleSelect[i]\r\n\r\n          if (api_module.api_module_id === utct.api_module_id){\r\n            this.$set(utct, 'apiTestCaseSelect', api_module.api_test_case_list)\r\n          }\r\n        }\r\n      })\r\n\r\n    },\r\n\r\n    handleSelectChange(val){\r\n    },\r\n\r\n    // 保存\r\n    saveApiBusinessTest() {\r\n      if ('add' === this.type){\r\n\r\n        this.addApiBusinessTest()\r\n      }else {\r\n        this.editApiBusinessTest()\r\n      }\r\n    },\r\n\r\n    // 取消\r\n    cancelSaveApiBusinessTest(){\r\n      this.$emit('cancelSaveApiBusinessTest')\r\n\r\n    },\r\n\r\n    //添加业务测试用例\r\n    addApiBusinessTest(){\r\n      let req = JSON.parse(JSON.stringify(this.apiBusinessTestForm));\r\n      req.api_business_test_data=this.apiBusinessTestTableData;\r\n      console.log(\"这是table表单\",this.apiBusinessTestTableData)\r\n      console.log(\"这是获取到的\",req);\r\n      this.$refs.apiBusinessTestFormRef.validate((valid) => {\r\n\r\n        console.log(this.$refs.apiBusinessTestFormRef.validate((valid)));\r\n        if (valid) { // 代表校验通过\r\n          addApiBusinessTestRequest(req ).then(data => {\r\n            console.log(data)\r\n            if (true === data.data.success) {\r\n              this.$message.success(\"添加Api业务测试成功\")\r\n            } else {\r\n              this.$message.error(\"添加Api业务测试失败\")\r\n            }\r\n          })\r\n        } else {  //校验失败\r\n          return false;\r\n        }\r\n\r\n        this.$emit('saveApiBusinessTest')\r\n\r\n      });\r\n\r\n    },\r\n\r\n    //编辑Api业务测试\r\n    editApiBusinessTest(){\r\n      let req = JSON.parse(JSON.stringify(this.apiBusinessTestForm));\r\n      req.api_business_test_data=this.apiBusinessTestTableData;\r\n      console.log(\"这是table表单\",this.apiBusinessTestTableData)\r\n      console.log(\"这是获取到的\",req);\r\n      this.$refs.apiBusinessTestFormRef.validate((valid) => {\r\n        if (valid) { // 代表校验通过\r\n          console.log(req);\r\n          updateBusinessTestRequest(this.apiBusinessTestForm.api_business_test_id, req).then(data => {\r\n            console.log(data)\r\n            if (true === data.data.success) {\r\n\r\n              this.$message.success(\"编辑页面元素成功\")\r\n              this.showAddOrEditApiBusinessTest = false;\r\n\r\n              this.$forceUpdate();\r\n            } else {\r\n              this.$message.error(\"编辑页面元素失败\")\r\n            }\r\n          })\r\n        } else {  //校验失败\r\n          return false;\r\n        }\r\n        this.$emit('saveApiBusinessTest')\r\n      });\r\n    },\r\n\r\n\r\n    //获取单个测试用例列表\r\n    getSingleApiBusinessTestFun() {\r\n      getSingleApiBusinessTestRequest(this.apiBusinessTestForm.api_business_test_id).then(data => {\r\n        if (true === data.data.success) {\r\n          let apiBusinessTest = data.data.data.api_business_test_data;\r\n\r\n          console.log(\"data数据\",data.data.data.api_business_test_data)\r\n          console.log(\"获取单个测试用例数据222\",apiBusinessTest)\r\n\r\n          this.apiBusinessTestTableData=[...apiBusinessTest];\r\n\r\n          console.log(\"apiTestCaseSelect：\", this.apiBusinessTestTableData)\r\n\r\n        } else {\r\n          this.$message.error(\"获取接口失败\")\r\n        }\r\n      })\r\n    },\r\n\r\n\r\n    //添加行\r\n    AddForm (index, row) {\r\n\r\n      //添加新的行数\r\n      // this.apiBusinessTestTableData.splice(index, 0, {})\r\n      this.apiBusinessTestTableData.push( {\r\n        api_module_id: \"\",\r\n        api_test_case_id: \"\",\r\n        steps: \"\",\r\n\r\n      })\r\n\r\n    },\r\n\r\n    //删除行\r\n    Delete(index, rows) {\r\n      rows.splice(index, 1);\r\n\r\n    }\r\n  },\r\n\r\n  created() {\r\n    console.log(this.apiBusinessTestData)\r\n    if ('edit'===this.type){\r\n      this.apiBusinessTestForm = {\r\n        api_project_id: this.apiBusinessTestData.api_project_id,\r\n        api_business_test_name: this.apiBusinessTestData.api_business_test_name,\r\n        api_business_test_id: this.apiBusinessTestData.id\r\n      }\r\n      this.getSingleApiBusinessTestFun()\r\n\r\n\r\n    }\r\n\r\n    if ('add'===this.type){\r\n      console.log(\"这是id\", this.apiProjectId)\r\n      this.apiBusinessTestForm = {\r\n        api_project_id: this.apiProjectId\r\n      }\r\n\r\n\r\n\r\n    }\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.api_business_test_name{\r\n  padding-left: 0px;\r\n  border-left-width: 0px;\r\n  padding-right: 0px;\r\n  width: 501px;\r\n  margin-left: 0px;\r\n}\r\n\r\n.api_module{\r\n  width: 100%;\r\n}\r\n.api_test_case{\r\n  width: 100%;\r\n}\r\n\r\n</style>"]}]}