{"remainingRequest":"D:\\VueAutomatedTestPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\VueAutomatedTestPlatform\\src\\components\\page\\uiAutomation\\uiTestCase\\UiTestCase.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\VueAutomatedTestPlatform\\src\\components\\page\\uiAutomation\\uiTestCase\\UiTestCase.vue","mtime":1652877133468},{"path":"D:\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652877126456},{"path":"D:\\VueAutomatedTestPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":1652877125945},{"path":"D:\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652877126456},{"path":"D:\\VueAutomatedTestPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":1652877132787}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWxldGVTaW5nbGVVaVRlc3RDYXNlUmVxdWVzdCwgZ2V0VWlUZXN0Q2FzZVJlcXVlc3QgfSBmcm9tICcuLi8uLi8uLi8uLi9hcGkvdWlBdXRvbWF0aW9uL3VpVGVzdENhc2UnOw0KaW1wb3J0IGFkZE9yRWRpdFVpVGVzdENhc2UgZnJvbSAnLi9hZGRPckVkaXRVaVRlc3RDYXNlJzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICdVaVRlc3RDYXNlJywNCiAgICBwcm9wczogWyd0eXBlJywgJ3VpUHJvamVjdElkJ10sDQogICAgaW5qZWN0OlsncmVsb2FkJ10sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICAgICAgICBwYWdlOiB7DQogICAgICAgICAgICAgICAgcGFnZTogMSwNCiAgICAgICAgICAgICAgICB0b3RhbDogMCwNCiAgICAgICAgICAgICAgICBzaXplOiAxMCwNCg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGluamVjdDpbJ3JlbG9hZCddLA0KICAgICAgICAgICAgdWlUZXN0Q2FzZUlkOiAiIiwNCg0KICAgICAgICAgICAgc2hvd0FkZE9yRWRpdFVpVGVzdENhc2U6ZmFsc2UsDQoNCiAgICAgICAgICAgIG9wc1R5cGU6ICJhZGQiLA0KDQogICAgICAgICAgICAvLyDlvZPliY11aVRlc3RDYXNlSWQNCiAgICAgICAgICAgIGN1cnJlbnRVaVRlc3RDYXNlSWQ6IDAsDQoNCiAgICAgICAgICAgIC8v5b2T5YmNdWlUZXN0Q2FzZeaVsOaNrg0KICAgICAgICAgICAgY3VycmVudFVpVGVzdENhc2VEYXRhOiB7fSwNCg0KICAgICAgICAgICAgcnVsZXM6IHsNCiAgICAgICAgICAgICAgICB1aV9wYWdlX25hbWU6IFsNCiAgICAgICAgICAgICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6aG16Z2i5ZCN56ewJywgdHJpZ2dlcjogJ2JsdXInfSwNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIHVpX3BhZ2VfZGVzY3JpYmU6IFsNCiAgICAgICAgICAgICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6aG16Z2i5o+P6L+wJywgdHJpZ2dlcjogJ2JsdXInfSwNCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgIHVpX3Byb2plY3RfaWQ6IFsNCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+mAieaLqemhueebricsIHRyaWdnZXI6ICdjaGFuZ2UnIH0NCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBtZXRob2RzOiB7DQoNCiAgICAgICAgZm9ybWF0dGVyKHJvdywgY29sdW1uKSB7DQogICAgICAgICAgICByZXR1cm4gcm93LmFkZHJlc3M7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUVkaXQoaW5kZXgsIHJvdykgew0KICAgICAgICAgICAgY29uc29sZS5sb2coaW5kZXgsIHJvdyk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlU2l6ZUNoYW5nZShzaXplKSB7DQogICAgICAgICAgICB0aGlzLnBhZ2Uuc2l6ZSA9IHNpemU7DQogICAgICAgICAgICB0aGlzLmdldFVpUGFnZUZ1bigpDQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UoaW5kZXgpIHsNCiAgICAgICAgICAgIHRoaXMucGFnZS5wYWdlID0gaW5kZXg7DQogICAgICAgICAgICB0aGlzLmdldFVpVGVzdENhc2VGdW4oKQ0KICAgICAgICB9LA0KDQogICAgICAgIC8v6I635Y+W5omA5pyJ5rWL6K+V55So5L6L5YiX6KGoDQogICAgICAgIGdldFVpVGVzdENhc2VGdW4oKSB7DQogICAgICAgICAgICBsZXQgcmVxID0gew0KICAgICAgICAgICAgICAgIHBhZ2U6IHRoaXMucGFnZS5wYWdlLA0KICAgICAgICAgICAgICAgIHNpemU6IHRoaXMucGFnZS5zaXplLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGdldFVpVGVzdENhc2VSZXF1ZXN0KHRoaXMucHJvamVjdElkKS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGEuZGF0YS5kYXRhOw0KDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6I635Y+W5o6l5Y+j5aSx6LSlIikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KDQoNCiAgICAgICAgb3BlbkFkZFBhZ2VFbGVtZW50KCl7DQogICAgICAgICAgICB0aGlzLm9wc1R5cGUgPSAnYWRkJzsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFVpVGVzdENhc2VJZCA9IDA7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRVaVRlc3RDYXNlRGF0YSA9IHt9Ow0KDQogICAgICAgICAgICB0aGlzLnNob3dBZGRPckVkaXRVaVRlc3RDYXNlID0gdHJ1ZQ0KDQoNCiAgICAgICAgfSwNCg0KICAgICAgICBvcGVuRWRpdFVpVGVzdENhc2UoZGF0YSl7DQogICAgICAgICAgICB0aGlzLm9wc1R5cGUgPSAnZWRpdCc7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRVaVRlc3RDYXNlSWQgPSBkYXRhLmlkOw0KICAgICAgICAgICAgdGhpcy5jdXJyZW50VWlUZXN0Q2FzZURhdGEgPSBkYXRhOw0KICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSkNCg0KICAgICAgICAgICAgdGhpcy5zaG93QWRkT3JFZGl0VWlUZXN0Q2FzZSA9IHRydWU7DQoNCg0KICAgICAgICB9LA0KDQoNCg0KICAgICAgICBzYXZlVWlUZXN0Q2FzZSgpew0KICAgICAgICAgICAgdGhpcy5zaG93QWRkT3JFZGl0VWlUZXN0Q2FzZSA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLmdldFVpVGVzdENhc2VGdW4oKTsNCg0KDQogICAgICAgIH0sDQogICAgICAgIGNhbmNlbFNhdmVVaVRlc3RDYXNlKCl7DQogICAgICAgICAgICB0aGlzLnNob3dBZGRPckVkaXRVaVRlc3RDYXNlID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuZ2V0VWlUZXN0Q2FzZUZ1bigpOw0KICAgICAgICB9LA0KDQoNCg0KICAgICAgICAvL+WIoOmZpOWNleS4qua1i+ivleeUqOS+i+WFg+e0oA0KICAgICAgICBkZWxldGVVaVRlc3RDYXNlUG9wdXAoZGF0YSl7DQogICAgICAgICAgICB0aGlzLnVpVGVzdENhc2VJZCA9IGRhdGEuaWQNCiAgICAgICAgICAgIGRlbGV0ZVNpbmdsZVVpVGVzdENhc2VSZXF1ZXN0KHRoaXMudWlUZXN0Q2FzZUlkKS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFVpVGVzdENhc2VGdW4oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5rWL6K+V55So5L6L5oiQ5YqfIikNCg0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5Yig6Zmk5rWL6K+V55So5L6L5aSx6LSlIikNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICk7DQoNCiAgICAgICAgfSwNCg0KICAgICAgICAvLyDov5Tlm57pobnnm67pppbpobXliJfooagNCiAgICAgICAgcmV0dXJuUHJvamVjdExpc3QoKSB7DQogICAgICAgICAgICB0aGlzLiRwYXJlbnQucHJvamVjdExpc3QoKTsNCiAgICAgICAgfQ0KDQogICAgfSwNCg0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgJ2FkZC1vci1lZGl0LXVpLXRlc3QtY2FzZSc6IGFkZE9yRWRpdFVpVGVzdENhc2UsDQoNCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIGlmICgnZW50ZXInID09PSB0aGlzLnR5cGUpew0KICAgICAgICAgICAgdGhpcy5wcm9qZWN0SWQgPSB0aGlzLnVpUHJvamVjdElkDQogICAgICAgICAgICB0aGlzLmdldFVpVGVzdENhc2VGdW4oKTsNCiAgICAgICAgfQ0KDQogICAgfQ0KfTsNCg=="},{"version":3,"sources":["UiTestCase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;;;AAIA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"UiTestCase.vue","sourceRoot":"src/components/page/uiAutomation/uiTestCase","sourcesContent":["<template>\r\n    <div>\r\n        <add-or-edit-ui-test-case\r\n            :type=\"opsType\"\r\n            :uiTestCaseId=\"currentUiTestCaseId\"\r\n            :uiTestCaseData=\"currentUiTestCaseData\"\r\n\r\n            @saveUiTestCase=\"saveUiTestCase\"\r\n            @cancelSaveUiTestCase=\"cancelSaveUiTestCase\"\r\n            v-if=\"showAddOrEditUiTestCase\">\r\n\r\n        </add-or-edit-ui-test-case>\r\n        <div v-else>\r\n            <el-row>\r\n                <el-button @click=\"returnProjectList\">返回</el-button>\r\n                <el-button type=\"primary\" @click=\"openAddPageElement\" >创建UI测试用例</el-button>\r\n            </el-row>\r\n            <div>\r\n                <el-table\r\n                    :data=\"tableData\"\r\n                    style=\"width: 100%\">\r\n                    <!--                    :default-sort = \"{prop: 'date', order: 'descending'}\">-->\r\n                    <el-table-column\r\n                        prop=\"id\"\r\n                        label=\"id\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"ui_project_name\"\r\n                        label=\"项目名称\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"ui_test_case_name\"\r\n                        label=\"UI测试用例\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"updata_time\"\r\n                        label=\"更新时间\"\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n\r\n                    <el-table-column\r\n                        prop=\"create_time\"\r\n                        label=\"创建时间\"\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                @click=\"openEditUiTestCase(scope.row)\">编辑</el-button>\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                type=\"danger\"\r\n                                @click=\"deleteUiTestCasePopup(scope.row)\">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { deleteSingleUiTestCaseRequest, getUiTestCaseRequest } from '../../../../api/uiAutomation/uiTestCase';\r\nimport addOrEditUiTestCase from './addOrEditUiTestCase';\r\n\r\nexport default {\r\n    name: 'UiTestCase',\r\n    props: ['type', 'uiProjectId'],\r\n    inject:['reload'],\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n            page: {\r\n                page: 1,\r\n                total: 0,\r\n                size: 10,\r\n\r\n            },\r\n            inject:['reload'],\r\n            uiTestCaseId: \"\",\r\n\r\n            showAddOrEditUiTestCase:false,\r\n\r\n            opsType: \"add\",\r\n\r\n            // 当前uiTestCaseId\r\n            currentUiTestCaseId: 0,\r\n\r\n            //当前uiTestCase数据\r\n            currentUiTestCaseData: {},\r\n\r\n            rules: {\r\n                ui_page_name: [\r\n                    {required: true, message: '请输入页面名称', trigger: 'blur'},\r\n                ],\r\n                ui_page_describe: [\r\n                    {required: true, message: '请输入页面描述', trigger: 'blur'},\r\n                ],\r\n                ui_project_id: [\r\n                    { required: true, message: '请选择项目', trigger: 'change' }\r\n                ],\r\n            },\r\n        }\r\n    },\r\n\r\n    methods: {\r\n\r\n        formatter(row, column) {\r\n            return row.address;\r\n        },\r\n        handleEdit(index, row) {\r\n            console.log(index, row);\r\n        },\r\n        handleDelete(index, row) {\r\n            console.log(index, row);\r\n        },\r\n        handleSizeChange(size) {\r\n            this.page.size = size;\r\n            this.getUiPageFun()\r\n        },\r\n        handleCurrentChange(index) {\r\n            this.page.page = index;\r\n            this.getUiTestCaseFun()\r\n        },\r\n\r\n        //获取所有测试用例列表\r\n        getUiTestCaseFun() {\r\n            let req = {\r\n                page: this.page.page,\r\n                size: this.page.size,\r\n            };\r\n            getUiTestCaseRequest(this.projectId).then(data => {\r\n                console.log(data);\r\n                if (true === data.data.success) {\r\n                    this.tableData = data.data.data;\r\n\r\n                } else {\r\n                    this.$message.error(\"获取接口失败\")\r\n                }\r\n            })\r\n        },\r\n\r\n\r\n        openAddPageElement(){\r\n            this.opsType = 'add';\r\n            this.currentUiTestCaseId = 0;\r\n            this.currentUiTestCaseData = {};\r\n\r\n            this.showAddOrEditUiTestCase = true\r\n\r\n\r\n        },\r\n\r\n        openEditUiTestCase(data){\r\n            this.opsType = 'edit';\r\n            this.currentUiTestCaseId = data.id;\r\n            this.currentUiTestCaseData = data;\r\n            console.log(data)\r\n\r\n            this.showAddOrEditUiTestCase = true;\r\n\r\n\r\n        },\r\n\r\n\r\n\r\n        saveUiTestCase(){\r\n            this.showAddOrEditUiTestCase = false\r\n            this.getUiTestCaseFun();\r\n\r\n\r\n        },\r\n        cancelSaveUiTestCase(){\r\n            this.showAddOrEditUiTestCase = false\r\n            this.getUiTestCaseFun();\r\n        },\r\n\r\n\r\n\r\n        //删除单个测试用例元素\r\n        deleteUiTestCasePopup(data){\r\n            this.uiTestCaseId = data.id\r\n            deleteSingleUiTestCaseRequest(this.uiTestCaseId).then(data => {\r\n                    console.log(data);\r\n                    if (true === data.data.success) {\r\n                        this.getUiTestCaseFun();\r\n                        this.$message.success(\"删除测试用例成功\")\r\n\r\n                    } else {\r\n                        this.$message.error(\"删除测试用例失败\")\r\n                    }\r\n                }\r\n            );\r\n\r\n        },\r\n\r\n        // 返回项目首页列表\r\n        returnProjectList() {\r\n            this.$parent.projectList();\r\n        }\r\n\r\n    },\r\n\r\n    components: {\r\n        'add-or-edit-ui-test-case': addOrEditUiTestCase,\r\n\r\n    },\r\n    created() {\r\n        if ('enter' === this.type){\r\n            this.projectId = this.uiProjectId\r\n            this.getUiTestCaseFun();\r\n        }\r\n\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}