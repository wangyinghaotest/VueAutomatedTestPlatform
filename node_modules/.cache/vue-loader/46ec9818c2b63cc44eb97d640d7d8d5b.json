{"remainingRequest":"E:\\test-platform-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\test-platform-vue\\src\\components\\page\\uiTestCase\\UiTestCase.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\test-platform-vue\\src\\components\\page\\uiTestCase\\UiTestCase.vue","mtime":1650008441738},{"path":"E:\\test-platform-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650008434508},{"path":"E:\\test-platform-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1650008434007},{"path":"E:\\test-platform-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650008434508},{"path":"E:\\test-platform-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1650008440984}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWxldGVTaW5nbGVVaVRlc3RDYXNlUmVxdWVzdCwgZ2V0VWlUZXN0Q2FzZVJlcXVlc3QgfSBmcm9tICcuLi8uLi8uLi9hcGkvdWlUZXN0Q2FzZSc7DQppbXBvcnQgYWRkT3JFZGl0VWlUZXN0Q2FzZSBmcm9tICcuL2FkZE9yRWRpdFVpVGVzdENhc2UnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ1VpVGVzdENhc2UnLA0KICAgIHByb3BzOiBbJ3R5cGUnLCAndWlQcm9qZWN0SWQnXSwNCiAgICBpbmplY3Q6WydyZWxvYWQnXSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgICAgICAgIHBhZ2U6IHsNCiAgICAgICAgICAgICAgICBwYWdlOiAxLA0KICAgICAgICAgICAgICAgIHRvdGFsOiAwLA0KICAgICAgICAgICAgICAgIHNpemU6IDEwLA0KDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgaW5qZWN0OlsncmVsb2FkJ10sDQogICAgICAgICAgICB1aVRlc3RDYXNlSWQ6ICIiLA0KDQogICAgICAgICAgICBzaG93QWRkT3JFZGl0VWlUZXN0Q2FzZTpmYWxzZSwNCg0KICAgICAgICAgICAgb3BzVHlwZTogImFkZCIsDQoNCiAgICAgICAgICAgIC8vIOW9k+WJjXVpVGVzdENhc2VJZA0KICAgICAgICAgICAgY3VycmVudFVpVGVzdENhc2VJZDogMCwNCg0KICAgICAgICAgICAgLy/lvZPliY11aVRlc3RDYXNl5pWw5o2uDQogICAgICAgICAgICBjdXJyZW50VWlUZXN0Q2FzZURhdGE6IHt9LA0KDQogICAgICAgICAgICBydWxlczogew0KICAgICAgICAgICAgICAgIHVpX3BhZ2VfbmFtZTogWw0KICAgICAgICAgICAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXpobXpnaLlkI3np7AnLCB0cmlnZ2VyOiAnYmx1cid9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgdWlfcGFnZV9kZXNjcmliZTogWw0KICAgICAgICAgICAgICAgICAgICB7cmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXpobXpnaLmj4/ov7AnLCB0cmlnZ2VyOiAnYmx1cid9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgdWlfcHJvamVjdF9pZDogWw0KICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup6aG555uuJywgdHJpZ2dlcjogJ2NoYW5nZScgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICB9LA0KICAgICAgICB9DQogICAgfSwNCg0KICAgIG1ldGhvZHM6IHsNCg0KICAgICAgICBmb3JtYXR0ZXIocm93LCBjb2x1bW4pIHsNCiAgICAgICAgICAgIHJldHVybiByb3cuYWRkcmVzczsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlRWRpdChpbmRleCwgcm93KSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlRGVsZXRlKGluZGV4LCByb3cpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVTaXplQ2hhbmdlKHNpemUpIHsNCiAgICAgICAgICAgIHRoaXMucGFnZS5zaXplID0gc2l6ZTsNCiAgICAgICAgICAgIHRoaXMuZ2V0VWlQYWdlRnVuKCkNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlQ3VycmVudENoYW5nZShpbmRleCkgew0KICAgICAgICAgICAgdGhpcy5wYWdlLnBhZ2UgPSBpbmRleDsNCiAgICAgICAgICAgIHRoaXMuZ2V0VWlUZXN0Q2FzZUZ1bigpDQogICAgICAgIH0sDQoNCiAgICAgICAgLy/ojrflj5bmiYDmnInmtYvor5XnlKjkvovliJfooagNCiAgICAgICAgZ2V0VWlUZXN0Q2FzZUZ1bigpIHsNCiAgICAgICAgICAgIGxldCByZXEgPSB7DQogICAgICAgICAgICAgICAgcGFnZTogdGhpcy5wYWdlLnBhZ2UsDQogICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5wYWdlLnNpemUsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgZ2V0VWlUZXN0Q2FzZVJlcXVlc3QodGhpcy5wcm9qZWN0SWQpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gZGF0YS5kYXRhLmRhdGE7DQoNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bmjqXlj6PlpLHotKUiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQoNCg0KICAgICAgICBvcGVuQWRkUGFnZUVsZW1lbnQoKXsNCiAgICAgICAgICAgIHRoaXMub3BzVHlwZSA9ICdhZGQnOw0KICAgICAgICAgICAgdGhpcy5jdXJyZW50VWlUZXN0Q2FzZUlkID0gMDsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFVpVGVzdENhc2VEYXRhID0ge307DQoNCiAgICAgICAgICAgIHRoaXMuc2hvd0FkZE9yRWRpdFVpVGVzdENhc2UgPSB0cnVlDQoNCg0KICAgICAgICB9LA0KDQogICAgICAgIG9wZW5FZGl0VWlUZXN0Q2FzZShkYXRhKXsNCiAgICAgICAgICAgIHRoaXMub3BzVHlwZSA9ICdlZGl0JzsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFVpVGVzdENhc2VJZCA9IGRhdGEuaWQ7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRVaVRlc3RDYXNlRGF0YSA9IGRhdGE7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQ0KDQogICAgICAgICAgICB0aGlzLnNob3dBZGRPckVkaXRVaVRlc3RDYXNlID0gdHJ1ZTsNCg0KDQogICAgICAgIH0sDQoNCg0KDQogICAgICAgIHNhdmVVaVRlc3RDYXNlKCl7DQogICAgICAgICAgICB0aGlzLnNob3dBZGRPckVkaXRVaVRlc3RDYXNlID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuZ2V0VWlUZXN0Q2FzZUZ1bigpOw0KDQoNCiAgICAgICAgfSwNCiAgICAgICAgY2FuY2VsU2F2ZVVpVGVzdENhc2UoKXsNCiAgICAgICAgICAgIHRoaXMuc2hvd0FkZE9yRWRpdFVpVGVzdENhc2UgPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy5nZXRVaVRlc3RDYXNlRnVuKCk7DQogICAgICAgIH0sDQoNCg0KDQogICAgICAgIC8v5Yig6Zmk5Y2V5Liq5rWL6K+V55So5L6L5YWD57SgDQogICAgICAgIGRlbGV0ZVVpVGVzdENhc2VQb3B1cChkYXRhKXsNCiAgICAgICAgICAgIHRoaXMudWlUZXN0Q2FzZUlkID0gZGF0YS5pZA0KICAgICAgICAgICAgZGVsZXRlU2luZ2xlVWlUZXN0Q2FzZVJlcXVlc3QodGhpcy51aVRlc3RDYXNlSWQpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgICAgICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0VWlUZXN0Q2FzZUZ1bigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmtYvor5XnlKjkvovmiJDlip8iKQ0KDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLliKDpmaTmtYvor5XnlKjkvovlpLHotKUiKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgKTsNCg0KICAgICAgICB9LA0KDQogICAgICAgIC8vIOi/lOWbnumhueebrummlumhteWIl+ihqA0KICAgICAgICByZXR1cm5Qcm9qZWN0TGlzdCgpIHsNCiAgICAgICAgICAgIHRoaXMuJHBhcmVudC5wcm9qZWN0TGlzdCgpOw0KICAgICAgICB9DQoNCiAgICB9LA0KDQogICAgY29tcG9uZW50czogew0KICAgICAgICAnYWRkLW9yLWVkaXQtdWktdGVzdC1jYXNlJzogYWRkT3JFZGl0VWlUZXN0Q2FzZSwNCg0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgaWYgKCdlbnRlcicgPT09IHRoaXMudHlwZSl7DQogICAgICAgICAgICB0aGlzLnByb2plY3RJZCA9IHRoaXMudWlQcm9qZWN0SWQNCiAgICAgICAgICAgIHRoaXMuZ2V0VWlUZXN0Q2FzZUZ1bigpOw0KICAgICAgICB9DQoNCiAgICB9DQp9Ow0K"},{"version":3,"sources":["UiTestCase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;;;AAIA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"UiTestCase.vue","sourceRoot":"src/components/page/uiTestCase","sourcesContent":["<template>\r\n    <div>\r\n        <add-or-edit-ui-test-case\r\n            :type=\"opsType\"\r\n            :uiTestCaseId=\"currentUiTestCaseId\"\r\n            :uiTestCaseData=\"currentUiTestCaseData\"\r\n\r\n            @saveUiTestCase=\"saveUiTestCase\"\r\n            @cancelSaveUiTestCase=\"cancelSaveUiTestCase\"\r\n            v-if=\"showAddOrEditUiTestCase\">\r\n\r\n        </add-or-edit-ui-test-case>\r\n        <div v-else>\r\n            <el-row>\r\n                <el-button @click=\"returnProjectList\">返回</el-button>\r\n                <el-button type=\"primary\" @click=\"openAddPageElement\" >创建UI测试用例</el-button>\r\n            </el-row>\r\n            <div>\r\n                <el-table\r\n                    :data=\"tableData\"\r\n                    style=\"width: 100%\">\r\n                    <!--                    :default-sort = \"{prop: 'date', order: 'descending'}\">-->\r\n                    <el-table-column\r\n                        prop=\"id\"\r\n                        label=\"id\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"ui_project_name\"\r\n                        label=\"项目名称\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"ui_test_case_name\"\r\n                        label=\"UI测试用例\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"updata_time\"\r\n                        label=\"更新时间\"\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n\r\n                    <el-table-column\r\n                        prop=\"create_time\"\r\n                        label=\"创建时间\"\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                @click=\"openEditUiTestCase(scope.row)\">编辑</el-button>\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                type=\"danger\"\r\n                                @click=\"deleteUiTestCasePopup(scope.row)\">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { deleteSingleUiTestCaseRequest, getUiTestCaseRequest } from '../../../api/uiTestCase';\r\nimport addOrEditUiTestCase from './addOrEditUiTestCase';\r\n\r\nexport default {\r\n    name: 'UiTestCase',\r\n    props: ['type', 'uiProjectId'],\r\n    inject:['reload'],\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n            page: {\r\n                page: 1,\r\n                total: 0,\r\n                size: 10,\r\n\r\n            },\r\n            inject:['reload'],\r\n            uiTestCaseId: \"\",\r\n\r\n            showAddOrEditUiTestCase:false,\r\n\r\n            opsType: \"add\",\r\n\r\n            // 当前uiTestCaseId\r\n            currentUiTestCaseId: 0,\r\n\r\n            //当前uiTestCase数据\r\n            currentUiTestCaseData: {},\r\n\r\n            rules: {\r\n                ui_page_name: [\r\n                    {required: true, message: '请输入页面名称', trigger: 'blur'},\r\n                ],\r\n                ui_page_describe: [\r\n                    {required: true, message: '请输入页面描述', trigger: 'blur'},\r\n                ],\r\n                ui_project_id: [\r\n                    { required: true, message: '请选择项目', trigger: 'change' }\r\n                ],\r\n            },\r\n        }\r\n    },\r\n\r\n    methods: {\r\n\r\n        formatter(row, column) {\r\n            return row.address;\r\n        },\r\n        handleEdit(index, row) {\r\n            console.log(index, row);\r\n        },\r\n        handleDelete(index, row) {\r\n            console.log(index, row);\r\n        },\r\n        handleSizeChange(size) {\r\n            this.page.size = size;\r\n            this.getUiPageFun()\r\n        },\r\n        handleCurrentChange(index) {\r\n            this.page.page = index;\r\n            this.getUiTestCaseFun()\r\n        },\r\n\r\n        //获取所有测试用例列表\r\n        getUiTestCaseFun() {\r\n            let req = {\r\n                page: this.page.page,\r\n                size: this.page.size,\r\n            };\r\n            getUiTestCaseRequest(this.projectId).then(data => {\r\n                console.log(data);\r\n                if (true === data.data.success) {\r\n                    this.tableData = data.data.data;\r\n\r\n                } else {\r\n                    this.$message.error(\"获取接口失败\")\r\n                }\r\n            })\r\n        },\r\n\r\n\r\n        openAddPageElement(){\r\n            this.opsType = 'add';\r\n            this.currentUiTestCaseId = 0;\r\n            this.currentUiTestCaseData = {};\r\n\r\n            this.showAddOrEditUiTestCase = true\r\n\r\n\r\n        },\r\n\r\n        openEditUiTestCase(data){\r\n            this.opsType = 'edit';\r\n            this.currentUiTestCaseId = data.id;\r\n            this.currentUiTestCaseData = data;\r\n            console.log(data)\r\n\r\n            this.showAddOrEditUiTestCase = true;\r\n\r\n\r\n        },\r\n\r\n\r\n\r\n        saveUiTestCase(){\r\n            this.showAddOrEditUiTestCase = false\r\n            this.getUiTestCaseFun();\r\n\r\n\r\n        },\r\n        cancelSaveUiTestCase(){\r\n            this.showAddOrEditUiTestCase = false\r\n            this.getUiTestCaseFun();\r\n        },\r\n\r\n\r\n\r\n        //删除单个测试用例元素\r\n        deleteUiTestCasePopup(data){\r\n            this.uiTestCaseId = data.id\r\n            deleteSingleUiTestCaseRequest(this.uiTestCaseId).then(data => {\r\n                    console.log(data);\r\n                    if (true === data.data.success) {\r\n                        this.getUiTestCaseFun();\r\n                        this.$message.success(\"删除测试用例成功\")\r\n\r\n                    } else {\r\n                        this.$message.error(\"删除测试用例失败\")\r\n                    }\r\n                }\r\n            );\r\n\r\n        },\r\n\r\n        // 返回项目首页列表\r\n        returnProjectList() {\r\n            this.$parent.projectList();\r\n        }\r\n\r\n    },\r\n\r\n    components: {\r\n        'add-or-edit-ui-test-case': addOrEditUiTestCase,\r\n\r\n    },\r\n    created() {\r\n        if ('enter' === this.type){\r\n            this.projectId = this.uiProjectId\r\n            this.getUiTestCaseFun();\r\n        }\r\n\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}