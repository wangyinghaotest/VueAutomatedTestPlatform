{"remainingRequest":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\VUE\\VueAutomatedTestPlatform\\src\\components\\page\\uiTask\\UiTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\VUE\\VueAutomatedTestPlatform\\src\\components\\page\\uiTask\\UiTask.vue","mtime":1632633660580},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZWxldGVTaW5nbGVVaVRlc3RUYXNrUmVxdWVzdCwgZ2V0VWlUZXN0VGFza1JlcXVlc3QscG9zdFBlcmZvcm1VaVRhc2tSZXF1ZXN0fSBmcm9tICcuLi8uLi8uLi9hcGkvdWlUZXN0VGFzayc7DQppbXBvcnQgYWRkT3JFZGl0VWlUZXN0VGFzayBmcm9tICcuL2FkZE9yRWRpdFVpVGVzdFRhc2snOw0KaW1wb3J0IFVpVGVzdFRhc2tSZXN1bHQgZnJvbSAnLi9VaVRlc3RUYXNrUmVzdWx0JzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBpbmplY3Q6WydyZWxvYWQnXSwNCiAgbmFtZTogJ1VpVGFzaycsDQogIHByb3BzOiBbJ3R5cGUnLCAndWlQcm9qZWN0SWQnXSwNCg0KICBkYXRhKCl7DQogICAgcmV0dXJuew0KDQogICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgdWlUZXN0VGFza0lkOiAiIiwNCg0KICAgICAgc2hvd0FkZE9yRWRpdFVpVGVzdFRhc2sgOiBmYWxzZSwNCg0KICAgICAgc2hvd1VpVGVzdFRhc2tSZXN1bHQ6IGZhbHNlLA0KDQogICAgICBvcHNUeXBlOiAiYWRkIiwNCg0KICAgICAgLy/lvZPliY11aVRlc3RUYXNrSWQNCiAgICAgIGN1cnJlbnRVaVRlc3RUYXNrSWQ6IDAsDQoNCiAgICAgIC8v5b2T5YmNIHVpdGVzdENhc2XmlbDmja4NCiAgICAgIGN1cnJlbnRVaVRlc3RUYXNrRGF0YToge30sDQogICAgICBwcm9qZWN0SWQ6IiINCg0KDQoNCg0KDQogICAgfQ0KICB9LA0KDQogIG1ldGhvZHM6ew0KDQogICAgLy/ojrflj5bor6Xpobnnm67kuIvnmoTmiYDmnIlVSea1i+ivleS7u+WKoeWIl+ihqA0KICAgIGdldFVpVGVzdFRhc2tGdW4oKSB7DQogICAgICBnZXRVaVRlc3RUYXNrUmVxdWVzdCh0aGlzLnVpUHJvamVjdElkKS50aGVuKGRhdGEgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBkYXRhLmRhdGEuZGF0YTsNCg0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygi6I635Y+W5o6l5Y+j5aSx6LSlIikNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KDQoNCg0KICAgIC8vIOa3u+WKoOa1i+ivleS7u+WKoQ0KICAgIG9wZW5BZGRVaVRlc3RUYXNrKCl7DQogICAgICB0aGlzLm9wc1R5cGUgPSAnYWRkJzsNCiAgICAgIHRoaXMuY3VycmVudFVpVGVzdFRhc2tJZCA9IDA7DQogICAgICB0aGlzLmN1cnJlbnRVaVRlc3RUYXNrRGF0YSA9IHt9Ow0KDQogICAgICB0aGlzLnNob3dBZGRPckVkaXRVaVRlc3RUYXNrID0gdHJ1ZQ0KDQoNCiAgICB9LA0KDQogICAgLy8g57yW6L6R5rWL6K+V5Lu75YqhDQogICAgb3BlbkVkaXRVaVRlc3RUYXNrKGRhdGEpew0KICAgICAgdGhpcy5vcHNUeXBlID0gJ2VkaXQnOw0KICAgICAgdGhpcy5jdXJyZW50VWlUZXN0VGFza0lkID0gZGF0YS5pZDsNCiAgICAgIHRoaXMuY3VycmVudFVpVGVzdFRhc2tEYXRhID0gZGF0YTsNCiAgICAgIGNvbnNvbGUubG9nKGRhdGEpDQoNCiAgICAgIHRoaXMuc2hvd0FkZE9yRWRpdFVpVGVzdFRhc2sgPSB0cnVlOw0KDQoNCg0KICAgIH0sDQoNCiAgICAvL+WIoOmZpOWNleS4quS7u+WKoQ0KICAgIGRlbGV0ZVVpVGVzdFRhc2soZGF0YSl7DQogICAgICB0aGlzLnVpVGVzdFRhc2tJZCA9IGRhdGEuaWQNCiAgICAgIGRlbGV0ZVNpbmdsZVVpVGVzdFRhc2tSZXF1ZXN0KHRoaXMudWlUZXN0VGFza0lkKS50aGVuKGRhdGEgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQ0KICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3Mpew0KICAgICAgICAgIHRoaXMuZ2V0VWlUZXN0VGFza0Z1bigpDQogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmtYvor5Xku7vliqHmiJDlip8iKQ0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygi5Yig6Zmk5rWL6K+V5Lu75Yqh5aSx6LSlIikNCiAgICAgICAgfQ0KICAgICAgfSkNCg0KICAgIH0sDQoNCiAgICAvL+S/neWtmOa1i+ivleS7u+WKoQ0KICAgIHNhdmVVaVRlc3RUYXNrKCl7DQogICAgICB0aGlzLnNob3dBZGRPckVkaXRVaVRlc3RUYXNrID0gZmFsc2UNCiAgICAgIHRoaXMuZ2V0VWlUZXN0VGFza0Z1bigpDQoNCg0KICAgIH0sDQoNCiAgICAvLyDlj5bmtojkv53lrZjmtYvor5Xku7vliqENCiAgICBjYW5jZWxTYXZlVWlUZXN0VGFzaygpew0KICAgICAgdGhpcy5zaG93QWRkT3JFZGl0VWlUZXN0VGFzayA9IGZhbHNlDQogICAgICB0aGlzLmdldFVpVGVzdFRhc2tGdW4oKQ0KDQogICAgfSwNCg0KICAgIC8vIOaJp+ihjOa1i+ivleS7u+WKoQ0KICAgIHBlcmZvcm1VaVRlc3RUYXNrKGRhdGEpew0KDQogICAgICB0aGlzLnVpVGVzdFRhc2tJZCA9IGRhdGEuaWQNCiAgICAgIHBvc3RQZXJmb3JtVWlUYXNrUmVxdWVzdCh0aGlzLnVpVGVzdFRhc2tJZCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coZGF0YSkNCiAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKXsNCiAgICAgICAgICB0aGlzLmdldFVpVGVzdFRhc2tGdW4oKQ0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5omn6KGM5rWL6K+V5Lu75Yqh5oiQ5YqfIikNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmKDEwMjAwID09PSBkYXRhLmRhdGEuZXJyb3IuY29kZS5zdGF0dXMpew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuW9k+WJjeacieS7u+WKoeato+WcqOaJp+ihjO+8gSIpDQoNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oIuaJp+ihjOa1i+ivleS7u+WKoeWksei0pSIpDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfSwNCg0KICAgIC8vIOafpeeci+S7u+WKoeaKpeWRig0KICAgIHJlcG9ydFVpVGVzdFRhc2soZGF0YSl7DQogICAgICB0aGlzLmN1cnJlbnRVaVRlc3RUYXNrSWQgPSBkYXRhLmlkOw0KICAgICAgdGhpcy5jdXJyZW50VWlUZXN0VGFza0RhdGEgPSBkYXRhOw0KICAgICAgY29uc29sZS5sb2coZGF0YSkNCiAgICAgIHRoaXMuc2hvd1VpVGVzdFRhc2tSZXN1bHQgPSB0cnVlDQoNCiAgICB9LA0KDQogICAgLy8g6L+U5Zue6aG555uu6aaW6aG15YiX6KGoDQogICAgcmV0dXJuUHJvamVjdExpc3QoKXsNCiAgICAgIHRoaXMuJHBhcmVudC5yZXR1cm5Qcm9qZWN0KCk7DQogICAgfSwNCg0KICAgIC8vIOi/lOWbnuS7u+WKoeWIl+ihqA0KICAgIHJldHVyblRhc2tMaXN0KCl7DQogICAgICB0aGlzLnNob3dVaVRlc3RUYXNrUmVzdWx0ID0gZmFsc2UNCiAgICAgIHRoaXMuZ2V0VWlUZXN0VGFza0Z1bigpDQogICAgfSwNCg0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgJ2FkZC1vci1lZGl0LXVpLXRlc3QtdGFzayc6IGFkZE9yRWRpdFVpVGVzdFRhc2ssDQogICAgJ3VpLXRlc3QtdGFzay1yZXN1bHQnOiBVaVRlc3RUYXNrUmVzdWx0DQoNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCg0KICAgIGNvbnNvbGUubG9nKCfov5nmmK9pZOWViuWViuWViuWViuWViuWViuWViuWViuWViuWViuWViuWViicsdGhpcy51aVByb2plY3RJZCkNCiAgICBpZiAoJ2VudGVyJz09PSB0aGlzLnR5cGUpew0KICAgICAgdGhpcy5wcm9qZWN0SWQgPSB0aGlzLnVpUHJvamVjdElkDQogICAgICB0aGlzLmdldFVpVGVzdFRhc2tGdW4oKQ0KDQogICAgfQ0KICB9DQoNCg0KfTsNCg=="},{"version":3,"sources":["UiTask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;AAMA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA","file":"UiTask.vue","sourceRoot":"src/components/page/uiTask","sourcesContent":["<template>\r\n  <div>\r\n\r\n    <add-or-edit-ui-test-task\r\n        :type=\"opsType\"\r\n        :uiTestTaskId=\"currentUiTestTaskId\"\r\n        :uiTestTaskData=\"currentUiTestTaskData\"\r\n        :projectId = \"projectId\"\r\n        @saveUiTestTask=\"saveUiTestTask\"\r\n        @cancelSaveUiTestTask=\"cancelSaveUiTestTask\"\r\n        v-if=\"showAddOrEditUiTestTask\">\r\n\r\n    </add-or-edit-ui-test-task>\r\n\r\n    <ui-test-task-result\r\n        :uiTestTaskId=\"currentUiTestTaskId\"\r\n        :uiTestTaskData=\"currentUiTestTaskData\"\r\n        v-else-if=\"showUiTestTaskResult\">\r\n    </ui-test-task-result>\r\n\r\n    <div v-else>\r\n      <div class=\"crumbs\">\r\n        <el-breadcrumb separator=\"/\">\r\n          <el-breadcrumb-item>\r\n            <i class=\"el-icon-lx-calendar\"></i> UI任务管理\r\n          </el-breadcrumb-item>\r\n          <el-breadcrumb-item>UI项目</el-breadcrumb-item>\r\n          <el-breadcrumb-item>UI任务</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n      <el-row>\r\n        <el-button @click=\"returnProjectList\">返回</el-button>\r\n\r\n        <el-button type=\"primary\" @click=\"openAddUiTestTask\" >创建UI测试任务</el-button>\r\n        <el-button @click=\"getUiTestTaskFun\" >刷新</el-button>\r\n      </el-row>\r\n      <div>\r\n        <el-table\r\n            :data=\"tableData\"\r\n            style=\"width: 100%\">\r\n          <!--                    :default-sort = \"{prop: 'date', order: 'descending'}\">-->\r\n          <el-table-column\r\n              prop=\"id\"\r\n              label=\"id\"\r\n              sortable\r\n              width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"ui_project_name\"\r\n              label=\"项目\"\r\n              sortable\r\n              width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"ui_test_task_name\"\r\n              label=\"任务名称\"\r\n              sortable\r\n              width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"status\"\r\n              label=\"状态\"\r\n              sortable\r\n              width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"describe\"\r\n              label=\"描述\"\r\n              sortable\r\n              width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"updata_time\"\r\n              label=\"更新时间\"\r\n              width=\"180\">\r\n          </el-table-column>\r\n\r\n          <el-table-column\r\n              prop=\"create_time\"\r\n              label=\"创建时间\"\r\n              width=\"180\">\r\n          </el-table-column>\r\n          <el-table-column label=\"操作\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                  size=\"mini\"\r\n                  @click=\"openEditUiTestTask(scope.row)\">编辑</el-button>\r\n              <el-button\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  @click=\"deleteUiTestTask(scope.row)\">删除</el-button>\r\n              <el-button\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  @click=\"performUiTestTask(scope.row)\">执行</el-button>\r\n              <el-button\r\n                  size=\"mini\"\r\n                  type=\"danger\"\r\n                  @click=\"reportUiTestTask(scope.row)\">查看报告</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { deleteSingleUiTestTaskRequest, getUiTestTaskRequest,postPerformUiTaskRequest} from '../../../api/uiTestTask';\r\nimport addOrEditUiTestTask from './addOrEditUiTestTask';\r\nimport UiTestTaskResult from './UiTestTaskResult';\r\n\r\nexport default {\r\n  inject:['reload'],\r\n  name: 'UiTask',\r\n  props: ['type', 'uiProjectId'],\r\n\r\n  data(){\r\n    return{\r\n\r\n      tableData: [],\r\n      uiTestTaskId: \"\",\r\n\r\n      showAddOrEditUiTestTask : false,\r\n\r\n      showUiTestTaskResult: false,\r\n\r\n      opsType: \"add\",\r\n\r\n      //当前uiTestTaskId\r\n      currentUiTestTaskId: 0,\r\n\r\n      //当前 uitestCase数据\r\n      currentUiTestTaskData: {},\r\n      projectId:\"\"\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n  },\r\n\r\n  methods:{\r\n\r\n    //获取该项目下的所有UI测试任务列表\r\n    getUiTestTaskFun() {\r\n      getUiTestTaskRequest(this.uiProjectId).then(data => {\r\n        console.log(data);\r\n        if (true === data.data.success) {\r\n          this.tableData = data.data.data;\r\n\r\n        } else {\r\n          this.$message.info(\"获取接口失败\")\r\n        }\r\n      })\r\n    },\r\n\r\n\r\n\r\n    // 添加测试任务\r\n    openAddUiTestTask(){\r\n      this.opsType = 'add';\r\n      this.currentUiTestTaskId = 0;\r\n      this.currentUiTestTaskData = {};\r\n\r\n      this.showAddOrEditUiTestTask = true\r\n\r\n\r\n    },\r\n\r\n    // 编辑测试任务\r\n    openEditUiTestTask(data){\r\n      this.opsType = 'edit';\r\n      this.currentUiTestTaskId = data.id;\r\n      this.currentUiTestTaskData = data;\r\n      console.log(data)\r\n\r\n      this.showAddOrEditUiTestTask = true;\r\n\r\n\r\n\r\n    },\r\n\r\n    //删除单个任务\r\n    deleteUiTestTask(data){\r\n      this.uiTestTaskId = data.id\r\n      deleteSingleUiTestTaskRequest(this.uiTestTaskId).then(data => {\r\n        console.log(data)\r\n        if (true === data.data.success){\r\n          this.getUiTestTaskFun()\r\n          this.$message.success(\"删除测试任务成功\")\r\n        }\r\n        else {\r\n          this.$message.info(\"删除测试任务失败\")\r\n        }\r\n      })\r\n\r\n    },\r\n\r\n    //保存测试任务\r\n    saveUiTestTask(){\r\n      this.showAddOrEditUiTestTask = false\r\n      this.getUiTestTaskFun()\r\n\r\n\r\n    },\r\n\r\n    // 取消保存测试任务\r\n    cancelSaveUiTestTask(){\r\n      this.showAddOrEditUiTestTask = false\r\n      this.getUiTestTaskFun()\r\n\r\n    },\r\n\r\n    // 执行测试任务\r\n    performUiTestTask(data){\r\n\r\n      this.uiTestTaskId = data.id\r\n      postPerformUiTaskRequest(this.uiTestTaskId).then(data => {\r\n        console.log(data)\r\n        if (true === data.data.success){\r\n          this.getUiTestTaskFun()\r\n          this.$message.success(\"执行测试任务成功\")\r\n        }\r\n        else if(10200 === data.data.error.code.status){\r\n          this.$message.error(\"当前有任务正在执行！\")\r\n\r\n        }\r\n        else {\r\n          this.$message.info(\"执行测试任务失败\")\r\n        }\r\n      })\r\n    },\r\n\r\n    // 查看任务报告\r\n    reportUiTestTask(data){\r\n      this.currentUiTestTaskId = data.id;\r\n      this.currentUiTestTaskData = data;\r\n      console.log(data)\r\n      this.showUiTestTaskResult = true\r\n\r\n    },\r\n\r\n    // 返回项目首页列表\r\n    returnProjectList(){\r\n      this.$parent.returnProject();\r\n    },\r\n\r\n    // 返回任务列表\r\n    returnTaskList(){\r\n      this.showUiTestTaskResult = false\r\n      this.getUiTestTaskFun()\r\n    },\r\n\r\n  },\r\n  components: {\r\n    'add-or-edit-ui-test-task': addOrEditUiTestTask,\r\n    'ui-test-task-result': UiTestTaskResult\r\n\r\n  },\r\n  created() {\r\n\r\n    console.log('这是id啊啊啊啊啊啊啊啊啊啊啊啊',this.uiProjectId)\r\n    if ('enter'=== this.type){\r\n      this.projectId = this.uiProjectId\r\n      this.getUiTestTaskFun()\r\n\r\n    }\r\n  }\r\n\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}