{"remainingRequest":"E:\\test_platform_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\test_platform_vue\\src\\components\\page\\performanceScript\\performanceScript.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\test_platform_vue\\src\\components\\page\\performanceScript\\performanceScript.vue","mtime":1637219601817},{"path":"E:\\test_platform_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test_platform_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\test_platform_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test_platform_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICAgIGFkZFBlcmZvcm1hbmNlU2NyaXB0UmVxdWVzdCwNCiAgICBnZXRTaW5nbGVQZXJmb3JtYW5jZVNjcmlwdFJlcXVlc3QsDQogICAgdXBkYXRlU2luZ2xlUGVyZm9ybWFuY2VTY3JpcHRSZXF1ZXN0LA0KICAgIGRlbGV0ZVNpbmdsZVBlcmZvcm1hbmNlU2NyaXB0UmVxdWVzdCwNCiAgICBnZXRTaW5nbGVQZXJmb3JtYW5jZVByb2plY3RTY3JpcHRSZXF1ZXN0LA0KICAgIHVwbG9hZFBlcmZvcm1hbmNlU2NyaXB0UmVxdWVzdCwNCiAgICBwZXJmb3JtUGVyZm9ybWFuY2VTY3JpcHRSZXF1ZXN0DQp9IGZyb20gJy4uLy4uLy4uL2FwaS9wZXJmb3JtYW5jZVNjcmlwdCc7DQppbXBvcnQgeyBmaWxlVXJsIH0gZnJvbSAnLi4vLi4vLi4vYXBpL2NvbW1vbic7DQppbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAndGxzJzsNCmltcG9ydCBwZXJmb3JtYW5jZVJlcG9ydCBmcm9tICcuL3BlcmZvcm1hbmNlUmVwb3J0JzsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG5hbWU6ICdwZXJmb3JtYW5jZVNjcmlwdCcsDQogICAgcHJvcHM6IFsndHlwZScsICdwZXJmb3JtYW5jZVByb2plY3RJZCddLA0KDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHRhYmxlRGF0YTogW10sDQoNCiAgICAgICAgICAgIGZpbGVMaXN0OiBbe31dLA0KDQogICAgICAgICAgICBwYWdlOiB7DQogICAgICAgICAgICAgICAgcGFnZTogMSwNCiAgICAgICAgICAgICAgICB0b3RhbDogMCwNCiAgICAgICAgICAgICAgICBzaXplOiAxMA0KICAgICAgICAgICAgfSwNCg0KICAgICAgICAgICAgc2hvd1BlcmZvcm1hbmNlU2NyaXB0UmVzdWx0OiBmYWxzZSwNCiAgICAgICAgICAgIGFkZFBlcmZvcm1hbmNlU2NyaXB0ZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLA0KICAgICAgICAgICAgZWRpdFBlcmZvcm1hbmNlU2NyaXB0Rm9ybVZpc2libGU6IGZhbHNlLA0KDQogICAgICAgICAgICBhZGRQZXJmb3JtYW5jZVNjcmlwdERhdGE6IHsNCiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZV9zY3JpcHRfbmFtZTogJycsDQogICAgICAgICAgICAgICAgcGVyZm9ybWFuY2VfcHJvamVjdF9pZDogdGhpcy5wcm9qZWN0SWQsDQogICAgICAgICAgICAgICAgcGVyZm9ybWFuY2Vfc2NyaXB0OiAnJywNCiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZV90aHJlYWRzOicnLA0KICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlX3JhbXBfdXBfdGltZV9zZWNvbmRzOicnLA0KICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlX2xvb3BfY291bnQ6JycNCiAgICAgICAgICAgIH0sDQoNCiAgICAgICAgICAgIGFwaVByb2plY3RTZWxlY3Q6IFtdLA0KDQogICAgICAgICAgICBhcGlQcm9qZWN0U2VsZWN0SWQ6ICcnLA0KDQogICAgICAgICAgICBlZGl0UGVyZm9ybWFuY2VTY3JpcHREYXRhOiB7DQogICAgICAgICAgICAgICAgcGVyZm9ybWFuY2Vfc2NyaXB0X25hbWU6ICcnLA0KICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlX3Byb2plY3RfaWQ6IHRoaXMucHJvamVjdElkLA0KICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlX3NjcmlwdDogJycsDQogICAgICAgICAgICAgICAgcGVyZm9ybWFuY2VfdGhyZWFkczonJywNCiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZV9yYW1wX3VwX3RpbWVfc2Vjb25kczonJywNCiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZV9sb29wX2NvdW50OicnLA0KICAgICAgICAgICAgICAgIGlkOiAwDQogICAgICAgICAgICB9LA0KDQogICAgICAgICAgICBwZXJmb3JtYW5jZVNjcmlwdElkOiAnJywNCg0KICAgICAgICAgICAgLy/lvZPliY1wZXJmb3JtYW5jZVNjcmlwdElkDQogICAgICAgICAgICBjdXJyZW50UGVyZm9ybWFuY2VTY3JpcHRJZDogMCwNCg0KICAgICAgICAgICAgLy/lvZPliY0gcGVyZm9ybWFuY2VTY3JpcHTmlbDmja4NCiAgICAgICAgICAgIGN1cnJlbnRQZXJmb3JtYW5jZVNjcmlwdERhdGE6IHt9LA0KDQogICAgICAgICAgICBwcm9qZWN0SWQ6ICcnLA0KDQogICAgICAgICAgICBydWxlczogew0KICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlX3NjcmlwdF9uYW1lOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeiEmuacrOWQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9XSwNCiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZV90aHJlYWRzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpee6v+eoi+aVsCcsIHRyaWdnZXI6ICdibHVyJyB9XSwNCiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZV9yYW1wX3VwX3RpbWVfc2Vjb25kczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXml7bpl7QnLCB0cmlnZ2VyOiAnYmx1cicgfV0sDQogICAgICAgICAgICAgICAgcGVyZm9ybWFuY2VfbG9vcF9jb3VudDogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlvqrnjq/mrKHmlbAnLCB0cmlnZ2VyOiAnYmx1cicgfV0sDQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgVXBsb2FkVXJsKCkgew0KICAgICAgICAgICAgcmV0dXJuIGZpbGVVcmwgKyAnYXBpL2JhY2tlbmQvcGVyZm9ybWFuY2VfdGVzdC9wZXJmb3JtYW5jZV9zY3JpcHRfdXBsb2FkLyc7DQogICAgICAgIH0sDQoNCiAgICAgICAgaGFuZGxlUmVtb3ZlKGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlLCBmaWxlTGlzdCk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZVByZXZpZXcoZmlsZSkgew0KICAgICAgICAgICAgY29uc29sZS5sb2coZmlsZSk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUV4Y2VlZChmaWxlcywgZmlsZUxpc3QpIHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygNCiAgICAgICAgICAgICAgICBg5b2T5YmN6ZmQ5Yi26YCJ5oupIDEg5Liq5paH5Lu277yM5pys5qyh6YCJ5oup5LqGICR7ZmlsZXMubGVuZ3RofSDkuKrmlofku7bvvIzlhbHpgInmi6nkuoYgJHtmaWxlcy5sZW5ndGggKyBmaWxlTGlzdC5sZW5ndGh9IOS4quaWh+S7tmANCiAgICAgICAgICAgICk7DQogICAgICAgIH0sDQogICAgICAgIGJlZm9yZVJlbW92ZShmaWxlLCBmaWxlTGlzdCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGNvbmZpcm0oYOehruWumuenu+mZpCAke2ZpbGUubmFtZX3vvJ9gKTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlQ2hhbmdlKGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnd2VudWphaW4tLS0tLT4nLCBmaWxlLCBmaWxlTGlzdCk7DQogICAgICAgICAgICBjb25zb2xlLmxvZygnd2VudWphaW4tMjIyMi0tLS0+JywgZmlsZUxpc3RbMF0pOw0KICAgICAgICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLmZpbGVMaXN0ID0gW2ZpbGVMaXN0W2ZpbGVMaXN0Lmxlbmd0aCAtIDFdXTsgLy8g6L+Z5LiA5q2l77yM5pivIOWxleekuuacgOWQjuS4gOasoemAieaLqeeahGNzduaWh+S7tg0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgICAgIG9uRXJyb3IocmVzKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZygn5aSx6LSl55qE5Zue6LCDJyArIEpTT04uc3RyaW5naWZ5KHJlcykpOw0KICAgICAgICAgICAgdGhpcy4kYWxlcnQoJ+WIm+W7uuWksei0pScsICfmj5DnpLonLCB7DQogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBhY3Rpb24gPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5LiK5Lyg5aSx6LSlJyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgZm9ybWF0dGVyKHJvdywgY29sdW1uKSB7DQogICAgICAgICAgICByZXR1cm4gcm93LmFkZHJlc3M7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUVkaXQoaW5kZXgsIHJvdykgew0KICAgICAgICAgICAgY29uc29sZS5sb2coaW5kZXgsIHJvdyk7DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlU2l6ZUNoYW5nZShzaXplKSB7DQogICAgICAgICAgICB0aGlzLnBhZ2Uuc2l6ZSA9IHNpemU7DQogICAgICAgICAgICB0aGlzLmdldFNpbmdsZVBlcmZvcm1hbmNlUHJvamVjdFNjcmlwdCgpOw0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKGluZGV4KSB7DQogICAgICAgICAgICB0aGlzLnBhZ2UucGFnZSA9IGluZGV4Ow0KICAgICAgICAgICAgdGhpcy5nZXRTaW5nbGVQZXJmb3JtYW5jZVByb2plY3RTY3JpcHQoKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25FZGl0U3VjY2VzcyhyZXMpIHsNCiAgICAgICAgICAgIHRoaXMuJGFsZXJ0KHJlcy5kYXRhLnJlc3VsdCwgJ+aPkOekuicsIHsNCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgICAgICAgICAgY2FsbGJhY2s6IGFjdGlvbiA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfkuIrkvKDmiJDlip8nKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuZWRpdFBlcmZvcm1hbmNlU2NyaXB0RGF0YS5wZXJmb3JtYW5jZV9zY3JpcHQgPSByZXMuZGF0YS5maWxlOw0KICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nzc3NzJywgcmVzLmRhdGEuZmlsZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgb25TdWNjZXNzKHJlcykgew0KICAgICAgICAgICAgdGhpcy4kYWxlcnQocmVzLmRhdGEucmVzdWx0LCAn5o+Q56S6Jywgew0KICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICAgICAgICBjYWxsYmFjazogYWN0aW9uID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+S4iuS8oOaIkOWKnycpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5hZGRQZXJmb3JtYW5jZVNjcmlwdERhdGEucGVyZm9ybWFuY2Vfc2NyaXB0ID0gcmVzLmRhdGEuZmlsZTsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmZpbGUpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8vIOe8lui+keW8ueahhi0t5LiL6L29am1ldGVy6ISa5pysDQogICAgICAgIGVkaXREb3dubG9hZFBlcmZvcm1hbmNlU2NyaXB0KCkgew0KICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5maWxlTGlzdFswXS51cmwpOw0KDQogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHRoaXMuZmlsZUxpc3RbMF0udXJsOw0KICAgICAgICB9LA0KDQogICAgICAgIC8vIOa3u+WKoOW8ueahhi0t5LiL6L29am1ldGVy6ISa5pysDQogICAgICAgIGFkZERvd25sb2FkUGVyZm9ybWFuY2VTY3JpcHQoKSB7DQogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbGVMaXN0WzBdLnVybCk7DQogICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHRoaXMuZmlsZUxpc3RbMF0udXJsOw0KICAgICAgICB9LA0KDQogICAgICAgIC8vIOa3u+WKoOaAp+iDveiEmuacrA0KICAgICAgICBhZGRQZXJmb3JtYW5jZVNjcmlwdCgpIHsNCiAgICAgICAgICAgIGxldCByZXEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuYWRkUGVyZm9ybWFuY2VTY3JpcHREYXRhKSk7DQoNCiAgICAgICAgICAgIHRoaXMuJHJlZnMuYWRkUGVyZm9ybWFuY2VTY3JpcHRGb3JtUmVmLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8g5Luj6KGo5qCh6aqM6YCa6L+HDQogICAgICAgICAgICAgICAgICAgIGFkZFBlcmZvcm1hbmNlU2NyaXB0UmVxdWVzdChyZXEpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUGVyZm9ybWFuY2VTY3JpcHRkaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTaW5nbGVQZXJmb3JtYW5jZVByb2plY3RTY3JpcHQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIm+W7uuaooeWdl+aIkOWKnycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfliJvlu7rmqKHlnZflpLHotKUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgLy/moKHpqozlpLHotKUNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KDQogICAgICAgIC8v5Y+W5raI6ISa5pys5Yib5bu6DQogICAgICAgIGFkZFNjcmlwdENhbmNlbCgpIHsNCiAgICAgICAgICAgIHRoaXMuYWRkUGVyZm9ybWFuY2VTY3JpcHRkaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy4kcmVmc1snbXktdXBsb2FkJ10uY2xlYXJGaWxlcygpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8v5Y+W5raI6ISa5pys5Yib5bu6DQogICAgICAgIGVkaXRTY3JpcHRDYW5jZWwoKSB7DQogICAgICAgICAgICB0aGlzLmVkaXRQZXJmb3JtYW5jZVNjcmlwdEZvcm1WaXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLiRyZWZzWydteS11cGxvYWQnXS5jbGVhckZpbGVzKCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLy8g5re75Yqg6aG16Z2iIOW8ueeqlw0KICAgICAgICBhZGRQZXJmb3JtYW5jZVNjcmlwdFBvcHVwKCkgew0KICAgICAgICAgICAgdGhpcy5hZGRQZXJmb3JtYW5jZVNjcmlwdERhdGEgPSB7DQogICAgICAgICAgICAgICAgcGVyZm9ybWFuY2Vfc2NyaXB0X25hbWU6ICcnLA0KICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlX3Byb2plY3RfaWQ6IHRoaXMucHJvamVjdElkLA0KICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlX3NjcmlwdDogJycNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICB0aGlzLmFkZFBlcmZvcm1hbmNlU2NyaXB0ZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOw0KICAgICAgICB9LA0KDQogICAgICAgIGhhbmRsZU5vZGVDbGljayhkYXRhKSB7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRTZXJ2aWNlSWQgPSBkYXRhLmlkOw0KICAgICAgICB9LA0KDQogICAgICAgIC8v57yW6L6R6ISa5pysDQogICAgICAgIGVkaXRQZXJmb3JtYW5jZVNjcmlwdCgpIHsNCiAgICAgICAgICAgIGxldCByZXEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZWRpdFBlcmZvcm1hbmNlU2NyaXB0RGF0YSkpOw0KDQogICAgICAgICAgICB0aGlzLiRyZWZzLmVkaXRQZXJmb3JtYW5jZVNjcmlwdFJlZi52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wcm9qZWN0SWQpOw0KICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgICAgICAgICAvLyDku6PooajmoKHpqozpgJrov4cNCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlU2luZ2xlUGVyZm9ybWFuY2VTY3JpcHRSZXF1ZXN0KHRoaXMucGVyZm9ybWFuY2VTY3JpcHRJZCwgcmVxKS50aGVuKGRhdGEgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFNpbmdsZVBlcmZvcm1hbmNlUHJvamVjdFNjcmlwdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdFBlcmZvcm1hbmNlU2NyaXB0Rm9ybVZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+e8lui+kemhtemdouaIkOWKnycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnvJbovpHpobXpnaLlpLHotKUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgLy/moKHpqozlpLHotKUNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KDQogICAgICAgIC8v57yW6L6R6ISa5pys5by556qX5bm26I635Y+W5Y2V5Liq6aG555uuDQogICAgICAgIGVkaXRQZXJmb3JtYW5jZVNjcmlwdFBvcHVwKGRhdGEpIHsNCiAgICAgICAgICAgIHRoaXMucGVyZm9ybWFuY2VTY3JpcHRJZCA9IGRhdGEuaWQ7DQogICAgICAgICAgICB0aGlzLmVkaXRQZXJmb3JtYW5jZVNjcmlwdERhdGEgPSBkYXRhOw0KDQogICAgICAgICAgICAvLyDojrflj5bljZXkuKrohJrmnKzkv6Hmga8NCiAgICAgICAgICAgIGdldFNpbmdsZVBlcmZvcm1hbmNlU2NyaXB0UmVxdWVzdCh0aGlzLnBlcmZvcm1hbmNlU2NyaXB0SWQpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdFBlcmZvcm1hbmNlU2NyaXB0RGF0YS5wZXJmb3JtYW5jZV9zY3JpcHRfbmFtZSA9IGRhdGEuZGF0YS5kYXRhLnBlcmZvcm1hbmNlX3NjcmlwdF9uYW1lOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRQZXJmb3JtYW5jZVNjcmlwdERhdGEucGVyZm9ybWFuY2VfcHJvamVjdF9pZCA9IGRhdGEuZGF0YS5kYXRhLnBlcmZvcm1hbmNlX3Byb2plY3RfaWQ7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdFBlcmZvcm1hbmNlU2NyaXB0RGF0YS5wZXJmb3JtYW5jZV90aHJlYWRzID0gZGF0YS5kYXRhLmRhdGEucGVyZm9ybWFuY2VfdGhyZWFkczsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0UGVyZm9ybWFuY2VTY3JpcHREYXRhLnBlcmZvcm1hbmNlX3JhbXBfdXBfdGltZV9zZWNvbmRzID0gZGF0YS5kYXRhLmRhdGEucGVyZm9ybWFuY2VfcmFtcF91cF90aW1lX3NlY29uZHM7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdFBlcmZvcm1hbmNlU2NyaXB0RGF0YS5wZXJmb3JtYW5jZV9sb29wX2NvdW50ID0gZGF0YS5kYXRhLmRhdGEucGVyZm9ybWFuY2VfbG9vcF9jb3VudDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWxlTGlzdCA9IGRhdGEuZGF0YS5kYXRhLnBlcmZvcm1hbmNlX3NjcmlwdF91cmw7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZWRpdFBlcmZvcm1hbmNlU2NyaXB0RGF0YS5wZXJmb3JtYW5jZV9zY3JpcHQpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRQZXJmb3JtYW5jZVNjcmlwdEZvcm1WaXNpYmxlID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bmjqXlj6PlpLHotKUnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvL+WIoOmZpOaAp+iDveiEmuacrA0KICAgICAgICBkZWxldGVQZXJmb3JtYW5jZVNjcmlwdFBvcHVwKGRhdGEpIHsNCiAgICAgICAgICAgIHRoaXMucGVyZm9ybWFuY2VTY3JpcHRJZCA9IGRhdGEuaWQ7DQoNCiAgICAgICAgICAgIGRlbGV0ZVNpbmdsZVBlcmZvcm1hbmNlU2NyaXB0UmVxdWVzdCh0aGlzLnBlcmZvcm1hbmNlU2NyaXB0SWQpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2luZ2xlUGVyZm9ybWFuY2VQcm9qZWN0U2NyaXB0KCk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oCn6IO96ISa5pys5oiQ5YqfJyk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Yig6Zmk5oCn6IO96ISa5pys5aSx6LSlJyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLy8g5omn6KGM5oCn6IO95rWL6K+V6ISa5pysDQogICAgICAgIHBlcmZvcm1QZXJmb3JtYW5jZVNjcmlwdFBvcHVwKGRhdGEpIHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vmiafooYzkuoYnKTsNCiAgICAgICAgICAgIHBlcmZvcm1QZXJmb3JtYW5jZVNjcmlwdFJlcXVlc3QoZGF0YS5pZCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmdldFNpbmdsZVBlcmZvcm1hbmNlUHJvamVjdFNjcmlwdCgpOw0KICAgICAgICAgICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2Vzcykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFNpbmdsZVBlcmZvcm1hbmNlUHJvamVjdFNjcmlwdCgpOw0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEuZGF0YSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5omn6KGM5rWL6K+V5Lu75Yqh5oiQ5YqfJyk7DQoNCiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoZmFsc2U9PT0gZGF0YS5kYXRhLnN1Y2Nlc3Mpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEuZGF0YS5lcnJvci5jb2RlLm1lc3NhZ2UpDQogICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bmjqXlj6PlpLHotKUnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvLyDmn6XnnIvmgKfog73mtYvor5XmiqXlkYoNCiAgICAgICAgcGVyZm9ybWFuY2VTY3JpcHRSZXBvcnRQb3B1cChkYXRhKSB7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJmb3JtYW5jZVNjcmlwdElkID0gZGF0YS5pZDsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFBlcmZvcm1hbmNlU2NyaXB0RGF0YSA9IGRhdGE7DQogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsNCiAgICAgICAgICAgIHRoaXMuc2hvd1BlcmZvcm1hbmNlU2NyaXB0UmVzdWx0ID0gdHJ1ZTsNCiAgICAgICAgfSwNCg0KDQogICAgICAgIHJldHVyblBlcmZvcm1hbmNlU2NyaXB0TGlzdCgpew0KICAgICAgICAgICAgdGhpcy5zaG93UGVyZm9ybWFuY2VTY3JpcHRSZXN1bHQgPSBmYWxzZTsNCiAgICAgICAgICAgIHRoaXMuZ2V0U2luZ2xlUGVyZm9ybWFuY2VQcm9qZWN0U2NyaXB0KCk7DQoNCiAgICAgICAgfSwNCg0KICAgICAgICAvL+iOt+WPliDljZXkuKrmgKfog73mtYvor5Xpobnnm67kuK3ljIXlkKvlvpfmiYDmnInohJrmnKwNCiAgICAgICAgZ2V0U2luZ2xlUGVyZm9ybWFuY2VQcm9qZWN0U2NyaXB0KCkgew0KICAgICAgICAgICAgZ2V0U2luZ2xlUGVyZm9ybWFuY2VQcm9qZWN0U2NyaXB0UmVxdWVzdCh0aGlzLnByb2plY3RJZCkudGhlbihkYXRhID0+IHsNCiAgICAgICAgICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBkYXRhLmRhdGEuZGF0YTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bmjqXlj6PlpLHotKUnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvLyDov5Tlm57mgKfog73pobnnm67liJfooagNCiAgICAgICAgcmV0dXJuUHJvamVjdExpc3QoKXsNCiAgICAgICAgICAgIHRoaXMuJHBhcmVudC5wcm9qZWN0TGlzdCgpOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIGNvbXBvbmVudHM6IHsNCiAgICAgICAgJ3BlcmZvcm1hbmNlLXNjcmlwdC1yZXN1bHQnOiBwZXJmb3JtYW5jZVJlcG9ydA0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgaWYgKCdlbnRlcicgPT09IHRoaXMudHlwZSkgew0KICAgICAgICAgICAgdGhpcy5wcm9qZWN0SWQgPSB0aGlzLnBlcmZvcm1hbmNlUHJvamVjdElkOw0KICAgICAgICAgICAgdGhpcy5nZXRTaW5nbGVQZXJmb3JtYW5jZVByb2plY3RTY3JpcHQoKTsNCiAgICAgICAgfQ0KICAgIH0NCn07DQo="},{"version":3,"sources":["performanceScript.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"performanceScript.vue","sourceRoot":"src/components/page/performanceScript","sourcesContent":["<template>\r\n    <div>\r\n        <performance-script-result\r\n            :performanceScriptId=\"currentPerformanceScriptId\"\r\n            :performanceScriptData=\"currentPerformanceScriptData\"\r\n            v-if=\"showPerformanceScriptResult\"\r\n        ></performance-script-result>\r\n\r\n        <div v-else>\r\n            <div class=\"crumbs\">\r\n                <el-breadcrumb separator=\"/\">\r\n                    <el-breadcrumb-item>\r\n                        <i class=\"el-icon-lx-calendar\"></i> 性能测试项目\r\n                    </el-breadcrumb-item>\r\n                    <el-breadcrumb-item>性能测试项目</el-breadcrumb-item>\r\n                    <el-breadcrumb-item>性能测试脚本</el-breadcrumb-item>\r\n                </el-breadcrumb>\r\n            </div>\r\n            <el-row>\r\n                <el-button @click=\"returnProjectList\" >返回</el-button>\r\n                <el-button type=\"primary\" @click=\"addPerformanceScriptPopup\">创建性能脚本</el-button>\r\n                <el-button @click=\"getSinglePerformanceProjectScript\" >刷新</el-button>\r\n            </el-row>\r\n\r\n            <el-dialog\r\n                title=\"创建性能脚本\"\r\n                :visible.sync=\"addPerformanceScriptdialogFormVisible\"\r\n                :close-on-click-modal=\"false\"\r\n            >\r\n                <el-form :model=\"addPerformanceScriptData\" :rules=\"rules\" ref=\"addPerformanceScriptFormRef\">\r\n                    <el-form-item label=\"性能脚本名称\" prop=\"performance_script_name\" style=\"padding-right:0px;\">\r\n                        <el-input v-model=\"addPerformanceScriptData.performance_script_name\" autocomplete=\"off\" style=\"width: 232px;margin-left: 26px;\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"线程数\" style=\"padding-right:0px;\" prop=\"performance_threads\">\r\n                        <el-input\r\n                            v-model=\"addPerformanceScriptData.performance_threads\"\r\n                            style=\"width: 232px;margin-left: 69px;\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"Ramp-Up时间(秒)\" style=\"padding-right: 0px;\" prop=\"performance_ramp_up_time_seconds\">\r\n                        <el-input\r\n                            v-model=\"addPerformanceScriptData.performance_ramp_up_time_seconds\"\r\n                            style=\"width: 232px;\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"循环次数\" style=\"padding-right: 0px;\" prop=\"performance_loop_count\">\r\n                        <el-input\r\n                            v-model=\"addPerformanceScriptData.performance_loop_count\"\r\n                            style=\"width: 232px;left: 54px;\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n\r\n                <el-upload\r\n                    :action=\"UploadUrl()\"\r\n                    list-type=\"picture\"\r\n                    ref=\"my-upload\"\r\n                    :on-preview=\"handlePreview\"\r\n                    :on-remove=\"handleRemove\"\r\n                    :before-remove=\"beforeRemove\"\r\n                    :multiple=\"false\"\r\n                    :on-exceed=\"handleExceed\"\r\n                    :file-list=\"fileList\"\r\n                    :on-change=\"handleChange\"\r\n                    accept=\".jmx\"\r\n                    :show-file-list=\"true\"\r\n                    :on-success=\"onSuccess\"\r\n                    :on-error=\"onError\"\r\n                >\r\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jmx文件，且不超过500kb</div>\r\n                </el-upload>\r\n\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button type=\"primary\" @click=\"addDownloadPerformanceScript\">下 载</el-button>\r\n                    <el-button @click=\"addScriptCancel\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"addPerformanceScript\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n\r\n            <el-dialog\r\n                title=\"编辑脚本\"\r\n                :visible.sync=\"editPerformanceScriptFormVisible\"\r\n                :close-on-click-modal=\"false\"\r\n            >\r\n                <el-form :model=\"editPerformanceScriptData\" :rules=\"rules\" ref=\"editPerformanceScriptRef\">\r\n                    <el-form-item label=\"性能脚本名称\" style=\"padding-right: 0px;\" prop=\"performance_script_name\">\r\n                        <el-input\r\n                            v-model=\"editPerformanceScriptData.performance_script_name\"\r\n                            style=\"width: 232px;margin-left: 26px;\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"线程数\" style=\"padding-right: 0px;\" prop=\"performance_threads\">\r\n                        <el-input\r\n                            v-model=\"editPerformanceScriptData.performance_threads\"\r\n                            style=\"width: 232px;margin-left: 69px;\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"Ramp-Up时间(秒)\" style=\"padding-right: 0px;\" prop=\"performance_ramp_up_time_seconds\">\r\n                        <el-input\r\n                            v-model=\"editPerformanceScriptData.performance_ramp_up_time_seconds\"\r\n                            style=\"width: 232px;\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"循环次数\" style=\"padding-right: 0px;\" prop=\"performance_loop_count\">\r\n                        <el-input\r\n                            v-model=\"editPerformanceScriptData.performance_loop_count\"\r\n                            style=\"width: 232px;left: 54px;\"\r\n                        ></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <el-upload\r\n                    :action=\"UploadUrl()\"\r\n                    list-type=\"picture\"\r\n                    ref=\"my-upload\"\r\n                    :on-preview=\"handlePreview\"\r\n                    :on-remove=\"handleRemove\"\r\n                    :before-remove=\"beforeRemove\"\r\n                    :multiple=\"false\"\r\n                    :on-exceed=\"handleExceed\"\r\n                    :file-list=\"fileList\"\r\n                    :on-change=\"handleChange\"\r\n                    accept=\".jmx\"\r\n                    :show-file-list=\"true\"\r\n                    :on-success=\"onEditSuccess\"\r\n                    :on-error=\"onError\"\r\n                >\r\n                    <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n                    <div slot=\"tip\" class=\"el-upload__tip\">只能上传jmx文件，且不超过500kb</div>\r\n                </el-upload>\r\n                <div slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button type=\"primary\" @click=\"editDownloadPerformanceScript\">下 载</el-button>\r\n                    <el-button @click=\"editScriptCancel\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"editPerformanceScript\">确 定</el-button>\r\n                </div>\r\n            </el-dialog>\r\n\r\n            <div>\r\n                <el-table :data=\"tableData\" style=\"width: 100%\">\r\n                    <el-table-column prop=\"id\" label=\"id\" sortable width=\"180\"></el-table-column>\r\n                    <el-table-column prop=\"performance_project_name\" label=\"性能项目名称\" sortable width=\"180\"></el-table-column>\r\n                    <el-table-column prop=\"performance_script_name\" label=\"脚本名称\" sortable width=\"180\"></el-table-column>\r\n                    <el-table-column prop=\"performance_status\" label=\"状态\" sortable width=\"180\"></el-table-column>\r\n                    <el-table-column prop=\"updata_time\" label=\"更新时间\" width=\"180\"></el-table-column>\r\n                    <el-table-column prop=\"create_time\" label=\"创建时间\" width=\"180\"></el-table-column>\r\n                    <el-table-column label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button size=\"mini\" @click=\"editPerformanceScriptPopup(scope.row)\">编辑</el-button>\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                type=\"primary\"\r\n                                @click=\"performPerformanceScriptPopup(scope.row)\"\r\n                            >执行</el-button>\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                type=\"success\"\r\n                                @click=\"performanceScriptReportPopup(scope.row)\"\r\n                            >查看测试报告</el-button>\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                type=\"danger\"\r\n                                @click=\"deletePerformanceScriptPopup(scope.row)\"\r\n                            >删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    addPerformanceScriptRequest,\r\n    getSinglePerformanceScriptRequest,\r\n    updateSinglePerformanceScriptRequest,\r\n    deleteSinglePerformanceScriptRequest,\r\n    getSinglePerformanceProjectScriptRequest,\r\n    uploadPerformanceScriptRequest,\r\n    performPerformanceScriptRequest\r\n} from '../../../api/performanceScript';\r\nimport { fileUrl } from '../../../api/common';\r\nimport { connect } from 'tls';\r\nimport performanceReport from './performanceReport';\r\n\r\nexport default {\r\n    name: 'performanceScript',\r\n    props: ['type', 'performanceProjectId'],\r\n\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n\r\n            fileList: [{}],\r\n\r\n            page: {\r\n                page: 1,\r\n                total: 0,\r\n                size: 10\r\n            },\r\n\r\n            showPerformanceScriptResult: false,\r\n            addPerformanceScriptdialogFormVisible: false,\r\n            editPerformanceScriptFormVisible: false,\r\n\r\n            addPerformanceScriptData: {\r\n                performance_script_name: '',\r\n                performance_project_id: this.projectId,\r\n                performance_script: '',\r\n                performance_threads:'',\r\n                performance_ramp_up_time_seconds:'',\r\n                performance_loop_count:''\r\n            },\r\n\r\n            apiProjectSelect: [],\r\n\r\n            apiProjectSelectId: '',\r\n\r\n            editPerformanceScriptData: {\r\n                performance_script_name: '',\r\n                performance_project_id: this.projectId,\r\n                performance_script: '',\r\n                performance_threads:'',\r\n                performance_ramp_up_time_seconds:'',\r\n                performance_loop_count:'',\r\n                id: 0\r\n            },\r\n\r\n            performanceScriptId: '',\r\n\r\n            //当前performanceScriptId\r\n            currentPerformanceScriptId: 0,\r\n\r\n            //当前 performanceScript数据\r\n            currentPerformanceScriptData: {},\r\n\r\n            projectId: '',\r\n\r\n            rules: {\r\n                performance_script_name: [{ required: true, message: '请输入脚本名称', trigger: 'blur' }],\r\n                performance_threads: [{ required: true, message: '请输入线程数', trigger: 'blur' }],\r\n                performance_ramp_up_time_seconds: [{ required: true, message: '请输入时间', trigger: 'blur' }],\r\n                performance_loop_count: [{ required: true, message: '请输入循环次数', trigger: 'blur' }],\r\n\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        UploadUrl() {\r\n            return fileUrl + 'api/backend/performance_test/performance_script_upload/';\r\n        },\r\n\r\n        handleRemove(file, fileList) {\r\n            console.log(file, fileList);\r\n        },\r\n        handlePreview(file) {\r\n            console.log(file);\r\n        },\r\n        handleExceed(files, fileList) {\r\n            this.$message.warning(\r\n                `当前限制选择 1 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`\r\n            );\r\n        },\r\n        beforeRemove(file, fileList) {\r\n            return this.$confirm(`确定移除 ${file.name}？`);\r\n        },\r\n        handleChange(file, fileList) {\r\n            console.log('wenujain----->', file, fileList);\r\n            console.log('wenujain-2222---->', fileList[0]);\r\n            if (fileList.length > 0) {\r\n                this.fileList = [fileList[fileList.length - 1]]; // 这一步，是 展示最后一次选择的csv文件\r\n            }\r\n        },\r\n\r\n        onError(res) {\r\n            console.log('失败的回调' + JSON.stringify(res));\r\n            this.$alert('创建失败', '提示', {\r\n                confirmButtonText: '确定',\r\n                callback: action => {\r\n                    console.log('上传失败');\r\n                }\r\n            });\r\n        },\r\n\r\n        formatter(row, column) {\r\n            return row.address;\r\n        },\r\n        handleEdit(index, row) {\r\n            console.log(index, row);\r\n        },\r\n        handleDelete(index, row) {\r\n            console.log(index, row);\r\n        },\r\n        handleSizeChange(size) {\r\n            this.page.size = size;\r\n            this.getSinglePerformanceProjectScript();\r\n        },\r\n        handleCurrentChange(index) {\r\n            this.page.page = index;\r\n            this.getSinglePerformanceProjectScript();\r\n        },\r\n        onEditSuccess(res) {\r\n            this.$alert(res.data.result, '提示', {\r\n                confirmButtonText: '确定',\r\n                callback: action => {\r\n                    console.log('上传成功');\r\n                }\r\n            });\r\n            this.editPerformanceScriptData.performance_script = res.data.file;\r\n            console.log('sssss', res.data.file);\r\n        },\r\n\r\n        onSuccess(res) {\r\n            this.$alert(res.data.result, '提示', {\r\n                confirmButtonText: '确定',\r\n                callback: action => {\r\n                    console.log('上传成功');\r\n                }\r\n            });\r\n            this.addPerformanceScriptData.performance_script = res.data.file;\r\n            console.log(res.data.file);\r\n        },\r\n\r\n        // 编辑弹框--下载jmeter脚本\r\n        editDownloadPerformanceScript() {\r\n            console.log(this.fileList[0].url);\r\n\r\n            window.location.href = this.fileList[0].url;\r\n        },\r\n\r\n        // 添加弹框--下载jmeter脚本\r\n        addDownloadPerformanceScript() {\r\n            console.log(this.fileList[0].url);\r\n            window.location.href = this.fileList[0].url;\r\n        },\r\n\r\n        // 添加性能脚本\r\n        addPerformanceScript() {\r\n            let req = JSON.parse(JSON.stringify(this.addPerformanceScriptData));\r\n\r\n            this.$refs.addPerformanceScriptFormRef.validate(valid => {\r\n                if (valid) {\r\n                    // 代表校验通过\r\n                    addPerformanceScriptRequest(req).then(data => {\r\n                        console.log(data);\r\n                        if (true === data.data.success) {\r\n                            this.addPerformanceScriptdialogFormVisible = false;\r\n\r\n                            this.getSinglePerformanceProjectScript();\r\n                            this.$message.success('创建模块成功');\r\n                        } else {\r\n                            this.$message.error('创建模块失败');\r\n                        }\r\n                    });\r\n                } else {\r\n                    //校验失败\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n\r\n        //取消脚本创建\r\n        addScriptCancel() {\r\n            this.addPerformanceScriptdialogFormVisible = false;\r\n            this.$refs['my-upload'].clearFiles();\r\n        },\r\n\r\n        //取消脚本创建\r\n        editScriptCancel() {\r\n            this.editPerformanceScriptFormVisible = false;\r\n            this.$refs['my-upload'].clearFiles();\r\n        },\r\n\r\n        // 添加页面 弹窗\r\n        addPerformanceScriptPopup() {\r\n            this.addPerformanceScriptData = {\r\n                performance_script_name: '',\r\n                performance_project_id: this.projectId,\r\n                performance_script: ''\r\n            };\r\n            this.addPerformanceScriptdialogFormVisible = true;\r\n        },\r\n\r\n        handleNodeClick(data) {\r\n            this.currentServiceId = data.id;\r\n        },\r\n\r\n        //编辑脚本\r\n        editPerformanceScript() {\r\n            let req = JSON.parse(JSON.stringify(this.editPerformanceScriptData));\r\n\r\n            this.$refs.editPerformanceScriptRef.validate(valid => {\r\n                console.log(this.projectId);\r\n                if (valid) {\r\n                    // 代表校验通过\r\n                    updateSinglePerformanceScriptRequest(this.performanceScriptId, req).then(data => {\r\n                        console.log(data);\r\n                        if (true === data.data.success) {\r\n                            this.getSinglePerformanceProjectScript();\r\n                            this.editPerformanceScriptFormVisible = false;\r\n                            this.$message.success('编辑页面成功');\r\n                        } else {\r\n                            this.$message.error('编辑页面失败');\r\n                        }\r\n                    });\r\n                } else {\r\n                    //校验失败\r\n                    return false;\r\n                }\r\n            });\r\n        },\r\n\r\n        //编辑脚本弹窗并获取单个项目\r\n        editPerformanceScriptPopup(data) {\r\n            this.performanceScriptId = data.id;\r\n            this.editPerformanceScriptData = data;\r\n\r\n            // 获取单个脚本信息\r\n            getSinglePerformanceScriptRequest(this.performanceScriptId).then(data => {\r\n                console.log(data);\r\n                if (true === data.data.success) {\r\n                    this.editPerformanceScriptData.performance_script_name = data.data.data.performance_script_name;\r\n                    this.editPerformanceScriptData.performance_project_id = data.data.data.performance_project_id;\r\n                    this.editPerformanceScriptData.performance_threads = data.data.data.performance_threads;\r\n                    this.editPerformanceScriptData.performance_ramp_up_time_seconds = data.data.data.performance_ramp_up_time_seconds;\r\n                    this.editPerformanceScriptData.performance_loop_count = data.data.data.performance_loop_count;\r\n                    this.fileList = data.data.data.performance_script_url;\r\n                    console.log(this.editPerformanceScriptData.performance_script);\r\n                    this.editPerformanceScriptFormVisible = true;\r\n                } else {\r\n                    this.$message.error('获取接口失败');\r\n                }\r\n            });\r\n        },\r\n\r\n        //删除性能脚本\r\n        deletePerformanceScriptPopup(data) {\r\n            this.performanceScriptId = data.id;\r\n\r\n            deleteSinglePerformanceScriptRequest(this.performanceScriptId).then(data => {\r\n                console.log(data);\r\n                if (true === data.data.success) {\r\n                    this.getSinglePerformanceProjectScript();\r\n                    this.$message.success('删除性能脚本成功');\r\n                } else {\r\n                    this.$message.error('删除性能脚本失败');\r\n                }\r\n            });\r\n        },\r\n\r\n        // 执行性能测试脚本\r\n        performPerformanceScriptPopup(data) {\r\n            console.log('开始执行了');\r\n            performPerformanceScriptRequest(data.id).then(data => {\r\n                this.getSinglePerformanceProjectScript();\r\n                if (true === data.data.success) {\r\n                    this.getSinglePerformanceProjectScript();\r\n                    console.log(data.data.data);\r\n                    this.$message.success('执行测试任务成功');\r\n\r\n                }else if (false=== data.data.success){\r\n                    this.$message.error(data.data.error.code.message)\r\n                }else {\r\n                    this.$message.error('获取接口失败');\r\n                }\r\n            });\r\n        },\r\n\r\n        // 查看性能测试报告\r\n        performanceScriptReportPopup(data) {\r\n            this.currentPerformanceScriptId = data.id;\r\n            this.currentPerformanceScriptData = data;\r\n            console.log(data);\r\n            this.showPerformanceScriptResult = true;\r\n        },\r\n\r\n\r\n        returnPerformanceScriptList(){\r\n            this.showPerformanceScriptResult = false;\r\n            this.getSinglePerformanceProjectScript();\r\n\r\n        },\r\n\r\n        //获取 单个性能测试项目中包含得所有脚本\r\n        getSinglePerformanceProjectScript() {\r\n            getSinglePerformanceProjectScriptRequest(this.projectId).then(data => {\r\n                if (true === data.data.success) {\r\n                    this.tableData = data.data.data;\r\n                } else {\r\n                    this.$message.error('获取接口失败');\r\n                }\r\n            });\r\n        },\r\n\r\n        // 返回性能项目列表\r\n        returnProjectList(){\r\n            this.$parent.projectList();\r\n        }\r\n    },\r\n\r\n    components: {\r\n        'performance-script-result': performanceReport\r\n    },\r\n    created() {\r\n        if ('enter' === this.type) {\r\n            this.projectId = this.performanceProjectId;\r\n            this.getSinglePerformanceProjectScript();\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}