{"remainingRequest":"E:\\test_platform_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\test_platform_vue\\src\\components\\page\\apiTestCase\\ApiTestCase.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\test_platform_vue\\src\\components\\page\\apiTestCase\\ApiTestCase.vue","mtime":1641354060760},{"path":"E:\\test_platform_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test_platform_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\test_platform_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test_platform_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBhZGRPckVkaXRBcGlUZXN0Q2FzZSBmcm9tICcuL2FkZE9yRWRpdEFwaVRlc3RDYXNlJzsNCmltcG9ydCB7Z2V0QXBpVGVzdENhc2VMaXN0UmVxdWVzdCwgZGVsZXRlU2luZ2xlQXBpVGVzdENhc2VSZXF1ZXN0fSBmcm9tICcuLi8uLi8uLi9hcGkvYXBpVGVzdENhc2UnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ0FwaVRlc3RDYXNlJywNCiAgICAvLyB0eXBlIOeUqOadpeagh+ivhuaYr+e8lui+kei/mOaYr+WIm+W7ug0KICAgIHByb3BzOlsndHlwZScsICdhcGlNb2R1bGVJZCcsICdhcGlUZXN0Q2FzZVByb2plY3RJZCddLA0KICAgIGluamVjdDpbJ3JlbG9hZCddLA0KICAgIGRhdGEoKSB7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgICAgICAgbW9kdWxlSWQ6ICIiLA0KDQogICAgICAgICAgICBjdXJyZW50QXBpVGVzdENhc2VJZDogMCwNCiAgICAgICAgICAgIGN1cnJlbnRBcGlNb2R1bGVJZDogMCwNCiAgICAgICAgICAgIGN1cnJlbnRBcGlUZXN0Q2FzZURhdGE6MCwNCiAgICAgICAgICAgIHNob3dBZGRPckVkaXRBcGlUZXN0Q2FzZTpmYWxzZSwNCg0KDQoNCg0KDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKXsNCg0KICAgIH0sDQogICAgbWV0aG9kczogew0KDQogICAgICAgIG9wZW5BZGRQYWdlRWxlbWVudCgpew0KICAgICAgICAgICAgdGhpcy5vcHNUeXBlID0gJ2FkZCc7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRBcGlNb2R1bGVJZD0gdGhpcy5tb2R1bGVJZA0KICAgICAgICAgICAgdGhpcy5jdXJyZW50QXBpVGVzdENhc2VJZCA9IDA7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRBcGlUZXN0Q2FzZURhdGEgPSB7fTsNCg0KICAgICAgICAgICAgdGhpcy5zaG93QWRkT3JFZGl0QXBpVGVzdENhc2UgPSB0cnVlDQogICAgICAgIH0sDQoNCg0KICAgICAgICBvcGVuRWRpdEFwaVRlc3RDYXNlKGRhdGEpew0KICAgICAgICAgICAgdGhpcy5vcHNUeXBlID0gJ2VkaXQnOw0KICAgICAgICAgICAgdGhpcy5jdXJyZW50QXBpVGVzdENhc2VJZCA9IGRhdGEuaWQ7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRBcGlUZXN0Q2FzZURhdGEgPSBkYXRhOw0KICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSkNCg0KICAgICAgICAgICAgdGhpcy5zaG93QWRkT3JFZGl0QXBpVGVzdENhc2UgPSB0cnVlOw0KICAgICAgICB9LA0KDQogICAgICAgIHNhdmVBcGlUZXN0Q2FzZSgpew0KICAgICAgICAgICAgdGhpcy5zaG93QWRkT3JFZGl0QXBpVGVzdENhc2UgPSBmYWxzZQ0KICAgICAgICAgICAgdGhpcy5nZXRBcGlUZXN0Q2FzZUZ1bigpOw0KDQogICAgICAgIH0sDQoNCiAgICAgICAgY2FuY2VsU2F2ZUFwaVRlc3RDYXNlKCl7DQogICAgICAgICAgICB0aGlzLnNob3dBZGRPckVkaXRBcGlUZXN0Q2FzZSA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLmdldEFwaVRlc3RDYXNlRnVuKCk7DQoNCiAgICAgICAgfSwNCg0KICAgICAgICAvLyDojrflj5bor6XmqKHlnZfkuIsgQVBJ5rWL6K+V55So5L6LDQogICAgICAgIGdldEFwaVRlc3RDYXNlRnVuKCkgew0KDQogICAgICAgICAgICBnZXRBcGlUZXN0Q2FzZUxpc3RSZXF1ZXN0KHRoaXMubW9kdWxlSWQpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIui/meaYr2Fwaea1i+ivleeUqOS+iyIsZGF0YSk7DQogICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gZGF0YS5kYXRhLmRhdGE7DQoNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bmjqXlj6PlpLHotKUiKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQoNCg0KDQoNCiAgICAgICAgLy/liKDpmaTljZXkuKpBcGnmtYvor5XnlKjkvovlhYPntKANCiAgICAgICAgZGVsZXRlQXBpVGVzdENhc2VQb3B1cChkYXRhKXsNCiAgICAgICAgICAgIHRoaXMuYXBpVGVzdENhc2VJZCA9IGRhdGEuaWQNCiAgICAgICAgICAgIGRlbGV0ZVNpbmdsZUFwaVRlc3RDYXNlUmVxdWVzdCh0aGlzLmFwaVRlc3RDYXNlSWQpLnRoZW4oZGF0YSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOw0KICAgICAgICAgICAgICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QXBpVGVzdENhc2VGdW4oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6ZmkQVBJ5rWL6K+V55So5L6L5oiQ5YqfIikNCg0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5Yig6ZmkQVBJ5rWL6K+V55So5L6L5aSx6LSlIikNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICk7DQogICAgICAgIH0sDQoNCg0KICAgICAgICAvLyDov5Tlm55BUEnmqKHlnZfliJfooagNCiAgICAgICAgcmV0dXJuQVBJTW9kdWxlTGlzdCgpew0KICAgICAgICAgICAgdGhpcy4kcGFyZW50LmFwaU1vZHVsZUxpc3QoKTsNCg0KICAgICAgICB9DQoNCiAgICB9LA0KDQogICAgY29tcG9uZW50czogew0KICAgICAgICAnYWRkLW9yLWVkaXQtYXBpLXRlc3QtY2FzZSc6IGFkZE9yRWRpdEFwaVRlc3RDYXNlDQogICAgfSwNCg0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXBpTW9kdWxlSWQsIHRoaXMuYXBpVGVzdENhc2VQcm9qZWN0SWQpDQogICAgICAgIGlmICgnZW50ZXInPT09dGhpcy50eXBlKXsNCiAgICAgICAgICAgIHRoaXMubW9kdWxlSWQgPSB0aGlzLmFwaU1vZHVsZUlkDQogICAgICAgICAgICB0aGlzLmdldEFwaVRlc3RDYXNlRnVuKCk7DQoNCiAgICAgICAgfQ0KDQogICAgfQ0KDQoNCn07DQo="},{"version":3,"sources":["ApiTestCase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA","file":"ApiTestCase.vue","sourceRoot":"src/components/page/apiTestCase","sourcesContent":["<template>\r\n    <div>\r\n        <add-or-edit-api-test-case\r\n            :type=\"opsType\"\r\n            :apiTestCaseId=\"currentApiTestCaseId\"\r\n            :apiTestCaseData=\"currentApiTestCaseData\"\r\n            :apiModuleId=\"currentApiModuleId\"\r\n\r\n            @saveApiTestCase=\"saveApiTestCase\"\r\n            @cancelSaveApiTestCase=\"cancelSaveApiTestCase\"\r\n            v-if=\"showAddOrEditApiTestCase\">\r\n\r\n        </add-or-edit-api-test-case>\r\n\r\n\r\n        <div v-else>\r\n\r\n            <div class=\"crumbs\">\r\n                <el-breadcrumb separator=\"/\">\r\n                    <el-breadcrumb-item>\r\n                        <i class=\"el-icon-lx-calendar\"></i> API项目\r\n                    </el-breadcrumb-item>\r\n                    <el-breadcrumb-item>API模块</el-breadcrumb-item>\r\n                    <el-breadcrumb-item>API测试用例</el-breadcrumb-item>\r\n                </el-breadcrumb>\r\n            </div>\r\n            <el-row>\r\n                <el-button @click=\"returnAPIModuleList\" >返回</el-button>\r\n                <el-button type=\"primary\" @click=\"openAddPageElement\" >创建API测试用例</el-button>\r\n            </el-row>\r\n            <el-table\r\n                :data=\"tableData\"\r\n                style=\"width: 100%\">\r\n                <el-table-column\r\n                    prop=\"id\"\r\n                    label=\"id\"\r\n                    sortable\r\n                    width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"api_module_name\"\r\n                    label=\"API模块\"\r\n                    sortable\r\n                    width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"api_test_case_name\"\r\n                    label=\"API测试用例\"\r\n                    sortable\r\n                    width=\"180\">\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                    prop=\"api_test_case_url\"\r\n                    label=\"API_URL\"\r\n                    sortable\r\n                    width=\"500\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                    prop=\"updata_time\"\r\n                    label=\"更新时间\"\r\n                    width=\"180\">\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                    prop=\"create_time\"\r\n                    label=\"创建时间\"\r\n                    width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\">\r\n\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            @click=\"openEditApiTestCase(scope.row)\">编辑</el-button>\r\n                        <el-button\r\n                            size=\"mini\"\r\n                            type=\"danger\"\r\n                            @click=\"deleteApiTestCasePopup(scope.row)\">删除</el-button>\r\n\r\n\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport addOrEditApiTestCase from './addOrEditApiTestCase';\r\nimport {getApiTestCaseListRequest, deleteSingleApiTestCaseRequest} from '../../../api/apiTestCase';\r\n\r\nexport default {\r\n    name: 'ApiTestCase',\r\n    // type 用来标识是编辑还是创建\r\n    props:['type', 'apiModuleId', 'apiTestCaseProjectId'],\r\n    inject:['reload'],\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n            moduleId: \"\",\r\n\r\n            currentApiTestCaseId: 0,\r\n            currentApiModuleId: 0,\r\n            currentApiTestCaseData:0,\r\n            showAddOrEditApiTestCase:false,\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n    },\r\n    mounted(){\r\n\r\n    },\r\n    methods: {\r\n\r\n        openAddPageElement(){\r\n            this.opsType = 'add';\r\n            this.currentApiModuleId= this.moduleId\r\n            this.currentApiTestCaseId = 0;\r\n            this.currentApiTestCaseData = {};\r\n\r\n            this.showAddOrEditApiTestCase = true\r\n        },\r\n\r\n\r\n        openEditApiTestCase(data){\r\n            this.opsType = 'edit';\r\n            this.currentApiTestCaseId = data.id;\r\n            this.currentApiTestCaseData = data;\r\n            console.log(data)\r\n\r\n            this.showAddOrEditApiTestCase = true;\r\n        },\r\n\r\n        saveApiTestCase(){\r\n            this.showAddOrEditApiTestCase = false\r\n            this.getApiTestCaseFun();\r\n\r\n        },\r\n\r\n        cancelSaveApiTestCase(){\r\n            this.showAddOrEditApiTestCase = false\r\n            this.getApiTestCaseFun();\r\n\r\n        },\r\n\r\n        // 获取该模块下 API测试用例\r\n        getApiTestCaseFun() {\r\n\r\n            getApiTestCaseListRequest(this.moduleId).then(data => {\r\n                console.log(\"这是api测试用例\",data);\r\n                if (true === data.data.success) {\r\n                    this.tableData = data.data.data;\r\n\r\n                } else {\r\n                    this.$message.error(\"获取接口失败\")\r\n                }\r\n            })\r\n        },\r\n\r\n\r\n\r\n\r\n        //删除单个Api测试用例元素\r\n        deleteApiTestCasePopup(data){\r\n            this.apiTestCaseId = data.id\r\n            deleteSingleApiTestCaseRequest(this.apiTestCaseId).then(data => {\r\n                    console.log(data);\r\n                    if (true === data.data.success) {\r\n                        this.getApiTestCaseFun();\r\n                        this.$message.success(\"删除API测试用例成功\")\r\n\r\n                    } else {\r\n                        this.$message.error(\"删除API测试用例失败\")\r\n                    }\r\n                }\r\n            );\r\n        },\r\n\r\n\r\n        // 返回API模块列表\r\n        returnAPIModuleList(){\r\n            this.$parent.apiModuleList();\r\n\r\n        }\r\n\r\n    },\r\n\r\n    components: {\r\n        'add-or-edit-api-test-case': addOrEditApiTestCase\r\n    },\r\n\r\n    created() {\r\n        console.log(this.apiModuleId, this.apiTestCaseProjectId)\r\n        if ('enter'===this.type){\r\n            this.moduleId = this.apiModuleId\r\n            this.getApiTestCaseFun();\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}