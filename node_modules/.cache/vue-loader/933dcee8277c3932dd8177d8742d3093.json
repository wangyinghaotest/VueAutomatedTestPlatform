{"remainingRequest":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\VUE\\VueAutomatedTestPlatform\\src\\components\\page\\apiTask\\ApiTestTaskResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\VUE\\VueAutomatedTestPlatform\\src\\components\\page\\apiTask\\ApiTestTaskResult.vue","mtime":1632633660567},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0QXBpQ2FzZVJlc3VsdFJlcXVlc3QsIGRlbGV0ZUFwaUNhc2VSZXN1bHRSZXF1ZXN0LCBwb3N0UGVyZm9ybUFwaVRhc2tSZXF1ZXN0fSBmcm9tICcuLi8uLi8uLi9hcGkvYXBpVGVzdFRhc2snOwppbXBvcnQgQVBJVGVzdFRhc2tSZXN1bHREZXRhaWxzIGZyb20gJy4vQVBJVGVzdFRhc2tSZXN1bHREZXRhaWxzJzsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0FwaVRlc3RUYXNrUmVzdWx0JywKICAgIGluamVjdDpbJ3JlbG9hZCddLAogICAgcHJvcHM6IFsnYXBpVGVzdFRhc2tEYXRhJywgJ2FwaVRlc3RUYXNrSWQnXSwKICAgIGRhdGEoKXsKCiAgICAgICAgcmV0dXJuewoKICAgICAgICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgICAgICAgdGVzdFRhc2tJZDogIiIsCiAgICAgICAgICAgIHJlc3VsdF9pZDogIiIsCiAgICAgICAgICAgIGFwaV9SZXN1bHQ6ICIiLAogICAgICAgICAgICBzaG93QXBpVGVzdFRhc2tSZXN1bHREZXRhaWxzOiBmYWxzZQoKCiAgICAgICAgfQoKCgogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5nZXRBcGlDYXNlUmVzdWx0RnVuKCkKCgogICAgfSwKICAgIG1ldGhvZHM6IHsKCgogICAgICAvLyDmiafooYzmtYvor5Xku7vliqEKICAgICAgcGVyZm9ybUFwaVRlc3RUYXNrKCl7CiAgICAgICAgcG9zdFBlcmZvcm1BcGlUYXNrUmVxdWVzdCh0aGlzLnRlc3RUYXNrSWQpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKQogICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKXsKICAgICAgICAgICAgLy8gdGhpcy5nZXRBcGlUZXN0VGFza0Z1bigpCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5omn6KGM5rWL6K+V5Lu75Yqh5oiQ5YqfIikKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgaWYoMTAyMDAgPT09IGRhdGEuZGF0YS5lcnJvci5jb2RlLnN0YXR1cyl7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuW9k+WJjeaciUFQSeS7u+WKoeato+WcqOaJp+ihjO+8gSIpCgogICAgICAgICAgfQogICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaJp+ihjEFQSea1i+ivleS7u+WKoeWksei0pSIpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSwKCgogICAgICAgIC8vIOiOt+WPlua1i+ivleaKpeWRigogICAgICAgIGdldEFwaUNhc2VSZXN1bHRGdW4oKSB7CiAgICAgICAgICAgIGdldEFwaUNhc2VSZXN1bHRSZXF1ZXN0KHRoaXMudGVzdFRhc2tJZCkudGhlbihkYXRhID0+ewogICAgICAgICAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGEuZGF0YS5kYXRhLmRhdGE7CgogICAgICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygi6I635Y+W5o6l5Y+j5aSx6LSlIikKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCgogICAgICAgIGNoZWNrUmVwb3J0KGRhdGEpewogICAgICAgICAgICB0aGlzLnNob3dBcGlUZXN0VGFza1Jlc3VsdERldGFpbHMgPSB0cnVlCiAgICAgICAgICAgIHRoaXMucmVzdWx0X2lkID0gZGF0YS5pZAoKICAgICAgICB9LAoKCiAgICAgIHJldHVybkFQSVJlcG9ydExpc3QoKXsKICAgICAgICB0aGlzLnNob3dBcGlUZXN0VGFza1Jlc3VsdERldGFpbHMgPSBmYWxzZQogICAgICAgIHRoaXMuZ2V0QXBpQ2FzZVJlc3VsdEZ1bigpCiAgICAgIH0sCgogICAgICAgIC8vIOWIoOmZpOaKpeWRigogICAgICAgIGRlbGV0ZVJlcG9ydChkYXRhKXsKICAgICAgICAgICAgdGhpcy5yZXN1bHRfaWQgPSBkYXRhLmlkCiAgICAgICAgICAgIGRlbGV0ZUFwaUNhc2VSZXN1bHRSZXF1ZXN0KHRoaXMucmVzdWx0X2lkKS50aGVuKGRhdGEgPT57CiAgICAgICAgICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3MpewogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QXBpQ2FzZVJlc3VsdEZ1bigpCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaRBUEnmtYvor5XmiqXlkYrmiJDlip8iKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCLliKDpmaRBUEnmtYvor5XmiqXlkYrlpLHotKUiKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgLy8g6L+U5Zue5Lu75Yqh5YiX6KGoCiAgICAgIHJldHVyblRhc2tMaXN0KCl7CiAgICAgICAgdGhpcy4kcGFyZW50LnJldHVybkFQSVRhc2tMaXN0KCk7CgogICAgICB9CgoKCiAgICB9LAogICAgY29tcG9uZW50czogewogICAgICAgICdhcGktdGVzdC10YXNrLXJlc3VsdF9kZXRhaWxzJzogQVBJVGVzdFRhc2tSZXN1bHREZXRhaWxzCgogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5hcGlUZXN0VGFza0RhdGEuaWQpCiAgICAgICAgdGhpcy50ZXN0VGFza0lkID0gdGhpcy5hcGlUZXN0VGFza0RhdGEuaWQKCiAgICB9CgoKCn07Cg=="},{"version":3,"sources":["ApiTestTaskResult.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;AAIA","file":"ApiTestTaskResult.vue","sourceRoot":"src/components/page/apiTask","sourcesContent":["<template>\r\n    <div>\r\n        <api-test-task-result_details\r\n                :apiResultId = \"result_id\"\r\n                v-if=\"showApiTestTaskResultDetails\">\r\n        </api-test-task-result_details>\r\n        <div v-else>\r\n          <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n              <el-breadcrumb-item>\r\n                <i class=\"el-icon-lx-calendar\"></i> API任务管理\r\n              </el-breadcrumb-item>\r\n              <el-breadcrumb-item>API项目</el-breadcrumb-item>\r\n              <el-breadcrumb-item>API任务</el-breadcrumb-item>\r\n              <el-breadcrumb-item>API测试报告</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n          </div>\r\n          <el-row>\r\n            <el-button @click=\"returnTaskList\">返回</el-button>\r\n            <el-button type=\"danger\" @click=\"performApiTestTask\">执行</el-button>\r\n          </el-row>\r\n            <div>\r\n                <el-table\r\n                        :data=\"tableData\"\r\n                        style=\"width: 100%\">\r\n                    <!--                    :default-sort = \"{prop: 'date', order: 'descending'}\">-->\r\n                    <el-table-column\r\n                            prop=\"id\"\r\n                            label=\"id\"\r\n                            sortable\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"api_test_result_name\"\r\n                            label=\"测试报告名称\"\r\n                            sortable\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"api_total_number\"\r\n                            label=\"总数\"\r\n                            sortable\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"api_successful_total_number\"\r\n                            label=\"成功\"\r\n                            sortable\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"api_error_total_number\"\r\n                            label=\"失败\"\r\n                            sortable\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n\r\n                    <el-table-column label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button\r\n                                    size=\"mini\"\r\n                                    type=\"danger\"\r\n                                    @click=\"checkReport(scope.row)\">查看报告</el-button>\r\n                            <el-button\r\n                                    size=\"mini\"\r\n                                    type=\"danger\"\r\n                                    @click=\"deleteReport(scope.row)\">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {getApiCaseResultRequest, deleteApiCaseResultRequest, postPerformApiTaskRequest} from '../../../api/apiTestTask';\r\n    import APITestTaskResultDetails from './APITestTaskResultDetails';\r\n    export default {\r\n        name: 'ApiTestTaskResult',\r\n        inject:['reload'],\r\n        props: ['apiTestTaskData', 'apiTestTaskId'],\r\n        data(){\r\n\r\n            return{\r\n\r\n                tableData: [],\r\n                testTaskId: \"\",\r\n                result_id: \"\",\r\n                api_Result: \"\",\r\n                showApiTestTaskResultDetails: false\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n        },\r\n        mounted() {\r\n            this.getApiCaseResultFun()\r\n\r\n\r\n        },\r\n        methods: {\r\n\r\n\r\n          // 执行测试任务\r\n          performApiTestTask(){\r\n            postPerformApiTaskRequest(this.testTaskId).then(data => {\r\n              console.log(data)\r\n              if (true === data.data.success){\r\n                // this.getApiTestTaskFun()\r\n                this.$message.success(\"执行测试任务成功\")\r\n              }\r\n              else if(10200 === data.data.error.code.status){\r\n                this.$message.error(\"当前有API任务正在执行！\")\r\n\r\n              }\r\n              else {\r\n                this.$message.error(\"执行API测试任务失败\")\r\n              }\r\n            })\r\n          },\r\n\r\n\r\n            // 获取测试报告\r\n            getApiCaseResultFun() {\r\n                getApiCaseResultRequest(this.testTaskId).then(data =>{\r\n                    if (true === data.data.success){\r\n                        this.tableData = data.data.data.data;\r\n\r\n                    }else {\r\n                        this.$message.info(\"获取接口失败\")\r\n                    }\r\n\r\n                })\r\n            },\r\n\r\n\r\n            checkReport(data){\r\n                this.showApiTestTaskResultDetails = true\r\n                this.result_id = data.id\r\n\r\n            },\r\n\r\n\r\n          returnAPIReportList(){\r\n            this.showApiTestTaskResultDetails = false\r\n            this.getApiCaseResultFun()\r\n          },\r\n\r\n            // 删除报告\r\n            deleteReport(data){\r\n                this.result_id = data.id\r\n                deleteApiCaseResultRequest(this.result_id).then(data =>{\r\n                    if (true === data.data.success){\r\n                        this.getApiCaseResultFun()\r\n                        this.$message.success(\"删除API测试报告成功\")\r\n                    }\r\n                    else {\r\n                        this.$message.info(\"删除API测试报告失败\")\r\n                    }\r\n\r\n                })\r\n            },\r\n\r\n          // 返回任务列表\r\n          returnTaskList(){\r\n            this.$parent.returnAPITaskList();\r\n\r\n          }\r\n\r\n\r\n\r\n        },\r\n        components: {\r\n            'api-test-task-result_details': APITestTaskResultDetails\r\n\r\n        },\r\n        created() {\r\n            console.log(this.apiTestTaskData.id)\r\n            this.testTaskId = this.apiTestTaskData.id\r\n\r\n        }\r\n\r\n\r\n\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}