{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"uiProjectPage\"],{bbaa:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return o})),a.d(t,\"c\",(function(){return r})),a.d(t,\"e\",(function(){return n})),a.d(t,\"b\",(function(){return c})),a.d(t,\"d\",(function(){return l}));var i=a(\"2934\"),o=function(e){return Object(i[\"e\"])(\"api/backend/ui_page/\",e)},r=function(e){return Object(i[\"c\"])(\"api/backend/ui_page/\"+e+\"/\")},n=function(e,t){return Object(i[\"d\"])(\"api/backend/ui_page/\"+e+\"/\",t)},c=function(e){return Object(i[\"a\"])(\"api/backend/ui_page/\"+e+\"/\")},l=function(e){return Object(i[\"c\"])(\"api/backend/ui_page_element/ui_project_page/\"+e+\"/\")}},ec04:function(e,t,a){\"use strict\";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"div\",{staticClass:\"crumbs\"},[a(\"el-breadcrumb\",{attrs:{separator:\"/\"}},[a(\"el-breadcrumb-item\",[a(\"i\",{staticClass:\"el-icon-lx-calendar\"}),e._v(\" UI项目 \")]),a(\"el-breadcrumb-item\",[e._v(\"UI项目\")])],1)],1),e.showUiPage?a(\"ui-page\",{attrs:{type:e.opsType,uiProjectId:e.currentUiProjectId}}):a(\"div\",[a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.tableData}},[a(\"el-table-column\",{attrs:{prop:\"id\",label:\"id\",sortable:\"\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"ui_project_name\",label:\"项目名称\",sortable:\"\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"describe\",label:\"项目描述\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"updata_time\",label:\"更新时间\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"create_time\",label:\"创建时间\",width:\"180\"}}),a(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.enterProjectPage(t.row)}}},[e._v(\"进入\")])]}}])})],1)],1)],1)},o=[],r=a(\"f0bd\"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"el-row\",[a(\"el-button\",{on:{click:e.returnProjectList}},[e._v(\"返回\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.addPagePopup}},[e._v(\"创建页面\")])],1),a(\"el-dialog\",{attrs:{title:\"创建页面\",visible:e.addPagedialogFormVisible},on:{\"update:visible\":function(t){e.addPagedialogFormVisible=t}}},[a(\"el-form\",{ref:\"addPageFormRef\",attrs:{model:e.addPageData,rules:e.rules}},[a(\"el-form-item\",{attrs:{label:\"页面名称\",\"label-width\":\"100px\",prop:\"ui_page_name\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.addPageData.ui_page_name,callback:function(t){e.$set(e.addPageData,\"ui_page_name\",t)},expression:\"addPageData.ui_page_name\"}})],1),a(\"el-form-item\",{attrs:{label:\"页面描述\",\"label-width\":\"100px\",prop:\"ui_page_describe\"}},[a(\"el-input\",{attrs:{type:\"textarea\",autocomplete:\"off\"},model:{value:e.addPageData.ui_page_describe,callback:function(t){e.$set(e.addPageData,\"ui_page_describe\",t)},expression:\"addPageData.ui_page_describe\"}})],1)],1),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.addPagedialogFormVisible=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.addPage}},[e._v(\"确 定\")])],1)],1),a(\"el-dialog\",{attrs:{title:\"编辑页面\",visible:e.editPagedialogFormVisible},on:{\"update:visible\":function(t){e.editPagedialogFormVisible=t}}},[a(\"el-form\",{ref:\"editPageFormRef\",attrs:{model:e.editPageData,rules:e.rules}},[a(\"el-form-item\",{attrs:{label:\"页面名称\",\"label-width\":\"100px\",prop:\"ui_page_name\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.editPageData.ui_page_name,callback:function(t){e.$set(e.editPageData,\"ui_page_name\",t)},expression:\"editPageData.ui_page_name\"}})],1),a(\"el-form-item\",{attrs:{label:\"页面描述\",\"label-width\":\"100px\",prop:\"ui_page_describe\"}},[a(\"el-input\",{attrs:{type:\"textarea\",autocomplete:\"off\"},model:{value:e.editPageData.ui_page_describe,callback:function(t){e.$set(e.editPageData,\"ui_page_describe\",t)},expression:\"editPageData.ui_page_describe\"}})],1)],1),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.editPagedialogFormVisible=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.editPage}},[e._v(\"确 定\")])],1)],1),a(\"div\",[a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.tableData}},[a(\"el-table-column\",{attrs:{prop:\"id\",label:\"id\",sortable:\"\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"ui_project_name\",label:\"项目名称\",sortable:\"\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"ui_page_name\",label:\"页面名称\",sortable:\"\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"ui_page_describe\",label:\"页面描述\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"updata_time\",label:\"更新时间\",width:\"180\"}}),a(\"el-table-column\",{attrs:{prop:\"create_time\",label:\"创建时间\",width:\"180\"}}),a(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.editPagePopup(t.row)}}},[e._v(\"编辑\")]),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){return e.deletePagePopup(t.row)}}},[e._v(\"删除\")])]}}])})],1)],1)],1)},c=[],l=a(\"bbaa\"),s={name:\"UiPage\",props:[\"type\",\"uiProjectId\"],data:function(){return{tableData:[],page:{page:1,total:0,size:10},addPagedialogFormVisible:!1,editPagedialogFormVisible:!1,addPageData:{ui_page_name:\"\",ui_page_describe:\"\",ui_project_id:this.projectId},projectSelect:[],projectSelectId:\"\",editPageData:{ui_page_name:\"\",ui_page_describe:\"\",ui_project_id:this.projectId,id:0},pageId:\"\",projectId:\"\",rules:{ui_page_name:[{required:!0,message:\"请输入页面名称\",trigger:\"blur\"}],ui_page_describe:[{required:!0,message:\"请输入页面描述\",trigger:\"blur\"}]}}},methods:{formatter:function(e,t){return e.address},handleEdit:function(e,t){console.log(e,t)},handleDelete:function(e,t){console.log(e,t)},handleSizeChange:function(e){this.page.size=e,this.getUiPageFun()},handleCurrentChange:function(e){this.page.page=e,this.getUiPageFun()},addPage:function(){var e=this,t=JSON.parse(JSON.stringify(this.addPageData));console.log(t),this.$refs.addPageFormRef.validate((function(a){if(!a)return!1;Object(l[\"a\"])(t).then((function(t){console.log(t),!0===t.data.success?(e.addPagedialogFormVisible=!1,e.getSingleUiProjectPage(),e.$message.success(\"创建页面成功\")):e.$message.error(\"创建页面失败\")}))}))},addPagePopup:function(){this.addPageData={ui_page_name:\"\",ui_page_describe:\"\",ui_project_id:this.projectId},this.addPagedialogFormVisible=!0},handleNodeClick:function(e){this.currentServiceId=e.id},editPage:function(){var e=this,t=JSON.parse(JSON.stringify(this.editPageData));this.$refs.editPageFormRef.validate((function(a){if(console.log(e.projectId),!a)return!1;Object(l[\"e\"])(e.pageId,t).then((function(t){console.log(t),!0===t.data.success?(e.getSingleUiProjectPage(),e.editPagedialogFormVisible=!1,e.$message.success(\"编辑页面成功\")):e.$message.error(\"编辑页面失败\")}))}))},editPagePopup:function(e){var t=this;this.pageId=e.id,this.editPageData=e,console.log(this.pageId),Object(l[\"c\"])(this.pageId).then((function(e){console.log(e),!0===e.data.success?(t.editPageData.ui_page_name=e.data.data.ui_page_name,t.editPageData.ui_page_describe=e.data.data.ui_page_describe,t.editPageData.ui_project_id=e.data.data.ui_project,t.editPagedialogFormVisible=!0):t.$message.error(\"获取接口失败\")}))},deletePagePopup:function(e){var t=this;this.pageId=e.id,Object(l[\"b\"])(this.pageId).then((function(e){console.log(e),!0===e.data.success?(t.getSingleUiProjectPage(),t.$message.success(\"删除页面成功\")):t.$message.error(\"删除页面失败\")}))},getSingleUiProjectPage:function(){var e=this;Object(l[\"d\"])(this.projectId).then((function(t){!0===t.data.success?(console.log(t.data.data),e.tableData=t.data.data):e.$message.error(\"获取接口失败\")}))},returnProjectList:function(){this.$parent.projectList()}},created:function(){console.log(this.uiProjectId),\"enter\"===this.type&&(this.projectId=this.uiProjectId,this.getSingleUiProjectPage())}},d=s,u=a(\"2877\"),g=Object(u[\"a\"])(d,n,c,!1,null,\"c56aa2aa\",null),p=g.exports,b={name:\"UIProjectPage\",data:function(){return{tableData:[],page:{page:1,total:0,size:10},projectId:\"\",opsType:\"enter\",showUiPage:!1,currentUiProjectId:0}},methods:{handleEdit:function(e,t){console.log(e,t)},handleDelete:function(e,t){console.log(e,t)},handleSizeChange:function(e){this.page.size=e,this.getUiProjectFun()},handleCurrentChange:function(e){this.page.page=e,this.getUiProjectFun()},getUiProjectFun:function(){var e=this,t={page:this.page.page,size:this.page.size};Object(r[\"d\"])(t).then((function(t){console.log(t),!0===t.data.success?(e.tableData=t.data.data,e.page.total=t.data.data.total,e.page.page=t.data.data.page,e.page.size=t.data.data.size):e.$message.error(\"获取接口失败\")}))},enterProjectPage:function(e){this.projectId=e.id,console.log(this.projectId),this.opsType=\"enter\",this.currentUiProjectId=e.id,this.showUiPage=!0},projectList:function(){this.showUiPage=!1}},components:{\"ui-page\":p},created:function(){this.getUiProjectFun()}},f=b,_=Object(u[\"a\"])(f,i,o,!1,null,\"e4b871ae\",null);t[\"default\"]=_.exports},f0bd:function(e,t,a){\"use strict\";a.d(t,\"d\",(function(){return o})),a.d(t,\"a\",(function(){return r})),a.d(t,\"c\",(function(){return n})),a.d(t,\"e\",(function(){return c})),a.d(t,\"b\",(function(){return l}));var i=a(\"2934\"),o=function(){return Object(i[\"c\"])(\"api/backend/ui_project/list/\")},r=function(e){return Object(i[\"e\"])(\"api/backend/ui_project/\",e)},n=function(e){return Object(i[\"c\"])(\"api/backend/ui_project/\"+e+\"/\")},c=function(e,t){return Object(i[\"d\"])(\"api/backend/ui_project/\"+e+\"/\",t)},l=function(e){return Object(i[\"a\"])(\"api/backend/ui_project/\"+e+\"/\")}}}]);","extractedComments":[]}