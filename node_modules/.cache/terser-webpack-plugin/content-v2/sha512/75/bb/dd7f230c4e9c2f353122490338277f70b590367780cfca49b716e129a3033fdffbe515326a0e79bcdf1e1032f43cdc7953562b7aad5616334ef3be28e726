{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"apiEnvironment\"],{\"2aa0\":function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return a})),n.d(t,\"a\",(function(){return o})),n.d(t,\"d\",(function(){return r})),n.d(t,\"e\",(function(){return l})),n.d(t,\"b\",(function(){return s}));var i=n(\"2934\"),a=function(){return Object(i[\"c\"])(\"api/backend/api_environment/list/\")},o=function(e){return Object(i[\"e\"])(\"api/backend/api_environment/\",e)},r=function(e){return Object(i[\"c\"])(\"api/backend/api_environment/\"+e+\"/\")},l=function(e,t){return Object(i[\"d\"])(\"api/backend/api_environment/\"+e+\"/\",t)},s=function(e){return Object(i[\"a\"])(\"api/backend/api_environment/\"+e+\"/\")}},c096:function(e,t,n){\"use strict\";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",[n(\"div\",{staticClass:\"crumbs\"},[n(\"el-breadcrumb\",{attrs:{separator:\"/\"}},[n(\"el-breadcrumb-item\",[n(\"i\",{staticClass:\"el-icon-lx-calendar\"}),e._v(\" API环境 \")]),n(\"el-breadcrumb-item\",[e._v(\"API环境\")])],1)],1),n(\"el-row\",[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.addEnvironmentPopup}},[e._v(\"创建API环境\")])],1),n(\"el-dialog\",{attrs:{title:\"创建API环境\",visible:e.addApiEnvironmentdialogFormVisible},on:{\"update:visible\":function(t){e.addApiEnvironmentdialogFormVisible=t}}},[n(\"el-form\",{ref:\"addApiProjectFormRef\",attrs:{model:e.addApiEnvironmentData,rules:e.rules}},[n(\"el-form-item\",{attrs:{label:\"环境名称\",\"label-width\":\"100px\",prop:\"api_environment_name\"}},[n(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.addApiEnvironmentData.api_environment_name,callback:function(t){e.$set(e.addApiEnvironmentData,\"api_environment_name\",t)},expression:\"addApiEnvironmentData.api_environment_name\"}})],1),n(\"el-form-item\",{attrs:{label:\"域名\",\"label-width\":\"100px\",prop:\"api_title\"}},[n(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.addApiEnvironmentData.api_title,callback:function(t){e.$set(e.addApiEnvironmentData,\"api_title\",t)},expression:\"addApiEnvironmentData.api_title\"}})],1),n(\"el-form-item\",{attrs:{label:\"环境描述\",\"label-width\":\"100px\",prop:\"api_describe\"}},[n(\"el-input\",{attrs:{type:\"textarea\",autocomplete:\"off\"},model:{value:e.addApiEnvironmentData.api_environment_describe,callback:function(t){e.$set(e.addApiEnvironmentData,\"api_environment_describe\",t)},expression:\"addApiEnvironmentData.api_environment_describe\"}})],1)],1),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:function(t){e.addApiEnvironmentdialogFormVisible=!1}}},[e._v(\"取 消\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.addApiEnvironment}},[e._v(\"确 定\")])],1)],1),n(\"el-dialog\",{attrs:{title:\"编辑环境\",visible:e.editApiEnvironmentdialogFormVisible},on:{\"update:visible\":function(t){e.editApiEnvironmentdialogFormVisible=t}}},[n(\"el-form\",{ref:\"editEnvironmentFormRef\",attrs:{model:e.editApiEnvironmentData,rules:e.rules}},[n(\"el-form-item\",{attrs:{label:\"环境名称\",\"label-width\":\"100px\",prop:\"api_environment_name\"}},[n(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.editApiEnvironmentData.api_environment_name,callback:function(t){e.$set(e.editApiEnvironmentData,\"api_environment_name\",t)},expression:\"editApiEnvironmentData.api_environment_name\"}})],1),n(\"el-form-item\",{attrs:{label:\"环境标题\",\"label-width\":\"100px\",prop:\"api_title\"}},[n(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.editApiEnvironmentData.api_title,callback:function(t){e.$set(e.editApiEnvironmentData,\"api_title\",t)},expression:\"editApiEnvironmentData.api_title\"}})],1),n(\"el-form-item\",{attrs:{label:\"项目描述\",\"label-width\":\"100px\",prop:\"api_describe\"}},[n(\"el-input\",{attrs:{type:\"textarea\",autocomplete:\"off\"},model:{value:e.editApiEnvironmentData.api_environment_describe,callback:function(t){e.$set(e.editApiEnvironmentData,\"api_environment_describe\",t)},expression:\"editApiEnvironmentData.api_environment_describe\"}})],1)],1),n(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:function(t){e.editApiEnvironmentdialogFormVisible=!1}}},[e._v(\"取 消\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.editEnvironment}},[e._v(\"确 定\")])],1)],1),n(\"div\",[n(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:e.tableData}},[n(\"el-table-column\",{attrs:{prop:\"id\",label:\"id\",sortable:\"\",width:\"180\"}}),n(\"el-table-column\",{attrs:{prop:\"api_environment_name\",label:\"环境名称\",sortable:\"\",width:\"180\"}}),n(\"el-table-column\",{attrs:{prop:\"api_title\",label:\"环境标题\",sortable:\"\",width:\"180\"}}),n(\"el-table-column\",{attrs:{prop:\"api_environment_describe\",label:\"环境描述\",width:\"180\"}}),n(\"el-table-column\",{attrs:{prop:\"updata_time\",label:\"更新时间\",width:\"180\"}}),n(\"el-table-column\",{attrs:{prop:\"create_time\",label:\"创建时间\",width:\"180\"}}),n(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(n){return e.editApiEnvironmentPopup(t.row)}}},[e._v(\"编辑\")]),n(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(n){return e.deleteEnvironmentPopup(t.row)}}},[e._v(\"删除\")])]}}])})],1)],1)],1)},a=[],o=n(\"2aa0\"),r={name:\"ApiEnvironment\",data:function(){return{tableData:[],page:{page:1,total:0,size:10},addApiEnvironmentdialogFormVisible:!1,editApiEnvironmentdialogFormVisible:!1,addApiEnvironmentData:{api_environment_name:\"\",api_title:\"\",api_describe:\"\"},editApiEnvironmentData:{api_environment_name:\"\",api_title:\"\",api_environment_describe:\"\",id:0},apiEnvironmentId:\"\",apiEnvironmentData:\"\",rules:{api_environment_name:[{required:!0,message:\"请输入环境名称\",trigger:\"blur\"}],api_title:[{required:!0,message:\"请输入环境标题\",trigger:\"blur\"}]}}},methods:{formatter:function(e,t){return e.address},handleEdit:function(e,t){console.log(e,t)},handleDelete:function(e,t){console.log(e,t)},handleSizeChange:function(e){this.page.size=e,this.getApiEnvironmentFun()},handleCurrentChange:function(e){this.page.page=e,this.getApiEnvironmentFun()},getApiEnvironmentFun:function(){var e=this,t={page:this.page.page,size:this.page.size};Object(o[\"c\"])(t).then((function(t){console.log(t),!0===t.data.success?(e.tableData=t.data.data,e.page.total=t.data.data.total,e.page.page=t.data.data.page,e.page.size=t.data.data.size):e.$message.error(\"获取接口失败\")}))},addApiEnvironment:function(){var e=this,t=JSON.parse(JSON.stringify(this.addApiEnvironmentData));this.$refs.addApiProjectFormRef.validate((function(n){if(!n)return!1;Object(o[\"a\"])(t).then((function(t){console.log(t),!0===t.data.success?(e.getApiEnvironmentFun(),e.addApiEnvironmentdialogFormVisible=!1,e.$message.success(\"添加API环境成功\")):e.$message.error(\"添加API环境失败\")}))}))},addEnvironmentPopup:function(){this.addApiEnvironmentData={api_environment_name:\"\",api_title:\"\",api_describe:\"\"},this.addApiEnvironmentdialogFormVisible=!0},handleNodeClick:function(e){this.currentServiceId=e.id},editEnvironment:function(){var e=this,t=JSON.parse(JSON.stringify(this.editApiEnvironmentData));this.$refs.editEnvironmentFormRef.validate((function(n){if(console.log(e.apiEnvironmentId),!n)return!1;Object(o[\"e\"])(e.apiEnvironmentId,t).then((function(t){console.log(t),!0===t.data.success?(e.getApiEnvironmentFun(),e.editApiEnvironmentdialogFormVisible=!1,e.$message.success(\"编辑API环境成功\")):e.$message.error(\"编辑API环境失败\")}))}))},editApiEnvironmentPopup:function(e){var t=this;this.apiEnvironmentId=e.id,this.apiEnvironmentData=e,this.editApiEnvironmentdialogFormVisible=!0,console.log(this.apiEnvironmentId),console.log(this.apiEnvironmentData),Object(o[\"d\"])(this.apiEnvironmentId).then((function(e){console.log(e),!0===e.data.success?(t.editApiEnvironmentData.api_environment_name=e.data.data.api_environment_name,t.editApiEnvironmentData.api_describe=e.data.data.api_describe,t.editApiEnvironmentData.api_title=e.data.data.api_title):t.$message.error(\"获取接口失败\")}))},deleteEnvironmentPopup:function(e){var t=this;this.apiEnvironmentId=e.id,this.apiEnvironmentData=e,console.log(this.apiEnvironmentId),console.log(this.apiEnvironmentData),Object(o[\"b\"])(this.apiEnvironmentId).then((function(e){console.log(e),!0===e.data.success?(t.getApiEnvironmentFun(),t.$message.success(\"删除API环境成功\")):t.$message.error(\"删除API环境失败\")}))}},created:function(){this.getApiEnvironmentFun()}},l=r,s=n(\"2877\"),p=Object(s[\"a\"])(l,i,a,!1,null,\"8146a38c\",null);t[\"default\"]=p.exports}}]);","extractedComments":[]}