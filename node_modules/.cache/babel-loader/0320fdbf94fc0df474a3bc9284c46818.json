{"remainingRequest":"E:\\test_platform_vue\\node_modules\\babel-loader\\lib\\index.js!E:\\test_platform_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\test_platform_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\test_platform_vue\\src\\components\\page\\apiTestCase\\ApiTestCase.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\test_platform_vue\\src\\components\\page\\apiTestCase\\ApiTestCase.vue","mtime":1632633660568},{"path":"E:\\test_platform_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test_platform_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\test_platform_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\test_platform_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGFkZE9yRWRpdEFwaVRlc3RDYXNlIGZyb20gIi4vYWRkT3JFZGl0QXBpVGVzdENhc2UiOwppbXBvcnQgeyBnZXRBcGlUZXN0Q2FzZUxpc3RSZXF1ZXN0LCBkZWxldGVTaW5nbGVBcGlUZXN0Q2FzZVJlcXVlc3QgfSBmcm9tICIuLi8uLi8uLi9hcGkvYXBpVGVzdENhc2UiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwaVRlc3RDYXNlJywKICAvLyB0eXBlIOeUqOadpeagh+ivhuaYr+e8lui+kei/mOaYr+WIm+W7ugogIHByb3BzOiBbJ3R5cGUnLCAnYXBpTW9kdWxlSWQnLCAnYXBpVGVzdENhc2VQcm9qZWN0SWQnXSwKICBpbmplY3Q6IFsncmVsb2FkJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIG1vZHVsZUlkOiAiIiwKICAgICAgY3VycmVudEFwaVRlc3RDYXNlSWQ6IDAsCiAgICAgIGN1cnJlbnRBcGlNb2R1bGVJZDogMCwKICAgICAgY3VycmVudEFwaVRlc3RDYXNlRGF0YTogMCwKICAgICAgc2hvd0FkZE9yRWRpdEFwaVRlc3RDYXNlOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBvcGVuQWRkUGFnZUVsZW1lbnQ6IGZ1bmN0aW9uIG9wZW5BZGRQYWdlRWxlbWVudCgpIHsKICAgICAgdGhpcy5vcHNUeXBlID0gJ2FkZCc7CiAgICAgIHRoaXMuY3VycmVudEFwaU1vZHVsZUlkID0gdGhpcy5tb2R1bGVJZDsKICAgICAgdGhpcy5jdXJyZW50QXBpVGVzdENhc2VJZCA9IDA7CiAgICAgIHRoaXMuY3VycmVudEFwaVRlc3RDYXNlRGF0YSA9IHt9OwogICAgICB0aGlzLnNob3dBZGRPckVkaXRBcGlUZXN0Q2FzZSA9IHRydWU7CiAgICB9LAogICAgb3BlbkVkaXRBcGlUZXN0Q2FzZTogZnVuY3Rpb24gb3BlbkVkaXRBcGlUZXN0Q2FzZShkYXRhKSB7CiAgICAgIHRoaXMub3BzVHlwZSA9ICdlZGl0JzsKICAgICAgdGhpcy5jdXJyZW50QXBpVGVzdENhc2VJZCA9IGRhdGEuaWQ7CiAgICAgIHRoaXMuY3VycmVudEFwaVRlc3RDYXNlRGF0YSA9IGRhdGE7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICB0aGlzLnNob3dBZGRPckVkaXRBcGlUZXN0Q2FzZSA9IHRydWU7CiAgICB9LAogICAgc2F2ZUFwaVRlc3RDYXNlOiBmdW5jdGlvbiBzYXZlQXBpVGVzdENhc2UoKSB7CiAgICAgIHRoaXMuc2hvd0FkZE9yRWRpdEFwaVRlc3RDYXNlID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0QXBpVGVzdENhc2VGdW4oKTsKICAgIH0sCiAgICBjYW5jZWxTYXZlQXBpVGVzdENhc2U6IGZ1bmN0aW9uIGNhbmNlbFNhdmVBcGlUZXN0Q2FzZSgpIHsKICAgICAgdGhpcy5zaG93QWRkT3JFZGl0QXBpVGVzdENhc2UgPSBmYWxzZTsKICAgICAgdGhpcy5nZXRBcGlUZXN0Q2FzZUZ1bigpOwogICAgfSwKICAgIC8vIOiOt+WPluivpeaooeWdl+S4iyBBUEnmtYvor5XnlKjkvosKICAgIGdldEFwaVRlc3RDYXNlRnVuOiBmdW5jdGlvbiBnZXRBcGlUZXN0Q2FzZUZ1bigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGdldEFwaVRlc3RDYXNlTGlzdFJlcXVlc3QodGhpcy5tb2R1bGVJZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKCLov5nmmK9hcGnmtYvor5XnlKjkvosiLCBkYXRhKTsKCiAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSBkYXRhLmRhdGEuZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoIuiOt+WPluaOpeWPo+Wksei0pSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/liKDpmaTljZXkuKpBcGnmtYvor5XnlKjkvovlhYPntKAKICAgIGRlbGV0ZUFwaVRlc3RDYXNlUG9wdXA6IGZ1bmN0aW9uIGRlbGV0ZUFwaVRlc3RDYXNlUG9wdXAoZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuYXBpVGVzdENhc2VJZCA9IGRhdGEuaWQ7CiAgICAgIGRlbGV0ZVNpbmdsZUFwaVRlc3RDYXNlUmVxdWVzdCh0aGlzLmFwaVRlc3RDYXNlSWQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKCiAgICAgICAgaWYgKHRydWUgPT09IGRhdGEuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICBfdGhpczIuZ2V0QXBpVGVzdENhc2VGdW4oKTsKCiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6ZmkQVBJ5rWL6K+V55So5L6L5oiQ5YqfIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcigi5Yig6ZmkQVBJ5rWL6K+V55So5L6L5aSx6LSlIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDov5Tlm55BUEnmqKHlnZfliJfooagKICAgIHJldHVybkFQSU1vZHVsZUxpc3Q6IGZ1bmN0aW9uIHJldHVybkFQSU1vZHVsZUxpc3QoKSB7CiAgICAgIHRoaXMuJHBhcmVudC5hcGlNb2R1bGVMaXN0KCk7CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICAnYWRkLW9yLWVkaXQtYXBpLXRlc3QtY2FzZSc6IGFkZE9yRWRpdEFwaVRlc3RDYXNlCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2codGhpcy5hcGlNb2R1bGVJZCwgdGhpcy5hcGlUZXN0Q2FzZVByb2plY3RJZCk7CgogICAgaWYgKCdlbnRlcicgPT09IHRoaXMudHlwZSkgewogICAgICB0aGlzLm1vZHVsZUlkID0gdGhpcy5hcGlNb2R1bGVJZDsKICAgICAgdGhpcy5nZXRBcGlUZXN0Q2FzZUZ1bigpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ApiTestCase.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA,OAAA,oBAAA;AACA,SAAA,yBAAA,EAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA;AACA,EAAA,KAAA,EAAA,CAAA,MAAA,EAAA,aAAA,EAAA,sBAAA,CAHA;AAIA,EAAA,MAAA,EAAA,CAAA,QAAA,CAJA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAIA,MAAA,oBAAA,EAAA,CAJA;AAKA,MAAA,kBAAA,EAAA,CALA;AAMA,MAAA,sBAAA,EAAA,CANA;AAOA,MAAA,wBAAA,EAAA;AAPA,KAAA;AAcA,GApBA;AAqBA,EAAA,OArBA,qBAqBA,CAEA,CAvBA;AAwBA,EAAA,OAAA,EAAA;AAEA,IAAA,kBAFA,gCAEA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,WAAA,kBAAA,GAAA,KAAA,QAAA;AACA,WAAA,oBAAA,GAAA,CAAA;AACA,WAAA,sBAAA,GAAA,EAAA;AAEA,WAAA,wBAAA,GAAA,IAAA;AACA,KATA;AAYA,IAAA,mBAZA,+BAYA,IAZA,EAYA;AACA,WAAA,OAAA,GAAA,MAAA;AACA,WAAA,oBAAA,GAAA,IAAA,CAAA,EAAA;AACA,WAAA,sBAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AAEA,WAAA,wBAAA,GAAA,IAAA;AACA,KAnBA;AAqBA,IAAA,eArBA,6BAqBA;AACA,WAAA,wBAAA,GAAA,KAAA;AACA,WAAA,iBAAA;AAEA,KAzBA;AA2BA,IAAA,qBA3BA,mCA2BA;AACA,WAAA,wBAAA,GAAA,KAAA;AACA,WAAA,iBAAA;AAEA,KA/BA;AAiCA;AACA,IAAA,iBAlCA,+BAkCA;AAAA;;AAEA,MAAA,yBAAA,CAAA,KAAA,QAAA,CAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,WAAA,EAAA,IAAA;;AACA,YAAA,SAAA,IAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AAEA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,QAAA;AACA;AACA,OARA;AASA,KA7CA;AAkDA;AACA,IAAA,sBAnDA,kCAmDA,IAnDA,EAmDA;AAAA;;AACA,WAAA,aAAA,GAAA,IAAA,CAAA,EAAA;AACA,MAAA,8BAAA,CAAA,KAAA,aAAA,CAAA,CAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AACA,YAAA,SAAA,IAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA,UAAA,MAAA,CAAA,iBAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,aAAA;AAEA,SAJA,MAIA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,aAAA;AACA;AACA,OATA;AAWA,KAhEA;AAmEA;AACA,IAAA,mBApEA,iCAoEA;AACA,WAAA,OAAA,CAAA,aAAA;AAEA;AAvEA,GAxBA;AAmGA,EAAA,UAAA,EAAA;AACA,iCAAA;AADA,GAnGA;AAuGA,EAAA,OAvGA,qBAuGA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,WAAA,EAAA,KAAA,oBAAA;;AACA,QAAA,YAAA,KAAA,IAAA,EAAA;AACA,WAAA,QAAA,GAAA,KAAA,WAAA;AACA,WAAA,iBAAA;AAEA;AAEA;AA/GA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <add-or-edit-api-test-case\r\n        :type=\"opsType\"\r\n        :apiTestCaseId=\"currentApiTestCaseId\"\r\n        :apiTestCaseData=\"currentApiTestCaseData\"\r\n        :apiModuleId=\"currentApiModuleId\"\r\n\r\n        @saveApiTestCase=\"saveApiTestCase\"\r\n        @cancelSaveApiTestCase=\"cancelSaveApiTestCase\"\r\n        v-if=\"showAddOrEditApiTestCase\">\r\n\r\n    </add-or-edit-api-test-case>\r\n\r\n\r\n    <div v-else>\r\n\r\n      <div class=\"crumbs\">\r\n        <el-breadcrumb separator=\"/\">\r\n          <el-breadcrumb-item>\r\n            <i class=\"el-icon-lx-calendar\"></i> API项目\r\n          </el-breadcrumb-item>\r\n          <el-breadcrumb-item>API模块</el-breadcrumb-item>\r\n          <el-breadcrumb-item>API测试用例</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n      <el-row>\r\n        <el-button @click=\"returnAPIModuleList\" >返回</el-button>\r\n        <el-button type=\"primary\" @click=\"openAddPageElement\" >创建API测试用例</el-button>\r\n      </el-row>\r\n      <el-table\r\n          :data=\"tableData\"\r\n          style=\"width: 100%\">\r\n        <el-table-column\r\n            prop=\"id\"\r\n            label=\"id\"\r\n            sortable\r\n            width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"api_module_name\"\r\n            label=\"API模块\"\r\n            sortable\r\n            width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"api_test_case_name\"\r\n            label=\"API测试用例\"\r\n            sortable\r\n            width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"updata_time\"\r\n            label=\"更新时间\"\r\n            width=\"180\">\r\n        </el-table-column>\r\n\r\n        <el-table-column\r\n            prop=\"create_time\"\r\n            label=\"创建时间\"\r\n            width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n                size=\"mini\"\r\n                @click=\"openEditApiTestCase(scope.row)\">编辑</el-button>\r\n            <el-button\r\n                size=\"mini\"\r\n                type=\"danger\"\r\n                @click=\"deleteApiTestCasePopup(scope.row)\">删除</el-button>\r\n\r\n\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nimport addOrEditApiTestCase from './addOrEditApiTestCase';\r\nimport {getApiTestCaseListRequest, deleteSingleApiTestCaseRequest} from '../../../api/apiTestCase';\r\n\r\nexport default {\r\n  name: 'ApiTestCase',\r\n  // type 用来标识是编辑还是创建\r\n  props:['type', 'apiModuleId', 'apiTestCaseProjectId'],\r\n  inject:['reload'],\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      moduleId: \"\",\r\n\r\n      currentApiTestCaseId: 0,\r\n      currentApiModuleId: 0,\r\n      currentApiTestCaseData:0,\r\n      showAddOrEditApiTestCase:false,\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n  },\r\n  mounted(){\r\n\r\n  },\r\n  methods: {\r\n\r\n    openAddPageElement(){\r\n      this.opsType = 'add';\r\n      this.currentApiModuleId= this.moduleId\r\n      this.currentApiTestCaseId = 0;\r\n      this.currentApiTestCaseData = {};\r\n\r\n      this.showAddOrEditApiTestCase = true\r\n    },\r\n\r\n\r\n    openEditApiTestCase(data){\r\n      this.opsType = 'edit';\r\n      this.currentApiTestCaseId = data.id;\r\n      this.currentApiTestCaseData = data;\r\n      console.log(data)\r\n\r\n      this.showAddOrEditApiTestCase = true;\r\n    },\r\n\r\n    saveApiTestCase(){\r\n      this.showAddOrEditApiTestCase = false\r\n      this.getApiTestCaseFun();\r\n\r\n    },\r\n\r\n    cancelSaveApiTestCase(){\r\n      this.showAddOrEditApiTestCase = false\r\n      this.getApiTestCaseFun();\r\n\r\n    },\r\n\r\n    // 获取该模块下 API测试用例\r\n    getApiTestCaseFun() {\r\n\r\n      getApiTestCaseListRequest(this.moduleId).then(data => {\r\n        console.log(\"这是api测试用例\",data);\r\n        if (true === data.data.success) {\r\n          this.tableData = data.data.data;\r\n\r\n        } else {\r\n          this.$message.error(\"获取接口失败\")\r\n        }\r\n      })\r\n    },\r\n\r\n\r\n\r\n\r\n    //删除单个Api测试用例元素\r\n    deleteApiTestCasePopup(data){\r\n      this.apiTestCaseId = data.id\r\n      deleteSingleApiTestCaseRequest(this.apiTestCaseId).then(data => {\r\n            console.log(data);\r\n            if (true === data.data.success) {\r\n              this.getApiTestCaseFun();\r\n              this.$message.success(\"删除API测试用例成功\")\r\n\r\n            } else {\r\n              this.$message.error(\"删除API测试用例失败\")\r\n            }\r\n          }\r\n      );\r\n    },\r\n\r\n\r\n    // 返回API模块列表\r\n    returnAPIModuleList(){\r\n      this.$parent.apiModuleList();\r\n\r\n    }\r\n\r\n  },\r\n\r\n  components: {\r\n    'add-or-edit-api-test-case': addOrEditApiTestCase\r\n  },\r\n\r\n  created() {\r\n    console.log(this.apiModuleId, this.apiTestCaseProjectId)\r\n    if ('enter'===this.type){\r\n      this.moduleId = this.apiModuleId\r\n      this.getApiTestCaseFun();\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components/page/apiTestCase"}]}