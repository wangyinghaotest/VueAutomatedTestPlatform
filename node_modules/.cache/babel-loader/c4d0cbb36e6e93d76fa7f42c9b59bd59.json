{"remainingRequest":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\babel-loader\\lib\\index.js!D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\VUE\\VueAutomatedTestPlatform\\src\\components\\page\\apiTask\\ApiTestTaskResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\VUE\\VueAutomatedTestPlatform\\src\\components\\page\\apiTask\\ApiTestTaskResult.vue","mtime":1632633660567},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\VUE\\VueAutomatedTestPlatform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0QXBpQ2FzZVJlc3VsdFJlcXVlc3QsIGRlbGV0ZUFwaUNhc2VSZXN1bHRSZXF1ZXN0LCBwb3N0UGVyZm9ybUFwaVRhc2tSZXF1ZXN0IH0gZnJvbSAiLi4vLi4vLi4vYXBpL2FwaVRlc3RUYXNrIjsKaW1wb3J0IEFQSVRlc3RUYXNrUmVzdWx0RGV0YWlscyBmcm9tICIuL0FQSVRlc3RUYXNrUmVzdWx0RGV0YWlscyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBpVGVzdFRhc2tSZXN1bHQnLAogIGluamVjdDogWydyZWxvYWQnXSwKICBwcm9wczogWydhcGlUZXN0VGFza0RhdGEnLCAnYXBpVGVzdFRhc2tJZCddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZURhdGE6IFtdLAogICAgICB0ZXN0VGFza0lkOiAiIiwKICAgICAgcmVzdWx0X2lkOiAiIiwKICAgICAgYXBpX1Jlc3VsdDogIiIsCiAgICAgIHNob3dBcGlUZXN0VGFza1Jlc3VsdERldGFpbHM6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QXBpQ2FzZVJlc3VsdEZ1bigpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5omn6KGM5rWL6K+V5Lu75YqhCiAgICBwZXJmb3JtQXBpVGVzdFRhc2s6IGZ1bmN0aW9uIHBlcmZvcm1BcGlUZXN0VGFzaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHBvc3RQZXJmb3JtQXBpVGFza1JlcXVlc3QodGhpcy50ZXN0VGFza0lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CgogICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgLy8gdGhpcy5nZXRBcGlUZXN0VGFza0Z1bigpCiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmiafooYzmtYvor5Xku7vliqHmiJDlip8iKTsKICAgICAgICB9IGVsc2UgaWYgKDEwMjAwID09PSBkYXRhLmRhdGEuZXJyb3IuY29kZS5zdGF0dXMpIHsKICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCLlvZPliY3mnIlBUEnku7vliqHmraPlnKjmiafooYzvvIEiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoIuaJp+ihjEFQSea1i+ivleS7u+WKoeWksei0pSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5rWL6K+V5oql5ZGKCiAgICBnZXRBcGlDYXNlUmVzdWx0RnVuOiBmdW5jdGlvbiBnZXRBcGlDYXNlUmVzdWx0RnVuKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGdldEFwaUNhc2VSZXN1bHRSZXF1ZXN0KHRoaXMudGVzdFRhc2tJZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMyLnRhYmxlRGF0YSA9IGRhdGEuZGF0YS5kYXRhLmRhdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5pbmZvKCLojrflj5bmjqXlj6PlpLHotKUiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrUmVwb3J0OiBmdW5jdGlvbiBjaGVja1JlcG9ydChkYXRhKSB7CiAgICAgIHRoaXMuc2hvd0FwaVRlc3RUYXNrUmVzdWx0RGV0YWlscyA9IHRydWU7CiAgICAgIHRoaXMucmVzdWx0X2lkID0gZGF0YS5pZDsKICAgIH0sCiAgICByZXR1cm5BUElSZXBvcnRMaXN0OiBmdW5jdGlvbiByZXR1cm5BUElSZXBvcnRMaXN0KCkgewogICAgICB0aGlzLnNob3dBcGlUZXN0VGFza1Jlc3VsdERldGFpbHMgPSBmYWxzZTsKICAgICAgdGhpcy5nZXRBcGlDYXNlUmVzdWx0RnVuKCk7CiAgICB9LAogICAgLy8g5Yig6Zmk5oql5ZGKCiAgICBkZWxldGVSZXBvcnQ6IGZ1bmN0aW9uIGRlbGV0ZVJlcG9ydChkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5yZXN1bHRfaWQgPSBkYXRhLmlkOwogICAgICBkZWxldGVBcGlDYXNlUmVzdWx0UmVxdWVzdCh0aGlzLnJlc3VsdF9pZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMzLmdldEFwaUNhc2VSZXN1bHRGdW4oKTsKCiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6ZmkQVBJ5rWL6K+V5oql5ZGK5oiQ5YqfIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5pbmZvKCLliKDpmaRBUEnmtYvor5XmiqXlkYrlpLHotKUiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOi/lOWbnuS7u+WKoeWIl+ihqAogICAgcmV0dXJuVGFza0xpc3Q6IGZ1bmN0aW9uIHJldHVyblRhc2tMaXN0KCkgewogICAgICB0aGlzLiRwYXJlbnQucmV0dXJuQVBJVGFza0xpc3QoKTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgICdhcGktdGVzdC10YXNrLXJlc3VsdF9kZXRhaWxzJzogQVBJVGVzdFRhc2tSZXN1bHREZXRhaWxzCiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2codGhpcy5hcGlUZXN0VGFza0RhdGEuaWQpOwogICAgdGhpcy50ZXN0VGFza0lkID0gdGhpcy5hcGlUZXN0VGFza0RhdGEuaWQ7CiAgfQp9Ow=="},{"version":3,"sources":["ApiTestTaskResult.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <api-test-task-result_details\r\n                :apiResultId = \"result_id\"\r\n                v-if=\"showApiTestTaskResultDetails\">\r\n        </api-test-task-result_details>\r\n        <div v-else>\r\n          <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n              <el-breadcrumb-item>\r\n                <i class=\"el-icon-lx-calendar\"></i> API任务管理\r\n              </el-breadcrumb-item>\r\n              <el-breadcrumb-item>API项目</el-breadcrumb-item>\r\n              <el-breadcrumb-item>API任务</el-breadcrumb-item>\r\n              <el-breadcrumb-item>API测试报告</el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n          </div>\r\n          <el-row>\r\n            <el-button @click=\"returnTaskList\">返回</el-button>\r\n            <el-button type=\"danger\" @click=\"performApiTestTask\">执行</el-button>\r\n          </el-row>\r\n            <div>\r\n                <el-table\r\n                        :data=\"tableData\"\r\n                        style=\"width: 100%\">\r\n                    <!--                    :default-sort = \"{prop: 'date', order: 'descending'}\">-->\r\n                    <el-table-column\r\n                            prop=\"id\"\r\n                            label=\"id\"\r\n                            sortable\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"api_test_result_name\"\r\n                            label=\"测试报告名称\"\r\n                            sortable\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"api_total_number\"\r\n                            label=\"总数\"\r\n                            sortable\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"api_successful_total_number\"\r\n                            label=\"成功\"\r\n                            sortable\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"api_error_total_number\"\r\n                            label=\"失败\"\r\n                            sortable\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n\r\n                    <el-table-column label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button\r\n                                    size=\"mini\"\r\n                                    type=\"danger\"\r\n                                    @click=\"checkReport(scope.row)\">查看报告</el-button>\r\n                            <el-button\r\n                                    size=\"mini\"\r\n                                    type=\"danger\"\r\n                                    @click=\"deleteReport(scope.row)\">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {getApiCaseResultRequest, deleteApiCaseResultRequest, postPerformApiTaskRequest} from '../../../api/apiTestTask';\r\n    import APITestTaskResultDetails from './APITestTaskResultDetails';\r\n    export default {\r\n        name: 'ApiTestTaskResult',\r\n        inject:['reload'],\r\n        props: ['apiTestTaskData', 'apiTestTaskId'],\r\n        data(){\r\n\r\n            return{\r\n\r\n                tableData: [],\r\n                testTaskId: \"\",\r\n                result_id: \"\",\r\n                api_Result: \"\",\r\n                showApiTestTaskResultDetails: false\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n        },\r\n        mounted() {\r\n            this.getApiCaseResultFun()\r\n\r\n\r\n        },\r\n        methods: {\r\n\r\n\r\n          // 执行测试任务\r\n          performApiTestTask(){\r\n            postPerformApiTaskRequest(this.testTaskId).then(data => {\r\n              console.log(data)\r\n              if (true === data.data.success){\r\n                // this.getApiTestTaskFun()\r\n                this.$message.success(\"执行测试任务成功\")\r\n              }\r\n              else if(10200 === data.data.error.code.status){\r\n                this.$message.error(\"当前有API任务正在执行！\")\r\n\r\n              }\r\n              else {\r\n                this.$message.error(\"执行API测试任务失败\")\r\n              }\r\n            })\r\n          },\r\n\r\n\r\n            // 获取测试报告\r\n            getApiCaseResultFun() {\r\n                getApiCaseResultRequest(this.testTaskId).then(data =>{\r\n                    if (true === data.data.success){\r\n                        this.tableData = data.data.data.data;\r\n\r\n                    }else {\r\n                        this.$message.info(\"获取接口失败\")\r\n                    }\r\n\r\n                })\r\n            },\r\n\r\n\r\n            checkReport(data){\r\n                this.showApiTestTaskResultDetails = true\r\n                this.result_id = data.id\r\n\r\n            },\r\n\r\n\r\n          returnAPIReportList(){\r\n            this.showApiTestTaskResultDetails = false\r\n            this.getApiCaseResultFun()\r\n          },\r\n\r\n            // 删除报告\r\n            deleteReport(data){\r\n                this.result_id = data.id\r\n                deleteApiCaseResultRequest(this.result_id).then(data =>{\r\n                    if (true === data.data.success){\r\n                        this.getApiCaseResultFun()\r\n                        this.$message.success(\"删除API测试报告成功\")\r\n                    }\r\n                    else {\r\n                        this.$message.info(\"删除API测试报告失败\")\r\n                    }\r\n\r\n                })\r\n            },\r\n\r\n          // 返回任务列表\r\n          returnTaskList(){\r\n            this.$parent.returnAPITaskList();\r\n\r\n          }\r\n\r\n\r\n\r\n        },\r\n        components: {\r\n            'api-test-task-result_details': APITestTaskResultDetails\r\n\r\n        },\r\n        created() {\r\n            console.log(this.apiTestTaskData.id)\r\n            this.testTaskId = this.apiTestTaskData.id\r\n\r\n        }\r\n\r\n\r\n\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components/page/apiTask"}]}