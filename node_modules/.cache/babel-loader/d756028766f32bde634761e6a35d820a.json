{"remainingRequest":"E:\\test-platform-vue\\node_modules\\babel-loader\\lib\\index.js!E:\\test-platform-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\test-platform-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\test-platform-vue\\src\\components\\page\\uiAutomation\\uiTask\\UiTask.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\test-platform-vue\\src\\components\\page\\uiAutomation\\uiTask\\UiTask.vue","mtime":1652877133465},{"path":"E:\\test-platform-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652877126456},{"path":"E:\\test-platform-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1652877125945},{"path":"E:\\test-platform-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652877126456},{"path":"E:\\test-platform-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1652877132787}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZGVsZXRlU2luZ2xlVWlUZXN0VGFza1JlcXVlc3QsIGdldFVpVGVzdFRhc2tSZXF1ZXN0LCBwb3N0UGVyZm9ybVVpVGFza1JlcXVlc3QgfSBmcm9tICIuLi8uLi8uLi8uLi9hcGkvdWlBdXRvbWF0aW9uL3VpVGVzdFRhc2siOwppbXBvcnQgYWRkT3JFZGl0VWlUZXN0VGFzayBmcm9tICIuL2FkZE9yRWRpdFVpVGVzdFRhc2siOwppbXBvcnQgVWlUZXN0VGFza1Jlc3VsdCBmcm9tICIuL1VpVGVzdFRhc2tSZXN1bHQiOwpleHBvcnQgZGVmYXVsdCB7CiAgaW5qZWN0OiBbJ3JlbG9hZCddLAogIG5hbWU6ICdVaVRhc2snLAogIHByb3BzOiBbJ3R5cGUnLCAndWlQcm9qZWN0SWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgdWlUZXN0VGFza0lkOiAiIiwKICAgICAgc2hvd0FkZE9yRWRpdFVpVGVzdFRhc2s6IGZhbHNlLAogICAgICBzaG93VWlUZXN0VGFza1Jlc3VsdDogZmFsc2UsCiAgICAgIG9wc1R5cGU6ICJhZGQiLAogICAgICAvL+W9k+WJjXVpVGVzdFRhc2tJZAogICAgICBjdXJyZW50VWlUZXN0VGFza0lkOiAwLAogICAgICAvL+W9k+WJjSB1aXRlc3RDYXNl5pWw5o2uCiAgICAgIGN1cnJlbnRVaVRlc3RUYXNrRGF0YToge30sCiAgICAgIHByb2plY3RJZDogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+iOt+WPluivpemhueebruS4i+eahOaJgOaciVVJ5rWL6K+V5Lu75Yqh5YiX6KGoCiAgICBnZXRVaVRlc3RUYXNrRnVuOiBmdW5jdGlvbiBnZXRVaVRlc3RUYXNrRnVuKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZ2V0VWlUZXN0VGFza1JlcXVlc3QodGhpcy51aVByb2plY3RJZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IGRhdGEuZGF0YS5kYXRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcigi6I635Y+W5o6l5Y+j5aSx6LSlIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmt7vliqDmtYvor5Xku7vliqEKICAgIG9wZW5BZGRVaVRlc3RUYXNrOiBmdW5jdGlvbiBvcGVuQWRkVWlUZXN0VGFzaygpIHsKICAgICAgdGhpcy5vcHNUeXBlID0gJ2FkZCc7CiAgICAgIHRoaXMuY3VycmVudFVpVGVzdFRhc2tJZCA9IDA7CiAgICAgIHRoaXMuY3VycmVudFVpVGVzdFRhc2tEYXRhID0ge307CiAgICAgIHRoaXMuc2hvd0FkZE9yRWRpdFVpVGVzdFRhc2sgPSB0cnVlOwogICAgfSwKICAgIC8vIOe8lui+kea1i+ivleS7u+WKoQogICAgb3BlbkVkaXRVaVRlc3RUYXNrOiBmdW5jdGlvbiBvcGVuRWRpdFVpVGVzdFRhc2soZGF0YSkgewogICAgICB0aGlzLm9wc1R5cGUgPSAnZWRpdCc7CiAgICAgIHRoaXMuY3VycmVudFVpVGVzdFRhc2tJZCA9IGRhdGEuaWQ7CiAgICAgIHRoaXMuY3VycmVudFVpVGVzdFRhc2tEYXRhID0gZGF0YTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHRoaXMuc2hvd0FkZE9yRWRpdFVpVGVzdFRhc2sgPSB0cnVlOwogICAgfSwKICAgIC8v5Yig6Zmk5Y2V5Liq5Lu75YqhCiAgICBkZWxldGVVaVRlc3RUYXNrOiBmdW5jdGlvbiBkZWxldGVVaVRlc3RUYXNrKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnVpVGVzdFRhc2tJZCA9IGRhdGEuaWQ7CiAgICAgIGRlbGV0ZVNpbmdsZVVpVGVzdFRhc2tSZXF1ZXN0KHRoaXMudWlUZXN0VGFza0lkKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CgogICAgICAgIGlmICh0cnVlID09PSBkYXRhLmRhdGEuc3VjY2VzcykgewogICAgICAgICAgX3RoaXMyLmdldFVpVGVzdFRhc2tGdW4oKTsKCiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygi5Yig6Zmk5rWL6K+V5Lu75Yqh5oiQ5YqfIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcigi5Yig6Zmk5rWL6K+V5Lu75Yqh5aSx6LSlIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+S/neWtmOa1i+ivleS7u+WKoQogICAgc2F2ZVVpVGVzdFRhc2s6IGZ1bmN0aW9uIHNhdmVVaVRlc3RUYXNrKCkgewogICAgICB0aGlzLnNob3dBZGRPckVkaXRVaVRlc3RUYXNrID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0VWlUZXN0VGFza0Z1bigpOwogICAgfSwKICAgIC8vIOWPlua2iOS/neWtmOa1i+ivleS7u+WKoQogICAgY2FuY2VsU2F2ZVVpVGVzdFRhc2s6IGZ1bmN0aW9uIGNhbmNlbFNhdmVVaVRlc3RUYXNrKCkgewogICAgICB0aGlzLnNob3dBZGRPckVkaXRVaVRlc3RUYXNrID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0VWlUZXN0VGFza0Z1bigpOwogICAgfSwKICAgIC8vIOaJp+ihjOa1i+ivleS7u+WKoQogICAgcGVyZm9ybVVpVGVzdFRhc2s6IGZ1bmN0aW9uIHBlcmZvcm1VaVRlc3RUYXNrKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnVpVGVzdFRhc2tJZCA9IGRhdGEuaWQ7CiAgICAgIHBvc3RQZXJmb3JtVWlUYXNrUmVxdWVzdCh0aGlzLnVpVGVzdFRhc2tJZCkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICBpZiAodHJ1ZSA9PT0gZGF0YS5kYXRhLnN1Y2Nlc3MpIHsKICAgICAgICAgIF90aGlzMy5nZXRVaVRlc3RUYXNrRnVuKCk7CgogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoIuaJp+ihjOa1i+ivleS7u+WKoeaIkOWKnyIpOwogICAgICAgIH0gZWxzZSBpZiAoMTAyMDAgPT09IGRhdGEuZGF0YS5lcnJvci5jb2RlLnN0YXR1cykgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCLlvZPliY3mnInku7vliqHmraPlnKjmiafooYzvvIEiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCLmiafooYzmtYvor5Xku7vliqHlpLHotKUiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOafpeeci+S7u+WKoeaKpeWRigogICAgcmVwb3J0VWlUZXN0VGFzazogZnVuY3Rpb24gcmVwb3J0VWlUZXN0VGFzayhkYXRhKSB7CiAgICAgIHRoaXMuY3VycmVudFVpVGVzdFRhc2tJZCA9IGRhdGEuaWQ7CiAgICAgIHRoaXMuY3VycmVudFVpVGVzdFRhc2tEYXRhID0gZGF0YTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHRoaXMuc2hvd1VpVGVzdFRhc2tSZXN1bHQgPSB0cnVlOwogICAgfSwKICAgIC8vIOi/lOWbnumhueebrummlumhteWIl+ihqAogICAgcmV0dXJuUHJvamVjdExpc3Q6IGZ1bmN0aW9uIHJldHVyblByb2plY3RMaXN0KCkgewogICAgICB0aGlzLiRwYXJlbnQucmV0dXJuUHJvamVjdCgpOwogICAgfSwKICAgIC8vIOi/lOWbnuS7u+WKoeWIl+ihqAogICAgcmV0dXJuVGFza0xpc3Q6IGZ1bmN0aW9uIHJldHVyblRhc2tMaXN0KCkgewogICAgICB0aGlzLnNob3dVaVRlc3RUYXNrUmVzdWx0ID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0VWlUZXN0VGFza0Z1bigpOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgJ2FkZC1vci1lZGl0LXVpLXRlc3QtdGFzayc6IGFkZE9yRWRpdFVpVGVzdFRhc2ssCiAgICAndWktdGVzdC10YXNrLXJlc3VsdCc6IFVpVGVzdFRhc2tSZXN1bHQKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAoJ2VudGVyJyA9PT0gdGhpcy50eXBlKSB7CiAgICAgIHRoaXMucHJvamVjdElkID0gdGhpcy51aVByb2plY3RJZDsKICAgICAgdGhpcy5nZXRVaVRlc3RUYXNrRnVuKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["UiTask.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n\r\n        <add-or-edit-ui-test-task\r\n            :type=\"opsType\"\r\n            :uiTestTaskId=\"currentUiTestTaskId\"\r\n            :uiTestTaskData=\"currentUiTestTaskData\"\r\n            :projectId = \"projectId\"\r\n            @saveUiTestTask=\"saveUiTestTask\"\r\n            @cancelSaveUiTestTask=\"cancelSaveUiTestTask\"\r\n            v-if=\"showAddOrEditUiTestTask\">\r\n\r\n        </add-or-edit-ui-test-task>\r\n\r\n        <ui-test-task-result\r\n            :uiTestTaskId=\"currentUiTestTaskId\"\r\n            :uiTestTaskData=\"currentUiTestTaskData\"\r\n            v-else-if=\"showUiTestTaskResult\">\r\n        </ui-test-task-result>\r\n\r\n        <div v-else>\r\n            <div class=\"crumbs\">\r\n                <el-breadcrumb separator=\"/\">\r\n                    <el-breadcrumb-item>\r\n                        <i class=\"el-icon-lx-calendar\"></i> UI任务管理\r\n                    </el-breadcrumb-item>\r\n                    <el-breadcrumb-item>UI项目</el-breadcrumb-item>\r\n                    <el-breadcrumb-item>UI任务</el-breadcrumb-item>\r\n                </el-breadcrumb>\r\n            </div>\r\n            <el-row>\r\n                <el-button @click=\"returnProjectList\">返回</el-button>\r\n\r\n                <el-button type=\"primary\" @click=\"openAddUiTestTask\" >创建UI测试任务</el-button>\r\n                <el-button @click=\"getUiTestTaskFun\" >刷新</el-button>\r\n            </el-row>\r\n            <div>\r\n                <el-table\r\n                    :data=\"tableData\"\r\n                    style=\"width: 100%\">\r\n                    <!--                    :default-sort = \"{prop: 'date', order: 'descending'}\">-->\r\n                    <el-table-column\r\n                        prop=\"id\"\r\n                        label=\"id\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"ui_project_name\"\r\n                        label=\"项目\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"ui_test_task_name\"\r\n                        label=\"任务名称\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"status\"\r\n                        label=\"状态\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"describe\"\r\n                        label=\"描述\"\r\n                        sortable\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                        prop=\"updata_time\"\r\n                        label=\"更新时间\"\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n\r\n                    <el-table-column\r\n                        prop=\"create_time\"\r\n                        label=\"创建时间\"\r\n                        width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                @click=\"openEditUiTestTask(scope.row)\">编辑</el-button>\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                type=\"danger\"\r\n                                @click=\"deleteUiTestTask(scope.row)\">删除</el-button>\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                type=\"danger\"\r\n                                @click=\"performUiTestTask(scope.row)\">执行</el-button>\r\n                            <el-button\r\n                                size=\"mini\"\r\n                                type=\"danger\"\r\n                                @click=\"reportUiTestTask(scope.row)\">查看报告</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { deleteSingleUiTestTaskRequest, getUiTestTaskRequest,postPerformUiTaskRequest} from '../../../../api/uiAutomation/uiTestTask';\r\nimport addOrEditUiTestTask from './addOrEditUiTestTask';\r\nimport UiTestTaskResult from './UiTestTaskResult';\r\n\r\nexport default {\r\n    inject:['reload'],\r\n    name: 'UiTask',\r\n    props: ['type', 'uiProjectId'],\r\n\r\n    data(){\r\n        return{\r\n\r\n            tableData: [],\r\n            uiTestTaskId: \"\",\r\n\r\n            showAddOrEditUiTestTask : false,\r\n\r\n            showUiTestTaskResult: false,\r\n\r\n            opsType: \"add\",\r\n\r\n            //当前uiTestTaskId\r\n            currentUiTestTaskId: 0,\r\n\r\n            //当前 uitestCase数据\r\n            currentUiTestTaskData: {},\r\n            projectId:\"\"\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n    },\r\n\r\n    methods:{\r\n\r\n        //获取该项目下的所有UI测试任务列表\r\n        getUiTestTaskFun() {\r\n            getUiTestTaskRequest(this.uiProjectId).then(data => {\r\n                console.log(data);\r\n                if (true === data.data.success) {\r\n                    this.tableData = data.data.data;\r\n\r\n                } else {\r\n                    this.$message.error(\"获取接口失败\")\r\n                }\r\n            })\r\n        },\r\n\r\n\r\n\r\n        // 添加测试任务\r\n        openAddUiTestTask(){\r\n            this.opsType = 'add';\r\n            this.currentUiTestTaskId = 0;\r\n            this.currentUiTestTaskData = {};\r\n\r\n            this.showAddOrEditUiTestTask = true\r\n\r\n\r\n        },\r\n\r\n        // 编辑测试任务\r\n        openEditUiTestTask(data){\r\n            this.opsType = 'edit';\r\n            this.currentUiTestTaskId = data.id;\r\n            this.currentUiTestTaskData = data;\r\n            console.log(data)\r\n\r\n            this.showAddOrEditUiTestTask = true;\r\n\r\n\r\n\r\n        },\r\n\r\n        //删除单个任务\r\n        deleteUiTestTask(data){\r\n            this.uiTestTaskId = data.id\r\n            deleteSingleUiTestTaskRequest(this.uiTestTaskId).then(data => {\r\n                console.log(data)\r\n                if (true === data.data.success){\r\n                    this.getUiTestTaskFun()\r\n                    this.$message.success(\"删除测试任务成功\")\r\n                }\r\n                else {\r\n                    this.$message.error(\"删除测试任务失败\")\r\n                }\r\n            })\r\n\r\n        },\r\n\r\n        //保存测试任务\r\n        saveUiTestTask(){\r\n            this.showAddOrEditUiTestTask = false\r\n            this.getUiTestTaskFun()\r\n\r\n\r\n        },\r\n\r\n        // 取消保存测试任务\r\n        cancelSaveUiTestTask(){\r\n            this.showAddOrEditUiTestTask = false\r\n            this.getUiTestTaskFun()\r\n\r\n        },\r\n\r\n        // 执行测试任务\r\n        performUiTestTask(data){\r\n\r\n            this.uiTestTaskId = data.id\r\n            postPerformUiTaskRequest(this.uiTestTaskId).then(data => {\r\n                console.log(data)\r\n                if (true === data.data.success){\r\n                    this.getUiTestTaskFun()\r\n                    this.$message.success(\"执行测试任务成功\")\r\n                }\r\n                else if(10200 === data.data.error.code.status){\r\n                    this.$message.error(\"当前有任务正在执行！\")\r\n\r\n                }\r\n                else {\r\n                    this.$message.error(\"执行测试任务失败\")\r\n                }\r\n            })\r\n        },\r\n\r\n        // 查看任务报告\r\n        reportUiTestTask(data){\r\n            this.currentUiTestTaskId = data.id;\r\n            this.currentUiTestTaskData = data;\r\n            console.log(data)\r\n            this.showUiTestTaskResult = true\r\n\r\n        },\r\n\r\n        // 返回项目首页列表\r\n        returnProjectList(){\r\n            this.$parent.returnProject();\r\n        },\r\n\r\n        // 返回任务列表\r\n        returnTaskList(){\r\n            this.showUiTestTaskResult = false\r\n            this.getUiTestTaskFun()\r\n        },\r\n\r\n    },\r\n    components: {\r\n        'add-or-edit-ui-test-task': addOrEditUiTestTask,\r\n        'ui-test-task-result': UiTestTaskResult\r\n\r\n    },\r\n    created() {\r\n        if ('enter'=== this.type){\r\n            this.projectId = this.uiProjectId\r\n            this.getUiTestTaskFun()\r\n\r\n        }\r\n    }\r\n\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/components/page/uiAutomation/uiTask"}]}