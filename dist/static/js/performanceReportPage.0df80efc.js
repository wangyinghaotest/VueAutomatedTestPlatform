(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["performanceReportPage"],{"090f":function(t,e,r){},"348b":function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"e",(function(){return o})),r.d(e,"m",(function(){return c})),r.d(e,"b",(function(){return l})),r.d(e,"d",(function(){return i})),r.d(e,"l",(function(){return s})),r.d(e,"c",(function(){return p})),r.d(e,"h",(function(){return _})),r.d(e,"f",(function(){return u})),r.d(e,"k",(function(){return d})),r.d(e,"g",(function(){return f})),r.d(e,"i",(function(){return m})),r.d(e,"j",(function(){return b}));var a=r("82f8"),n=function(t){return Object(a["e"])("api/backend/performance_test/performance_script/",t)},o=function(t){return Object(a["c"])("api/backend/performance_test/performance_script/"+t+"/")},c=function(t,e){return Object(a["d"])("api/backend/performance_test/performance_script/"+t+"/",e)},l=function(t){return Object(a["a"])("api/backend/performance_test/performance_script/"+t+"/")},i=function(t,e,r){return Object(a["c"])("api/backend/performance_test/performance_project_script/"+t+"/"+e+"/"+r+"/")},s=function(t,e,r){return Object(a["d"])("api/backend/performance_test/performance_project_script/"+t+"/"+e+"/",r)},p=function(t){return Object(a["c"])("api/backend/performance_test/performance_project_script/script_suspended/"+t+"/")},_=function(t){return Object(a["c"])("api/backend/performance_test/perform_performance_script/"+t+"/")},u=function(t){return Object(a["c"])("api/backend/performance_test/new_perform_performance_script/"+t+"/")},d=function(t){return Object(a["c"])("api/backend/performance_test/performance_script_report/"+t+"/")},f=function(t){return Object(a["d"])("api/backend/performance_test/performance_script_report/",t)},m=function(t,e){return Object(a["a"])("api/backend/performance_test/performance_script_report/"+t+"/"+e)},b=function(t){return Object(a["c"])("api/backend/performance_test/performance_script_report_page/"+t+"/")}},"3f40":function(t,e,r){"use strict";r("090f")},c701:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{overflow:"auto",height:"100%"}},[r("el-row",{staticStyle:{left:"100px"}},[r("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",plain:""},on:{click:t.reportList}},[t._v("报告对比")])],1),r("el-dialog",{attrs:{title:"报告列表",visible:t.report_dialog},on:{"update:visible":function(e){t.report_dialog=e}}},[r("el-table",{attrs:{data:t.report_data},on:{"selection-change":t.check_data_report}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),r("el-table-column",{attrs:{property:"performance_report_id",label:"id",width:"150"}}),r("el-table-column",{attrs:{property:"performance_script_report_name",label:"测试报告名称",width:"200"}}),r("el-table-column",{attrs:{property:"pressure_test_content",label:"压测内容",width:"200"}})],1),r("el-button",{on:{click:t.reportCompared}},[t._v("确定")]),r("el-button",{on:{click:t.cancelReportList}},[t._v("取消")])],1),t._l(t.chartList,(function(t,e){return r("div",{key:e,staticStyle:{top:"20px","margin-top":"20px"}},[r("div",{staticStyle:{width:"90.7%",height:"50vh",left:"100px"},attrs:{id:"chart"+e}})])})),t._l(t.tableData,(function(e){return r("div",{staticStyle:{left:"100px"}},[r("el-table",{staticStyle:{width:"90%","margin-top":"20px",left:"100px","margin-bottom":"50px"},attrs:{data:e.report_list,"header-cell-style":{textAlign:"center"}}},[r("el-table-column",{attrs:{label:"测试报告内容",prop:"test_report_name"}},[r("el-table-column",{attrs:{prop:"test_report_name",label:"测试报告名称"}}),r("el-table-column",{attrs:{prop:"pressure_test_content",label:"压测内容"}})],1),r("el-table-column",{attrs:{label:"Requests"}},[r("el-table-column",{attrs:{prop:"requests_label",label:"label"}})],1),r("el-table-column",{attrs:{label:"Executions(执行)"}},[r("el-table-column",{attrs:{prop:"samples",label:"请求数量"}}),r("el-table-column",{attrs:{prop:"api_error",label:"失败率"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.api_error>"0%"?r("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.api_error))]):r("span",{staticStyle:{color:"#37B328"}},[t._v(t._s(e.row.api_error))])]}}],null,!0)})],1),r("el-table-column",{attrs:{label:"响应时间(ms)"}},[r("el-table-column",{attrs:{prop:"api_average",label:"平均响应"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.api_average>=8e3?r("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.api_average))]):r("span",{staticStyle:{color:"#37B328"}},[t._v(t._s(e.row.api_average))])]}}],null,!0)}),r("el-table-column",{attrs:{prop:"api_min",label:"最小响应"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.api_min>=8e3?r("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.api_min))]):r("span",{staticStyle:{color:"#37B328"}},[t._v(t._s(e.row.api_min))])]}}],null,!0)}),r("el-table-column",{attrs:{prop:"api_max",label:"最大响应"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.api_max>=8e3?r("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.api_max))]):r("span",{staticStyle:{color:"#37B328"}},[t._v(t._s(e.row.api_max))])]}}],null,!0)}),r("el-table-column",{attrs:{prop:"api_median",label:"中位数"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.api_median>=8e3?r("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.api_median))]):r("span",{staticStyle:{color:"#37B328"}},[t._v(t._s(e.row.api_median))])]}}],null,!0)}),r("el-table-column",{attrs:{prop:"api_90",label:"90%"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.api_90>=8e3?r("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.api_90))]):r("span",{staticStyle:{color:"#37B328"}},[t._v(t._s(e.row.api_90))])]}}],null,!0)}),r("el-table-column",{attrs:{prop:"api_95",label:"95%"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.api_95>=8e3?r("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.api_95))]):r("span",{staticStyle:{color:"#37B328"}},[t._v(t._s(e.row.api_95))])]}}],null,!0)}),r("el-table-column",{attrs:{prop:"api_99",label:"99%"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.api_99>=8e3?r("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.api_99))]):r("span",{staticStyle:{color:"#37B328"}},[t._v(t._s(e.row.api_99))])]}}],null,!0)})],1),r("el-table-column",{attrs:{label:"Throughput"}},[r("el-table-column",{attrs:{prop:"api_transactions",label:"吞吐量(s)"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.api_transactions<=10?r("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.api_transactions))]):r("span",{staticStyle:{color:"#37B328"}},[t._v(t._s(e.row.api_transactions))])]}}],null,!0)})],1),r("el-table-column",{attrs:{label:"Network(KB/sec)"}},[r("el-table-column",{attrs:{prop:"api_received",label:"每秒接收数据量"}})],1)],1)],1)})),t._l(t.errorTableData,(function(e){return r("div",[r("el-table",{staticStyle:{width:"90%","margin-top":"20px",left:"100px","margin-bottom":"50px"},attrs:{data:e.jtl_error,"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[r("el-table-column",{attrs:{prop:"jtl_error",label:"是否存在异常"},scopedSlots:t._u([{key:"default",fn:function(e){return[-1!==e.row.jtl_error.indexOf("暂无异常")?r("span",{staticStyle:{color:"#37B328"}},[t._v(t._s(e.row.jtl_error))]):r("span",{staticStyle:{color:"red"}},[t._v(t._s(e.row.jtl_error))])]}}],null,!0)})],1)],1)}))],2)},n=[],o=(r("ac6a"),r("348b")),c=(r("313e"),{name:"performanceReportPage",data:function(){return{chartList:[{}],chartList2:[{}],report_dialog:!1,report_data:[],check_data:[],errorTableData:[{jtl_error:[{jtl_error:""}]}],tableData:[{report_list:[{test_report_name:"",requests_label:"",samples:"",api_error:"",api_min:"",api_max:"",api_median:"",api_90:"",api_95:"",api_99:"",api_transactions:"",api_received:"",api_average:"",pressure_test_content:""}]}],performanceReportScriptId:"",performance_script_id:"",performance_report_id_data:{}}},mounted:function(){this.getPerformanceReportFun()},methods:{initChart:function(){var t=this;this.chartList.forEach((function(e,r){var a=t.$echarts.init(document.getElementById("chart".concat(r)),"dark");a.setOption(t.chartList[r])}))},check_data_report:function(t){console.log(t),this.check_data=t},reportCompared:function(){var t=this;this.report_dialog=!1;var e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(o["g"])(this.check_data).then((function(r){if(!0===r.data.success){t.tableData=r.data.data,t.chartList2=r.data.data,t.errorTableData=r.data.data;for(var a=[],n=0;n<t.chartList2.length;n++)a.push(t.chartList2[n].response_time_varies_over_time);t.chartList=a,t.chartList.length>0&&t.$nextTick((function(){t.initChart()})),e.close()}else t.$message.error("获取接口失败"),e.close()}))},cancelReportList:function(){this.report_dialog=!1},reportList:function(){var t=this;this.report_dialog=!0,Object(o["k"])(this.performance_script_id).then((function(e){!0===e.data.success?t.report_data=e.data.data:t.$message.error("获取接口失败")}))},getPerformanceReportFun:function(){var t=this,e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});Object(o["j"])(this.performanceReportScriptId).then((function(r){if(!0===r.data.success){console.log(r.data.data),t.tableData=r.data.data,t.chartList2=r.data.data,t.errorTableData=r.data.data;for(var a=[],n=0;n<t.chartList2.length;n++)a.push(t.chartList2[n].response_time_varies_over_time);t.chartList=a,t.chartList.length>0&&t.$nextTick((function(){t.initChart()})),e.close()}else t.$message.error(r.data.error.message),e.close()}))}},created:function(){this.performance_script_id=this.$route.query.performanceScriptId,this.performanceReportScriptId=this.$route.query.performanceResultId}}),l=c,i=(r("3f40"),r("2877")),s=Object(i["a"])(l,a,n,!1,null,"01a60a32",null);e["default"]=s.exports}}]);