(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["performanceTask"],{"453f":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"e",(function(){return n})),a.d(t,"b",(function(){return s}));var i=a("82f8"),o=function(){return Object(i["c"])("api/backend/api_project/list/")},r=function(e){return Object(i["e"])("api/backend/api_project/",e)},c=function(e){return Object(i["c"])("api/backend/api_project/"+e+"/")},n=function(e,t){return Object(i["d"])("api/backend/api_project/"+e+"/",t)},s=function(e){return Object(i["a"])("api/backend/api_project/"+e+"/")}},e274:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 性能测试项目 ")]),a("el-breadcrumb-item",[e._v("性能测试项目")])],1)],1),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.addProjectPopup}},[e._v("创建项目")])],1),a("el-dialog",{attrs:{title:"创建项目",visible:e.addApiProjectdialogFormVisible},on:{"update:visible":function(t){e.addApiProjectdialogFormVisible=t}}},[a("el-form",{ref:"addApiProjectFormRef",attrs:{model:e.addApiProjectData,rules:e.rules}},[a("el-form-item",{attrs:{label:"项目名称","label-width":"100px",prop:"api_project_name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addApiProjectData.api_project_name,callback:function(t){e.$set(e.addApiProjectData,"api_project_name",t)},expression:"addApiProjectData.api_project_name"}})],1),a("el-form-item",{attrs:{label:"项目描述","label-width":"100px",prop:"describe"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.addApiProjectData.describe,callback:function(t){e.$set(e.addApiProjectData,"describe",t)},expression:"addApiProjectData.describe"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addApiProjectdialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addApiTestProject}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑项目",visible:e.editApiProjectdialogFormVisible},on:{"update:visible":function(t){e.editApiProjectdialogFormVisible=t}}},[a("el-form",{ref:"editProjectFormRef",attrs:{model:e.editApiProjectData,rules:e.rules}},[a("el-form-item",{attrs:{label:"项目名称","label-width":"100px",prop:"api_project_name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.editApiProjectData.api_project_name,callback:function(t){e.$set(e.editApiProjectData,"api_project_name",t)},expression:"editApiProjectData.api_project_name"}})],1),a("el-form-item",{attrs:{label:"项目描述","label-width":"100px",prop:"describe"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editApiProjectData.describe,callback:function(t){e.$set(e.editApiProjectData,"describe",t)},expression:"editApiProjectData.describe"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editApiProjectdialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editProject}},[e._v("确 定")])],1)],1),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"id",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"api_project_name",label:"项目名称",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"describe",label:"项目描述",width:"180"}}),a("el-table-column",{attrs:{prop:"updata_time",label:"更新时间",width:"180"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.editApiProjectPopup(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteProjectPopup(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)},o=[],r=a("453f"),c={name:"apiProject",data:function(){return{tableData:[],page:{page:1,total:0,size:10},addApiProjectdialogFormVisible:!1,editApiProjectdialogFormVisible:!1,addApiProjectData:{api_project_name:"",describe:""},editApiProjectData:{api_project_name:"",describe:"",id:0},apiProjectId:"",apiProjectData:"",rules:{api_project_name:[{required:!0,message:"请输入名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]}}},methods:{formatter:function(e,t){return e.address},handleEdit:function(e,t){console.log(e,t)},handleDelete:function(e,t){console.log(e,t)},handleSizeChange:function(e){this.page.size=e,this.getApiProjectFun()},handleCurrentChange:function(e){this.page.page=e,this.getApiProjectFun()},getApiProjectFun:function(){var e=this,t={page:this.page.page,size:this.page.size};Object(r["c"])(t).then((function(t){console.log(t),!0===t.data.success?(e.tableData=t.data.data,e.page.total=t.data.data.total,e.page.page=t.data.data.page,e.page.size=t.data.data.size):e.$message.error("获取接口失败")}))},addApiTestProject:function(){var e=this,t=JSON.parse(JSON.stringify(this.addApiProjectData));this.$refs.addApiProjectFormRef.validate((function(a){if(!a)return!1;Object(r["a"])(t).then((function(t){console.log(t),!0===t.data.success?(e.getApiProjectFun(),e.addApiProjectdialogFormVisible=!1,e.$message.success("创建项目成功")):e.$message.error("创建项目失败")}))}))},addProjectPopup:function(){this.addApiProjectData={api_project_name:"",describe:""},this.addApiProjectdialogFormVisible=!0},handleNodeClick:function(e){this.currentServiceId=e.id},editProject:function(){var e=this,t=JSON.parse(JSON.stringify(this.editApiProjectData));this.$refs.editProjectFormRef.validate((function(a){if(console.log(e.apiProjectId),!a)return!1;Object(r["e"])(e.apiProjectId,t).then((function(t){console.log(t),!0===t.data.success?(e.getApiProjectFun(),e.editApiProjectdialogFormVisible=!1,e.$message.info("编辑项目成功")):e.$message.info("编辑项目失败")}))}))},editApiProjectPopup:function(e){var t=this;this.apiProjectId=e.id,this.apiProjectData=e,this.editApiProjectdialogFormVisible=!0,console.log(this.apiProjectId),console.log(this.apiProjectData),Object(r["d"])(this.apiProjectId).then((function(e){console.log(e),!0===e.data.success?(t.editApiProjectData.api_project_name=e.data.data.api_project_name,t.editApiProjectData.describe=e.data.data.describe):t.$message.info("获取接口失败")}))},deleteProjectPopup:function(e){var t=this;this.apiProjectId=e.id,this.apiProjectData=e,console.log(this.apiProjectId),console.log(this.apiProjectData),Object(r["b"])(this.apiProjectId).then((function(e){console.log(e),!0===e.data.success?(t.getApiProjectFun(),t.$message.info("删除项目成功")):t.$message.info("删除项目失败")}))}},created:function(){this.getApiProjectFun()}},n=c,s=a("2877"),l=Object(s["a"])(n,i,o,!1,null,"3c4d6a6e",null);t["default"]=l.exports}}]);