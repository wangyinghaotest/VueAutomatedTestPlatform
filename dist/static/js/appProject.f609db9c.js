(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["appProject"],{"57c3":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-calendar"}),e._v(" App项目 ")]),a("el-breadcrumb-item",[e._v("App项目")])],1)],1),a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.addProjectPopup}},[e._v("创建App项目")])],1),a("el-dialog",{attrs:{title:"创建App项目",visible:e.addProjectdialogFormVisible},on:{"update:visible":function(t){e.addProjectdialogFormVisible=t}}},[a("el-form",{ref:"addProjectFormRef",attrs:{model:e.addProjectData,rules:e.rules}},[a("el-form-item",{attrs:{label:"项目名称","label-width":"100px",prop:"ui_project_name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.addProjectData.ui_project_name,callback:function(t){e.$set(e.addProjectData,"ui_project_name",t)},expression:"addProjectData.ui_project_name"}})],1),a("el-form-item",{attrs:{label:"项目描述","label-width":"100px",prop:"describe"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.addProjectData.describe,callback:function(t){e.$set(e.addProjectData,"describe",t)},expression:"addProjectData.describe"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addProjectdialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addProject}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"编辑项目",visible:e.editProjectdialogFormVisible},on:{"update:visible":function(t){e.editProjectdialogFormVisible=t}}},[a("el-form",{ref:"editProjectFormRef",attrs:{model:e.editProjectData,rules:e.rules}},[a("el-form-item",{attrs:{label:"项目名称","label-width":"100px",prop:"ui_project_name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.editProjectData.ui_project_name,callback:function(t){e.$set(e.editProjectData,"ui_project_name",t)},expression:"editProjectData.ui_project_name"}})],1),a("el-form-item",{attrs:{label:"项目描述","label-width":"100px",prop:"describe"}},[a("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:e.editProjectData.describe,callback:function(t){e.$set(e.editProjectData,"describe",t)},expression:"editProjectData.describe"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editProjectdialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editProject}},[e._v("确 定")])],1)],1),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"id",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"ui_project_name",label:"项目名称",sortable:"",width:"180"}}),a("el-table-column",{attrs:{prop:"describe",label:"项目描述",width:"180"}}),a("el-table-column",{attrs:{prop:"updata_time",label:"更新时间",width:"180"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.editProjectPopup(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteProjectPopup(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)},r=[],i=a("8b67"),c={name:"AppProject",data:function(){return{tableData:[],page:{page:1,total:0,size:10},addProjectdialogFormVisible:!1,editProjectdialogFormVisible:!1,addProjectData:{ui_project_name:"",describe:""},editProjectData:{ui_project_name:"",describe:"",id:0},projectId:"",projectData:"",rules:{ui_project_name:[{required:!0,message:"请输入名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]}}},methods:{formatter:function(e,t){return e.address},handleEdit:function(e,t){console.log(e,t)},handleDelete:function(e,t){console.log(e,t)},handleSizeChange:function(e){this.page.size=e,this.getUiProjectFun()},handleCurrentChange:function(e){this.page.page=e,this.getUiProjectFun()},getUiProjectFun:function(){var e=this,t={page:this.page.page,size:this.page.size};Object(i["d"])(t).then((function(t){console.log(t),!0===t.data.success?(e.tableData=t.data.data,e.page.total=t.data.data.total,e.page.page=t.data.data.page,e.page.size=t.data.data.size):e.$message.error("获取接口失败")}))},addProject:function(){var e=this,t=JSON.parse(JSON.stringify(this.addProjectData));this.$refs.addProjectFormRef.validate((function(a){if(!a)return!1;Object(i["a"])(t).then((function(t){console.log(t),!0===t.data.success?(e.getUiProjectFun(),e.addProjectdialogFormVisible=!1,e.$message.success("创建项目成功")):e.$message.error("创建项目失败")}))}))},addProjectPopup:function(){this.addProjectData={ui_project_name:"",describe:""},this.addProjectdialogFormVisible=!0},handleNodeClick:function(e){this.currentServiceId=e.id},editProject:function(){var e=this,t=JSON.parse(JSON.stringify(this.editProjectData));this.$refs.editProjectFormRef.validate((function(a){if(console.log(e.projectId),!a)return!1;Object(i["e"])(e.projectId,t).then((function(t){console.log(t),!0===t.data.success?(e.getUiProjectFun(),e.editProjectdialogFormVisible=!1,e.$message.success("编辑项目成功")):e.$message.error("编辑项目失败")}))}))},editProjectPopup:function(e){var t=this;this.projectId=e.id,this.projectData=e,this.editProjectdialogFormVisible=!0,console.log(this.projectId),console.log(this.projectData),Object(i["c"])(this.projectId).then((function(e){console.log(e),!0===e.data.success?(t.editProjectData.ui_project_name=e.data.data.ui_project_name,t.editProjectData.describe=e.data.data.describe):t.$message.error("获取接口失败")}))},deleteProjectPopup:function(e){var t=this;this.projectId=e.id,this.projectData=e,console.log(this.projectId),console.log(this.projectData),Object(i["b"])(this.projectId).then((function(e){console.log(e),!0===e.data.success?(t.getUiProjectFun(),t.$message.success("删除项目成功")):t.$message.error("删除项目失败")}))}},created:function(){this.getUiProjectFun()}},s=c,n=a("2877"),l=Object(n["a"])(s,o,r,!1,null,"0cdcfe66",null);t["default"]=l.exports},"8b67":function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return n}));var o=a("82f8"),r=function(){return Object(o["c"])("api/backend/ui_project/list/")},i=function(e){return Object(o["e"])("api/backend/ui_project/",e)},c=function(e){return Object(o["c"])("api/backend/ui_project/"+e+"/")},s=function(e,t){return Object(o["d"])("api/backend/ui_project/"+e+"/",t)},n=function(e){return Object(o["a"])("api/backend/ui_project/"+e+"/")}}}]);